;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="a689c764-cc96-7d26-a892-a02f77bef16d")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1918911,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.7071 2.39644C8.31658 2.00592 7.68341 2.00592 7.29289 2.39644L4.46966 5.21966L3.93933 5.74999L4.99999 6.81065L5.53032 6.28032L7.99999 3.81065L10.4697 6.28032L11 6.81065L12.0607 5.74999L11.5303 5.21966L8.7071 2.39644ZM5.53032 9.71966L4.99999 9.18933L3.93933 10.25L4.46966 10.7803L7.29289 13.6035C7.68341 13.9941 8.31658 13.9941 8.7071 13.6035L11.5303 10.7803L12.0607 10.25L11 9.18933L10.4697 9.71966L7.99999 12.1893L5.53032 9.71966Z" fill="currentColor"/>');e.s(["ChevronUpDown",0,t])},9429910,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM6.25002 7H7.00002H7.75C8.30229 7 8.75 7.44772 8.75 8V11.5V12.25H7.25V11.5V8.5H7.00002H6.25002V7ZM8 6C8.55229 6 9 5.55228 9 5C9 4.44772 8.55229 4 8 4C7.44772 4 7 4.44772 7 5C7 5.55228 7.44772 6 8 6Z" fill="currentColor"/>');e.s(["InformationFill",0,t])},5927860,e=>{"use strict";var t,s,r=((t={}).Production="production",t.Preview="preview",t.Development="development",t);function i(e){return Object.values(r).includes(e)}var o=((s={}).Plain="plain",s.Secret="secret",s.System="system",s.Encrypted="encrypted",s.Sensitive="sensitive",s);e.s(["ENV_VAR_COMMENT_MAX_LENGTH",0,500,"EnvTarget",()=>r,"EnvType",()=>o,"isSystemEnvTarget",()=>i])},4298868,e=>{"use strict";var t=e.i(7909933),s=e.i(8042625),r=e.i(277234),i=e.i(4244280),o=e.i(5338940),n=e.i(1717203),a=e.i(7557283);function l(e,s,i){let{isReady:l,team:u}=(0,o.useTeam)(i),{can:d,isLoading:p}=(0,n.default)(),x=d(a.Action.Read,a.Resource.ProjectEnvVars),m=e&&l&&!p&&x;return(0,t.default)(()=>m?c(e,u?.id):"",e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),s)}function c(e,t){return`${(0,i.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}/env${(0,s.encode)({teamId:t})}`}e.s(["default",()=>l,"getUseProjectEnvsSWRKey",()=>c])},7674801,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<g clip-path="url(#clip0_872_3147)">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.57879 0 7.99729C0 11.5361 2.29 14.5251 5.47 15.5847C5.87 15.6547 6.02 15.4148 6.02 15.2049C6.02 15.0149 6.01 14.3851 6.01 13.7154C4 14.0852 3.48 13.2255 3.32 12.7757C3.23 12.5458 2.84 11.836 2.5 11.6461C2.22 11.4961 1.82 11.1262 2.49 11.1162C3.12 11.1062 3.57 11.696 3.72 11.936C4.44 13.1455 5.59 12.8057 6.05 12.5957C6.12 12.0759 6.33 11.726 6.56 11.5261C4.78 11.3262 2.92 10.6364 2.92 7.57743C2.92 6.70773 3.23 5.98797 3.74 5.42816C3.66 5.22823 3.38 4.40851 3.82 3.30888C3.82 3.30888 4.49 3.09895 6.02 4.1286C6.66 3.94866 7.34 3.85869 8.02 3.85869C8.7 3.85869 9.38 3.94866 10.02 4.1286C11.55 3.08895 12.22 3.30888 12.22 3.30888C12.66 4.40851 12.38 5.22823 12.3 5.42816C12.81 5.98797 13.12 6.69773 13.12 7.57743C13.12 10.6464 11.25 11.3262 9.47 11.5261C9.76 11.776 10.01 12.2558 10.01 13.0056C10.01 14.0752 10 14.9349 10 15.2049C10 15.4148 10.15 15.6647 10.55 15.5847C12.1381 15.0488 13.5182 14.0284 14.4958 12.6673C15.4735 11.3062 15.9996 9.67293 16 7.99729C16 3.57879 12.42 0 8 0Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_872_3147">
  <rect width="16" height="16" fill="white"/>
  </clipPath>
  </defs>`);e.s(["LogoGithub",0,t])},3025777,e=>{"use strict";var t=e.i(8711407),s=e.i(1176592),r=e.i(7674801),i=e.i(76079);let o=e=>{let{username:s,size:o=30,showIcon:n=!0,iconSize:a=14,iconBackground:l=!0,icon:c=(0,t.jsx)(r.LogoGithub,{className:"text-[#000000]",height:a,width:a}),lazy:u=!1,...d}=e;s||(s="404");let p=s&&`https://avatars.githubusercontent.com/${s.replace("[bot]","")}?s=${2*o}`;return(0,t.jsx)(i.AvatarWithIcon,{gitType:"github",icon:n?c:null,iconBackground:l,lazy:u,size:o,src:p,...d})};o.displayName="GitHubAvatar";let n=(0,s.memo)(o);e.s(["GitHubAvatar",0,n])},3896588,e=>{"use strict";var t=e.i(8711407),s=e.i(1176592),r=e.i(76079);let i=e=>{let{url:s,size:i=30,showIcon:o=!0,iconSize:n=14,iconBackground:a=!0,lazy:l=!1,...c}=e;return s&&(c=Object.assign(c,{src:s})),(0,t.jsx)(r.AvatarWithIcon,{gitType:"gitlab",icon:o?(0,t.jsxs)("svg",{"aria-label":"gitlab",height:n,style:{color:"white"},viewBox:"0 0 24 22",width:n,children:[(0,t.jsx)("path",{d:"M1.279 8.29L.044 12.294c-.117.367 0 .78.325 1.014l11.323 8.23-.009-.012-.03-.039L1.279 8.29zM22.992 13.308a.905.905 0 00.325-1.014L22.085 8.29 11.693 21.52l11.299-8.212z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M1.279 8.29l10.374 13.197.03.039.01-.006L22.085 8.29H1.28z",fill:"currentColor",opacity:"0.4"}),(0,t.jsx)("path",{d:"M15.982 8.29l-4.299 13.236-.004.011.014-.017L22.085 8.29h-6.103zM7.376 8.29H1.279l10.374 13.197L7.376 8.29z",fill:"currentColor",opacity:"0.6"}),(0,t.jsx)("path",{d:"M18.582.308l-2.6 7.982h6.103L19.48.308c-.133-.41-.764-.41-.897 0zM1.279 8.29L3.88.308c.133-.41.764-.41.897 0l2.6 7.982H1.279z",fill:"currentColor",opacity:"0.4"})]}):null,iconBackground:a,lazy:l,size:i,...c})};i.displayName="GitLabAvatar";let o=(0,s.memo)(i);e.s(["GitLabAvatar",0,o])},6683690,e=>{"use strict";var t=e.i(8711407),s=e.i(1176592),r=e.i(76079);let i=(0,s.memo)(e=>{let{size:s=30,showIcon:i=!0,iconSize:o=14,iconBackground:n=!0,lazy:a=!1,...l}=e;return(0,t.jsx)(r.AvatarWithIcon,{gitType:"bitbucket",icon:i?(0,t.jsxs)("svg",{height:o,viewBox:"-2 -2 65 59",width:o,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"bitbucket-:r3:",x1:"104.953%",x2:"46.569%",y1:"21.921%",y2:"75.234%",children:[(0,t.jsx)("stop",{offset:"7%","stop-color":"currentColor","stop-opacity":".4"}),(0,t.jsx)("stop",{offset:"100%","stop-color":"currentColor"})]})}),(0,t.jsx)("path",{d:"M59.696 18.86h-18.77l-3.15 18.39h-13L9.426 55.47a2.71 2.71 0 001.75.66h40.74a2 2 0 002-1.68l5.78-35.59z",fill:"url(#bitbucket-:r3:)",fillRule:"nonzero",transform:"translate(-.026 .82)"}),(0,t.jsx)("path",{d:"M2 .82a2 2 0 00-2 2.32l8.49 51.54a2.7 2.7 0 00.91 1.61 2.71 2.71 0 001.75.66l15.76-18.88H24.7l-3.47-18.39h38.44l2.7-16.53a2 2 0 00-2-2.32L2 .82z",fill:"currentColor",fillRule:"nonzero"})]}):null,iconBackground:n,lazy:a,size:s,...l})});e.s(["BitbucketAvatar",0,i])},2652226,e=>{"use strict";var t=e.i(8711407),s=e.i(9722978),r=e.i(6362863),i=e.i(57106),o=e.i(4450569),n=e.i(6143247),a=e.i(60582);e.s(["default",0,function(e){let{backLink:l,breadcrumbs:c,buttons:u,buttonsClassName:d,buttonsStackStyle:p={},children:x,className:m,columnClassName:h,containerStyle:f={},controls:g,darkFold:y,description:j,fullWidth:v,headerClassName:C,hideControlsOnMobile:b,message:R,noBorder:w=!1,noMargin:A,title:T,titleClassName:S,truncateTitle:N,updatedStyles:P,unauthenticated:M=!1,dashPreventButtonPortaling:L=!1}=e;return M||!a.IS_DASH||L?(0,t.jsxs)("div",{className:(0,s.clsx)(m),style:f,children:[(0,t.jsxs)("header",{className:(0,n.cn)(C,"text-gray-1000",{"w-auto px-[var(--geist-gap)]":v,"border-0 border-b border-solid border-b-gray-alpha-400":!w,"bg-background-200":P}),children:[(0,t.jsx)(o.default,{wrapper:!v,children:(0,t.jsxs)("div",{className:(0,n.cn)("flex flex-col lg:flex-row items-stretch md:items-start lg:items-center justify-start gap-6 lg:gap-10 flex-initial mx-0 my-10",S),children:[(0,t.jsxs)("div",{className:(0,s.clsx)("flex flex-col items-stretch justify-start flex-1 w-full gap-4",N?"min-w-0":void 0,h),children:[l?(0,t.jsx)(i.Link,{className:"w-max",href:l.href,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(r.ArrowLeft,{color:"blue-900"}),(0,t.jsx)("p",{className:"text-label-14 text-blue-900",children:l.label})]})}):null,c,"string"==typeof T?(0,t.jsx)("h1",{className:(0,s.clsx)("text-[32px] leading-[40px] tracking-[-0.79px] font-medium",N?"truncate":"text-wrap"),title:N?T:void 0,children:T}):T,!!j&&(0,t.jsx)("span",{className:"text-gray-900",children:j})]}),!!u&&(0,t.jsx)("div",{className:(0,s.clsx)("flex flex-col items-stretch justify-start gap-4 flex-initial flex-wrap","flex-col md:flex-row",d),style:{...p},children:u})]})}),R?(0,t.jsx)("div",{className:(0,n.cn)("mx-auto my-0 w-[var(--geist-page-width-with-margin)] max-w-full px-6 py-0",{"w-auto":v}),children:R}):null,g?(0,t.jsx)("div",{className:(0,n.cn)("mx-auto my-0 flex w-[var(--geist-page-width-with-margin)] max-w-full flex-row items-center justify-between p-0",{"w-auto":v,"justify-center md:justify-between":!g||b}),children:g?(0,t.jsx)("div",{className:(0,n.cn)("grow",{"hidden md:block":b}),children:g}):(0,t.jsx)("div",{})}):null]}),y||x?(0,t.jsx)("div",{className:(0,s.clsx)({"bg-background-200 px-0 py-6":y}),children:(0,t.jsx)("div",{className:(0,n.cn)("mx-auto my-6 min-h-[calc(100vh-366px)] w-[var(--geist-page-width-with-margin)] max-w-full px-6 py-0 md:min-h-[calc(100vh-273px)]",{"w-auto p-0":v,"mt-0":!!A,"flex flex-col my-0":y}),children:x})}):null]}):(0,t.jsx)("div",{className:"py-10 px-6 empty:h-4 empty:p-0",children:x})}])},3850869,e=>{"use strict";var t=e.i(8711407),s=e.i(7567269),r=e.i(4585051),i=e.i(57106),o=e.i(119294),n=e.i(6352514);function a(e){let{team:a,resource:l,title:c="Additional Permissions Required",customMessage:u,className:d}=e,p=a?.membership?.role??"",x=(0,s.default)(p.replaceAll("_"," "));return(0,t.jsxs)("div",{className:`flex flex-col items-center justify-center gap-4 flex-initial ${d??"min-h-56 rounded border border-solid border-gray-200 bg-background-200"}`,children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-center",children:c}),(0,t.jsx)("p",{className:"text-copy-14 text-center max-w-[720px] break-words",children:p?(0,t.jsxs)(t.Fragment,{children:["As a ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium",children:x})," user on the ",(0,t.jsx)(r.Avatar,{size:20,teamId:a?.id??""}),(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium",children:` ${a?.name??""}`})," team, ",u||`you do not have permission to view ${l}.`]}):`You do not have permission to view ${l}.`}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900 text-center break-words pt-2",children:["Learn more about"," ",(0,t.jsx)(i.Link,{external:!0,href:"/docs/rbac/access-roles",onClick:()=>{o.analytics.track(n.AnalyticsEvent.PERMISSIONS_CLICKED_LEARN_MORE)},type:"highlight",children:"Roles and Permissions"})]})]})}e.s(["AdditionalPermissionsRequired",()=>a])},8544664,e=>{"use strict";var t=e.i(1176592);function s(e,s){return(0,t.useEffect)(()=>{"number"==typeof s&&localStorage?.setItem(e,String(s))},[e,s]),(0,t.useMemo)(()=>{if("number"==typeof s)return s;let t=localStorage?.getItem(e);return t?Number(t):null},[s,e])}e.s(["usePlaceholderCount",()=>s])},2782729,e=>{"use strict";var t=e.i(3798983);function s(e){let{start:t,end:s}=e;return t&&s&&s-t>31536e6?{start:t,end:t+31536e6}:{start:t,end:s}}function r(e,s){let r="";return"integration"===e?s?.type==="integration"&&(r=s.product.name):r=t.storeTitleFull[e],r}function i(e){return"integration"===e.type?e.product.iconUrl:void 0}function o(e){return void 0!==e&&e.length>0}function n(e){let{integration:t,storesData:s}=e;return!1}function a(e){let{teamSlug:t,projectSlug:s}=e;return s?`/${t}/${s}/stores`:`/${t}/~/stores`}e.s(["getStoreIcon",()=>i,"getStoreOverviewPath",()=>a,"getStoreTitle",()=>r,"hasProjectSlug",()=>o,"isIntegrationStoreDisabled",()=>n,"maximumOneYearRange",()=>s])},1721982,e=>{"use strict";var t=e.i(8711407),s=e.i(2504781),r=e.i(5468328),i=e.i(1176592),o=e.i(4110479),n=e.i(5338940),a=e.i(1717203),l=e.i(7557283),c=e.i(455575),u=e.i(7837522),d=e.i(7780974),p=e.i(3089600),x=e.i(4011256),m=e.i(7589392);let h="Add Drain";function f(e){let{teamSlug:f,projectIdOrSlug:g,size:y,type:j,onDrainCreated:v}=e,C=function(e){let{teamSlug:t,projectIdOrSlug:s}=e,{isOpen:r,drain:m,closeModal:h,setIsOpen:f}=(0,o.useDrainModalContext)(),{team:g,isLoading:y}=(0,n.useTeam)(),{can:j,isLoading:v}=(0,a.default)(),{success:C}=(0,c.useToasts)(),{track:b}=(0,u.useTrackActivity)(),[R,w]=(0,i.useState)(void 0),A=(0,i.useRef)(void 0),T=g?.billing?.plan==="hobby",S=g?.billing?.plan==="pro"&&"trialing"===g.billing.status,N=j(l.Action.Create,l.Resource.Drain)&&!(T||S),P=y||v,M=(0,i.useCallback)(e=>{b(d.VercelActivityAction.DrainsModalOpened,{source:e}),A.current=e,f(!0)},[b,f]),L=(0,i.useCallback)(e=>{b(d.VercelActivityAction.DrainsModalConverted,{source:A.current,drainType:e.drainType,kind:e.kind,isLegacy:e.isLegacy}),A.current=void 0},[b]),k=(0,i.useCallback)(e=>{A.current=e},[]),I=(0,i.useCallback)(e=>{C({text:"Drain successfully added",action:"Open integration page",actionHref:(0,x.getInstallationDetailsLink)({teamSlug:t,configurationId:e.id,integrationSlug:e.slug,isMarketplace:!1})})},[t,C]);return(0,p.default)("create",(e,t)=>{"1"===e&&w(t?.source??"query-create")},["source"]),(0,i.useEffect)(()=>{R&&!P&&(N&&M(R),w(void 0))},[R,M,P,N]),{isOpen:r,drain:m,closeModal:h,setIsOpen:f,isLoading:P,canAccess:N,isHobby:T,isProTrial:S,teamSlug:t,projectIdOrSlug:s,openDrainsModal:M,onDrainCreated:L,setLastSource:k,handleExternalIntegrationInstalled:I}}({teamSlug:f,projectIdOrSlug:g});return C.isLoading?(0,t.jsx)(s.Button,{size:y,type:j,disabled:!0,children:h}):C.canAccess?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Button,{size:y,type:j,onClick:()=>C.openDrainsModal("connect-resource-button"),children:h}),(0,t.jsx)(m.DrainModals,{isOpen:C.isOpen,closeModal:C.closeModal,teamSlug:f,projectIdOrSlug:g,onDrainCreated:async e=>{C.onDrainCreated(e),await v?.(e)},drain:C.drain})]}):(0,t.jsx)(r.Tooltip,{desktopOnly:!0,text:C.isHobby||C.isProTrial?"Upgrade your plan to enable Drains":"You need additional permissions to enable Drains for your team",children:(0,t.jsx)(s.Button,{size:y,type:j,disabled:!0,children:h})})}function g(e){let{teamSlug:s,projectIdOrSlug:r,resource:i,size:n,type:a,onDrainCreated:l}=e;return(0,t.jsx)(o.DrainModalProvider,{initialResource:i,children:(0,t.jsx)(f,{teamSlug:s,projectIdOrSlug:r,size:n,type:a,onDrainCreated:l})})}e.s(["AddDrainButton",()=>g],1721982)},7114720,e=>{"use strict";var t=e.i(8711407),s=e.i(3758860),r=e.i(1721982),i=e.i(2111701);function o(e){let{resource:o,teamSlug:n,projectSlug:a,size:l,type:c,onDrainCreated:u}=e;if(!o||"integration"!==o.type||!(0,s.supportsAnyDrainProtocol)(o.product))return null;let d=async()=>{let e=new URLSearchParams;e.set("teamId",n),e.set("includeMetadata","true");let t=e.toString(),s=`/v1/integrations/marketplace/resources/${o.id}/drains?${t}`;await (0,i.mutate)(s),u&&await u()};return(0,t.jsx)(r.AddDrainButton,{resource:o,teamSlug:n,projectIdOrSlug:a,size:l,type:c,onDrainCreated:d})}function n(e){return e?.type==="integration"&&(0,s.supportsAnyDrainProtocol)(e.product)}e.s(["MarketplaceAddDrainButton",()=>o,"isDrainResourceWithFlag",()=>n])},7897830,e=>{"use strict";var t=e.i(1176592),s=e.i(7849855),r=e.i(39509),i=e.i(328065);function o(e){let{onSuccess:o}=e,n=(0,t.useContext)((0,i.getResourceModalsContext)());if(!n)throw Error("useResourceModals must be used within a CreateResourceModalProvider");let{hasProject:a}=(0,s.useProjectAndTeamSlug)(),{dispatch:l,state:c}=n,u=(0,t.useRef)(null),d=n.state.steps.some(e=>e===r.ResourceModalsActionTypes.CreateEnvs),p=n.state.steps.some(e=>e===r.ResourceModalsActionTypes.CreateResource);return(0,t.useEffect)(()=>{u.current&&p&&c.resource&&!c.isConnected&&(u.current(c.resource),u.current=null),o&&c.resource&&(!d||c.isConnected)&&o(c.resource)},[l,o,c.isConnected,c.resource,c.type,d,p]),(0,t.useEffect)(()=>{c.type===r.ResourceModalsActionTypes.ModalClosed&&u.current&&(u.current=null)},[c.type]),{openCreateResource:(e,t)=>{l({type:"open-create-resource",resourceWithProduct:e}),u.current=t||null},openConnectProject:(e,t)=>{l({type:"open-create-envs",resource:e,connection:t})},openDisconnectProject:(e,t)=>{l({type:"open-delete-envs",resource:e,resourceId:e.id,connections:t})},openBrowseProducts:e=>{a?l({type:"open-browse-products-or-select-resources",tab:e}):l({type:"open-browse-products"})}}}e.s(["useResourceModals",()=>o])},6864621,e=>{"use strict";var t=e.i(7909933);function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{data:s,mutate:r}=(0,t.default)("showCreateDatabaseModal",null,{fallbackData:e});return{showCreateDatabaseModal:s,setShowCreateDatabaseModal:r}}e.s(["useCreateDatabaseModal",()=>s])},3788585,e=>{"use strict";var t=e.i(8711407),s=e.i(1176592),r=e.i(553769),i=e.i(57106);function o(e){let{buttonCaption:o,integrations:n,showHeader:a=!0}=e,l=n.map(e=>e.name),c=l.length>1?`${l.slice(0,-1).join(", ")}, and ${l[l.length-1]}`:l[0];return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[a?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Accept Terms & Conditions"}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:['By clicking "',o,'", you agree to:']})]}):(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:['By clicking "',o,'", you agree to:']}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.Link,{external:!0,href:"/legal/integration-marketplace-end-users-addendum",type:"primary",children:"Vercel Integration Marketplace End User Addendum"})}),n.map(e=>(0,t.jsxs)(s.default.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.Link,{external:!0,href:e.eulaDocUri,type:"primary",children:(0,r.isAwsIntegration)(e)?`${e.name} Customer Agreement`:`${e.name} EULA`})}),(0,t.jsx)("li",{children:(0,t.jsxs)(i.Link,{external:!0,href:e.privacyDocUri,type:"primary",children:[e.name," Privacy Policy"]})})]},e.id))]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14 text-xs",children:["Vercel may share certain information from your account such as your"," ",(0,t.jsx)("span",{className:"font-medium",children:"Vercel ID"}),","," ",(0,t.jsx)("span",{className:"font-medium",children:"email address"}),", or"," ",(0,t.jsx)("span",{className:"font-medium",children:"usage data"})," with"," ",c,"."]}),(0,t.jsxs)("p",{className:"text-copy-14 text-xs",children:["See"," ",n.map((e,r)=>(0,t.jsxs)(s.default.Fragment,{children:[(0,t.jsxs)(i.Link,{href:e.privacyDocUri,external:!0,target:"_blank",type:"primary",children:[e.name,"'s Privacy Policy"]}),r<n.length-1&&(r===n.length-2?", and ":", ")]},e.id))," ","for how your information may be used."]}),n.some(e=>(0,r.isAwsIntegration)(e))?(0,t.jsxs)("p",{className:"text-copy-14 text-xs",children:['AWS will receive account data such as browser information and usage patterns for fraud prevention purposes. Click "',o,'" to proceed.']}):null]})]})}e.s(["TermsAndConditions",()=>o])},7512194,e=>{"use strict";var t=e.i(8711407),s=e.i(1176592),r=e.i(7849855),i=e.i(39509),o=e.i(328065),n=e.i(3758860),a=e.i(6864621);let l={active:!1,modalKey:0,type:i.ResourceModalsActionTypes.ModalClosed,steps:[]};function c(e){let{children:c,Modal:u,protocolType:d}=e,{showCreateDatabaseModal:p,setShowCreateDatabaseModal:x}=(0,a.useCreateDatabaseModal)(),{hasProject:m}=(0,r.useProjectSlug)(),h=(0,s.useCallback)(()=>{x(!1)},[x]),f=(0,s.useCallback)((e,t)=>(function(e){let{hasProject:t,onClose:s}=e;return(e,r)=>{if(!r.type.startsWith("open-")&&"animation-done"!==r.type&&"resource-updated"!==r.type&&e.type===i.ResourceModalsActionTypes.ModalClosed)throw Error(`Cannot handle action "${r.type}" without opening the modal`);switch(r.type){case`open-${i.ResourceModalsActionTypes.BrowseProducts}`:return{modalKey:e.modalKey,type:i.ResourceModalsActionTypes.BrowseProducts,steps:[i.ResourceModalsActionTypes.BrowseProducts,i.ResourceModalsActionTypes.CreateResource],active:!0};case`open-${i.ResourceModalsActionTypes.BrowseProductsOrSelectResources}`:return{modalKey:e.modalKey,type:i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,steps:[i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,i.ResourceModalsActionTypes.CreateResource,i.ResourceModalsActionTypes.CreateEnvs],tab:r.tab,active:!0};case`go-to-step-${i.ResourceModalsActionTypes.CreateResource}`:case`open-${i.ResourceModalsActionTypes.CreateResource}`:{let s=e.steps,o="integration"===r.resourceWithProduct.type&&(0,n.showProjectConnectionAfterResourceCreation)(r.resourceWithProduct.product),a="integration"===r.resourceWithProduct.type&&(0,n.supportsAnyDrainProtocol)(r.resourceWithProduct.product);if("open-create-resource"===r.type&&(s=(t||o)&&!a?[i.ResourceModalsActionTypes.CreateResource,i.ResourceModalsActionTypes.CreateEnvs]:[i.ResourceModalsActionTypes.CreateResource]),"go-to-step-create-resource"!==r.type||!o||s.includes(i.ResourceModalsActionTypes.CreateEnvs)||a||s.push(i.ResourceModalsActionTypes.CreateEnvs),0===s.length||s[0]===i.ResourceModalsActionTypes.CreateEnvs||s[0]===i.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${s.join(",")}" for action "${r.type}"`);let{resourceWithProduct:l}=r;return{modalKey:e.modalKey,type:i.ResourceModalsActionTypes.CreateResource,resourceWithProduct:l,backOrCancelLabel:s[0]===i.ResourceModalsActionTypes.CreateResource?"Cancel":"Go Back",steps:s,active:!0}}case`go-to-step-${i.ResourceModalsActionTypes.CreateEnvs}`:case`open-${i.ResourceModalsActionTypes.CreateEnvs}`:{let t=e.steps,s="Cancel";if("open-create-envs"===r.type?t=[i.ResourceModalsActionTypes.CreateEnvs]:e.type===i.ResourceModalsActionTypes.BrowseProductsOrSelectResources&&(s="Go Back"),0===t.length||t[0]===i.ResourceModalsActionTypes.CreateResource&&t[1]!==i.ResourceModalsActionTypes.CreateEnvs||t[0]===i.ResourceModalsActionTypes.BrowseProducts&&!(0,n.showProjectConnectionAfterResourceCreation)(e.resource)||t[0]===i.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${t.join(",")}" for action "${r.type}"`);return{backOrCancelLabel:s,modalKey:e.modalKey,type:i.ResourceModalsActionTypes.CreateEnvs,resource:r.resource,connection:"connection"in r?r.connection:void 0,steps:t,active:!0}}case"browse-products-or-select-resources-switch-tabs":if(e.type!==i.ResourceModalsActionTypes.BrowseProductsOrSelectResources)throw Error('Cannot switch tabs outside of the "browse-stores-or-select-existing" step');return{modalKey:e.modalKey,steps:e.steps,type:e.type,tab:r.tab,active:!0};case"back":if(e.type===i.ResourceModalsActionTypes.CreateEnvs&&"Go Back"===e.backOrCancelLabel&&e.steps[0]===i.ResourceModalsActionTypes.BrowseProductsOrSelectResources)return{modalKey:e.modalKey,steps:e.steps,type:i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-existing",active:!0};if("create-resource"===e.type)switch(e.steps[0]){case i.ResourceModalsActionTypes.BrowseProductsOrSelectResources:return{modalKey:e.modalKey,steps:e.steps,type:i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-new",active:!0};case i.ResourceModalsActionTypes.BrowseProducts:return{modalKey:e.modalKey,steps:e.steps,type:i.ResourceModalsActionTypes.BrowseProducts,active:!0}}return s(),{...e,active:!1};case"close":return s(),{...e,active:!1};case"animation-done":return{...l,modalKey:e.modalKey+1};case"resource-updated":if(e.type===i.ResourceModalsActionTypes.ModalClosed)return e;return{...e,resource:r.resource,isConnected:r.isConnected};case"open-delete-envs":return{...e,active:!0,resource:r.resource,resourceId:r.resourceId,connections:r.connections,type:i.ResourceModalsActionTypes.DeleteEnvs,steps:[i.ResourceModalsActionTypes.DeleteEnvs]}}}})({hasProject:m,onClose:h})(e,t),[m,h]),[g,y]=(0,s.useReducer)(f,l);(0,s.useEffect)(()=>{p&&(m?y({type:"open-browse-products-or-select-resources",tab:"browse-new"}):y({type:"open-browse-products"}))},[p,y,m]);let j=(0,s.useMemo)(()=>({state:g,dispatch:y,protocolType:d}),[g,d]),v=(0,o.getResourceModalsContext)();return(0,t.jsxs)(v.Provider,{value:j,children:[u,c]})}e.s(["ResourceModalsProviderBase",()=>c])},5313122,e=>{"use strict";var t=e.i(8711407),s=e.i(1176592),r=e.i(8674454),i=e.i(6694387),o=e.i(4991687),n=e.i(8459493),a=e.i(57106),l=e.i(1918911),c=e.i(9722978),u=e.i(4004502),d=e.i(5927860),p=e.i(9668517),x=e.i(6048771),m=e.i(7849855),h=e.i(1919132),f=e.i(8020240);function g(e){return e===d.EnvTarget.Production?"Production":e===d.EnvTarget.Preview?"Preview":"Development"}function y(e){let{environments:s,className:r}=e,i=s?.length===3?"All Environments":s?.map(g).join(", ");return(0,t.jsx)("p",{className:`text-copy-13-mono text-gray-900 truncate ${(0,c.clsx)("whitespace-nowrap rounded bg-gray-200 px-1 text-sm",r)}`,title:i,children:i})}function j(e){let{projectConnections:s,teamOrUserSlug:c}=e;return(0,t.jsxs)(o.MenuContainer,{children:[(0,t.jsx)(i.MenuButton,{className:"geist-show-on-mobile",size:"small",type:"secondary",children:"Show Connections"}),(0,t.jsx)(i.MenuButton,{className:"geist-hide-on-mobile mx-0",size:"small",type:"tertiary",children:(0,t.jsx)(l.ChevronUpDown,{color:"gray-700"})}),(0,t.jsx)(r.Menu,{className:"min-h-[10dvh] max-w-full md:min-h-0 md:max-w-[480px]",width:"auto",children:s.map(e=>(0,t.jsx)(n.MenuItem,{Component:a.Link,"data-testid":(0,u.tid)("project-store","item"),href:`/${c?`${c}/`:""}${encodeURIComponent(e.name)}`,isLink:!0,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 flex-1 min-w-20 max-w-full",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(x.ProjectLogo,{deploymentId:e.latestDeployment,framework:e.framework,project:e,size:18}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000 truncate min-w-20 max-w-[50%]",title:e.name,children:e.name})]}),(0,h.isLogDrainInConnection)(e)?(0,t.jsx)(f.LogDrainConnection,{connection:e}):(0,t.jsx)(y,{environments:e.environments})]})},e.id))})]})}function v(e){let{projectConnections:r}=e,i=(0,p.useTeamSlug)(),{projectSlug:o,hasProject:n}=(0,m.useProjectSlug)(),{currentProjectConnection:l}=(0,s.useMemo)(()=>({currentProjectConnection:r.find(e=>e.name===o)}),[o,r]),d=r[0];return(0,t.jsxs)(t.Fragment,{children:[n&&l?(0,t.jsx)(y,{className:"geist-hide-on-mobile",environments:l.environments}):(0,t.jsx)(a.ButtonLink,{className:(0,c.clsx)("geist-hide-on-mobile m-0 -mx-1 h-6 min-w-20 bg-background-200 !px-1 text-sm","hover:!bg-gray-200 [&>svg]:-ml-1"),"data-testid":(0,u.tid)("project-store","item"),href:`/${i?`${i}/`:""}${encodeURIComponent(d.name)}`,size:"small",type:"tertiary",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial p-px",children:[(0,t.jsx)(x.ProjectLogo,{deploymentId:d.latestDeployment,framework:d.framework,project:{id:d.projectId},size:18}),(0,t.jsx)("p",{className:"text-[13px] leading-[18px] font-medium text-gray-1000 truncate",children:d.name})]})}),(0,t.jsx)(j,{projectConnections:r,teamOrUserSlug:i})]})}e.s(["ProjectConnectionsAssigned",()=>v])},4677153,e=>{"use strict";var t=e.i(8711407),s=e.i(2504781),r=e.i(5468328),i=e.i(7897830),o=e.i(1414602),n=e.i(1919132);function a(e){let{resource:a,size:l,type:c}=e,{permissions:u,isLoading:d}=(0,o.useResourcePermissions)(),{openConnectProject:p}=(0,i.useResourceModals)({onSuccess:null});return(0,t.jsx)(r.Tooltip,{disableTriggers:u.update,text:"You need additional permission to connect a Project.",children:(0,t.jsx)(s.Button,{disabled:!a||d||!u.update||a.capabilities?.projects===!1,onClick:()=>{a&&p(a)},size:l,type:c,children:n.CONNECT_PROJECT_LABEL})})}e.s(["ConnectProjectButton",()=>a])},9203481,2375948,e=>{"use strict";var t=e.i(8711407),s=e.i(5255926),r=e.i(5468328),i=e.i(9722978),o=e.i(57106),n=e.i(7218483),a=e.i(4004502),l=e.i(1875382),c=e.i(5819220),u=e.i(979715),d=e.i(6401841),p=e.i(762945),x=e.i(9429910),m=e.i(1414602),h=e.i(648779),f=e.i(7897830),g=e.i(5313122),y=e.i(4677153),j=e.i(7114720);e.i(3092247),e.s([],2375948);var v=e.i(7917902),C=e.i(7849855);function b(e){let{Footer:s,Info:r,createdAt:l,link:u,id:d,hasError:p,title:x,description:m,Icon:h,Badge:f}=e,g=(0,n.useAgo)(l,{formatYearsWeeksMonths:!0});return(0,t.jsxs)("div",{className:"min-w-0","data-resource-item":d,children:[(0,t.jsx)(o.Link,{className:"group block","data-testid":(0,a.tid)("store-entity",d),href:u,children:(0,t.jsxs)(c.Entity,{className:(0,i.clsx)("rounded-b-none rounded-t bg-background-100 transition-[background] duration-100 ease-in-out group-hover:bg-background-200",{"border-red-500":p}),gapSize:"small",thumbnail:(0,t.jsx)("div",{className:"mr-2 text-foreground",children:h}),children:[(0,t.jsx)(A,{description:(0,t.jsx)("span",{children:m}),title:(0,t.jsxs)("span",{className:"no-underline",children:[x,f]}),width:r?"30%":void 0}),r,l?(0,t.jsx)(A,{description:(0,t.jsxs)("span",{title:`Created at ${new Date(l).toISOString()}`,children:["Created ",g]}),label:!0,right:!0,width:"auto"}):null]})}),s]})}function R(e){let{children:s,notification:r,className:o}=e;return(0,t.jsx)("div",{className:(0,i.clsx)("flex flex-row items-center gap-1.5 flex-initial h-14 rounded-b border border-t-0 border-solid px-4 py-3",{"border-gray-200 bg-background-200":r?.level!=="error","border-red-500 bg-red-100":r?.level==="error"},o),children:r?(0,t.jsx)(w,{notification:r}):s})}function w(e){let{notification:s}=e;return(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 lg:gap-3 flex-initial",children:[(0,t.jsx)("p",{className:(0,i.clsx)("text-[13px] leading-[18px] font-medium","error"===s.level?"text-red-700":"warn"===s.level?"text-amber-900":"text-gray-900"),children:s.title}),(0,t.jsxs)(r.Tooltip,{text:s.message,children:["error"===s.level?(0,t.jsx)(d.Stop,{color:"red-700",size:20}):null,"warn"===s.level?(0,t.jsx)(p.Warning,{color:"amber-900",size:20}):null,"info"===s.level?(0,t.jsx)(x.InformationFill,{size:20}):null]})]})}function A(e){let{className:s,...r}=e;return(0,t.jsx)(u.EntityField,{className:(0,i.clsx)("max-md:mt-0 max-md:border-t-0",s),...r})}function T(e){let{Info:s,item:r,Badge:o,resourceLinkFunc:n,showCreatedAt:a=!0,alwaysShowConnectButton:c=!1}=e,u=(0,l.useRouter)(),{openConnectProject:d}=(0,f.useResourceModals)({onSuccess:e=>{u.push(n(e))}}),{permissions:p}=(0,m.useResourcePermissions)(),{team:x}=(0,v.useAccount)(),{projectSlug:w}=(0,C.useProjectAndTeamSlug)(),A=r.billingPlan?.name,T=c||0===r.projectsMetadata.length;return(0,t.jsx)(b,{Badge:o,Footer:(0,t.jsx)(R,{className:(0,i.clsx)(T?"justify-end":"justify-start"),notification:r.notification,children:T?(0,t.jsxs)("div",{className:(0,i.clsx)("flex gap-2"),children:[(0,t.jsx)(y.ConnectProjectButton,{size:"small",resource:r,type:"secondary"}),x&&(0,t.jsx)(j.MarketplaceAddDrainButton,{resource:r,teamSlug:x.slug,projectSlug:w??void 0,size:"small",type:"secondary"})]}):(0,t.jsx)(g.ProjectConnectionsAssigned,{projectConnections:r.projectsMetadata})}),Icon:(0,t.jsx)(h.ProductIcon,{icon:r.product.iconUrl,size:"large"}),Info:s?(0,t.jsx)(s,{item:r}):void 0,createdAt:a?r.createdAt:void 0,description:A?`${r.product.name} - ${A}`:r.product.name,hasError:r.notification?.level==="error",id:r.id,link:n(r),title:r.name})}function S(e){let{showRightSkeleton:r=!0}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)(c.Entity,{className:"rounded-b-none rounded-t",gapSize:"small",thumbnail:(0,t.jsx)("div",{className:"flex flex-col items-center justify-start flex-initial mr-2",children:(0,t.jsx)(s.Skeleton,{height:36,rounded:!0,width:36})}),children:[(0,t.jsx)(A,{description:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:12,vcenter:!0,width:"40%"}),title:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:14,vcenter:!0,width:"60%"})}),r?(0,t.jsx)(A,{right:!0,title:(0,t.jsx)(s.Skeleton,{className:"h-[18px] md:h-[22px]",height:14,vcenter:!0,width:120})}):null]}),(0,t.jsx)(R,{})]})}e.s(["ListItem",()=>b,"ListItemFooter",()=>R,"ResourceEntityItem",()=>A,"ResourceItem",()=>T,"ResourceItemPlaceholder",()=>S],9203481)},8026771,e=>{"use strict";var t=e.i(8711407),s=e.i(1176592),r=e.i(8835183),i=e.i(6881349),o=e.i(2504781),n=e.i(1991452),a=e.i(2793676),l=e.i(1875382),c=e.i(3798983),u=e.i(5074599);function d(e){return`Search provider or ${u.resourceTitle[e].toLowerCase()}..`}function p(e){return null!=e}function x(){let e=(0,l.useSearchParams)();return{storeTag:e?.get("type")??"All",search:e?.get("search")??""}}function m(e,t){let r=(0,n.useRouter)(),{storeTag:i,search:o}=x(),[l,c]=(0,s.useState)("All"),d=t?i:l,[m,h]=(0,s.useState)(o),f=(0,s.useMemo)(()=>{let t=new Map;return e?.forEach(e=>{"integration"===e.type?t.set(e.product.integration.id,{value:e.product.integration.id,label:e.product.integration.name}):t.set(e.type,{value:e.type,label:(0,u.getProtocolTitleByResource)(e)})}),[{value:"All",label:"All"},...Array.from(t.values()).filter(p)]},[e]);return{filteredResources:(0,s.useMemo)(()=>e?.filter(e=>{if("All"!==d&&("integration"===e.type?e.product.integration.id!==d:e.type!==d))return!1;let t=m.toLowerCase();return!!(e.name.toLowerCase().includes(t)||e.id.includes(t))||"integration"===e.type&&e.product.name.toLowerCase().includes(t)})??null,[m,e,d]),search:m,onSearchChanged:e=>{h(e),t&&r.replace({query:{...r.query,search:e}},void 0,{shallow:!0,scroll:!1})},storeTagFilter:d,onStoreTagFilterChanged:e=>{t?r.replace({query:"All"===e?(0,a.default)(r.query,"type"):{...r.query,type:e}},void 0,{shallow:!0,scroll:!1}):c(e)},storeTags:f}}function h(e){let{ConnectResourceButton:s,search:o,onSearchChanged:n,storeTagFilter:a,storeTags:l,onStoreTagFilterChanged:c,protocolType:u}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.SearchInput,{className:"[&>div:first-of-type]:flex-1",onChange:e=>{n(e.target.value.trim())},placeholder:d(u),value:o,width:"100%"}),(0,t.jsxs)(i.Combobox,{clearable:!1,onChange:e=>{e&&c(e)},value:a,children:[(0,t.jsx)(i.Combobox.Input,{disabled:!0}),(0,t.jsx)(i.Combobox.List,{children:l.map(e=>(0,t.jsx)(i.Combobox.Option,{value:e.value,children:e.label},e.value))})]}),s]})}function f(e){let{createConnectAction:s,protocolType:n}=e,{storeTag:a}=x();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.SearchInput,{className:"[&>div:first-of-type]:flex-1",placeholder:d(n),width:"100%"}),(0,t.jsxs)(i.Combobox,{clearable:!1,value:a,children:[(0,t.jsx)(i.Combobox.Input,{disabled:!0}),(0,t.jsx)(i.Combobox.List,{children:(0,t.jsx)(i.Combobox.Option,{value:a,children:" "})})]}),"none"!==s?(0,t.jsx)(o.Button,{disabled:!0,type:"secondary",typeName:"button",children:c.createConnectStoreButtonLabel[s]}):null]})}e.s(["ResourceFilters",()=>h,"ResourceFiltersPlaceholder",()=>f,"useResourceFilters",()=>m])},680627,e=>{"use strict";var t=e.i(8711407),s=e.i(1717203),r=e.i(7557283);e.i(3182268);var i=e.i(7849855);e.i(8703064);var o=e.i(5154466);e.i(3134771);var n=e.i(1815854),a=e.i(6060673),l=e.i(3798983),c=e.i(2782729),u=e.i(6810699),d=e.i(5074599),p=e.i(8026771);function x(e){let{ConnectResourceButton:x,onClickConnectStoreModal:m,isStoreTagFilterFromQuery:h,protocolType:f}=e,{data:g}=(0,u.useResourceList)({protocolType:f}),{projectSlug:y}=(0,i.useProjectSlug)(),j=(0,a.useProject)(y),{can:v,isLoading:C}=(0,s.default)(),b={"edge-config":v(r.Action.Update,r.Resource.EdgeConfig),blob:v(r.Action.Create,r.Resource.Blob),integration:v(r.Action.Create,r.Resource.IntegrationResource)},R=g?.stores,{search:w,onSearchChanged:A,storeTagFilter:T,onStoreTagFilterChanged:S,storeTags:N,filteredResources:P}=(0,p.useResourceFilters)(R??null,h);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(p.ResourceFilters,{ConnectResourceButton:x,onSearchChanged:A,onStoreTagFilterChanged:S,protocolType:f,search:w,storeTagFilter:T,storeTags:N})}),P&&0===P.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 flex-initial min-h-52",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"No Results Found"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:`Your search for "${w}" did not return any results.`})]}):null,P&&P.length>0?(0,t.jsx)(o.SelectResourceCardList,{children:P.map(e=>{let s=e.projectsMetadata.some(e=>e.projectId===j.data?.id),r="integration"===e.type?{icon:{url:(0,c.getStoreIcon)(e),size:"large"}}:{Icon:(0,t.jsx)(n.SelectResourceStoreIcon,{iconSize:"large",type:e.type,useColor:b[e.type]})};return(0,t.jsx)(o.SelectResourceCard,{createdAt:e.createdAt,description:"storage"===f?l.storeTitleFull[e.type]:d.resourceTitle[f],isAlreadyConnected:s,isDisabled:!b[e.type],name:e.name,onClick:()=>m(e),tooltip:{isEnabled:!C&&!b[e.type],text:`You do not have permission to connect this ${(0,d.getProtocolTitleByResource)(e)}.`},...r},e.id)})}):null]})}e.s(["SelectResources",()=>x])},6068777,(e,t,s)=>{var r=e.r(2136587),i=e.r(5729582),o=Array.prototype.splice;t.exports=function(e,t){for(var s=e?t.length:0,n=s-1;s--;){var a=t[s];if(s==n||a!==l){var l=a;i(a)?o.call(e,a,1):r(e,a)}}return e}},102342,(e,t,s)=>{var r=e.r(8357529),i=e.r(6068777);t.exports=function(e,t){var s=[];if(!(e&&e.length))return s;var o=-1,n=[],a=e.length;for(t=r(t,3);++o<a;){var l=e[o];t(l,o,e)&&(s.push(l),n.push(o))}return i(e,n),s}},8385183,e=>{"use strict";var t=e.i(5297527),s=e.i(4244280);e.i(102342),e.i(4426431);let r=`${s.API_INTEGRATION_CONTROLLER}/categories`;function i(e){let s="tag_databases"===e.id?"storage":t.INTEGRATION_PROTOCOL_TYPES.find(t=>e.id.replace("tag_","")===t)??null;return{...e,protocol:s}}var o=e.i(277234),n=e.i(6269556),a=e.i(818351);function l(){let{isPreview:e}=(0,n.useMarketplaceNavigation)();return{...(0,a.useIsomorphicSWR)(e?`${r}?status=all`:r,async e=>(await (0,o.fetchAPI)(e)).map(i),{revalidateOnFocus:!1,revalidateOnReconnect:!1})}}e.s(["useIntegrationCategories",()=>l],8385183)},1815574,e=>{"use strict";var t=e.i(8711407),s=e.i(5338940),r=e.i(3850869),i=e.i(2652226),o=e.i(5074599);function n(e){let{protocolType:n}=e,{team:a}=(0,s.useTeam)();return(0,t.jsx)(i.default,{children:(0,t.jsx)(r.AdditionalPermissionsRequired,{resource:o.resourceTitle[n],team:a})})}e.s(["AdditionalResourcePermissionsRequired",()=>n])},4981413,4209381,1055938,e=>{"use strict";var t=e.i(8711407),s=e.i(3306538),r=e.i(57106),i=e.i(4011256);e.i(8703064);var o=e.i(6798946),n=e.i(2782729),a=e.i(4325157),l=e.i(5074599),c=e.i(1414602),u=e.i(6810699),d=e.i(8385183);function p(e){let{onClickProduct:s,selectedProduct:p,showCreateButton:m=!1,protocolType:h}=e,{data:f}=(0,d.useIntegrationCategories)(),{permissions:g,isLoading:y}=(0,c.useResourcePermissions)(),{data:j}=(0,u.useResourceList)({protocolType:h}),{data:v}=(0,a.useMarketplaceIntegrations)({protocolType:h}),C=f?.find(e=>e.protocol===h);return v?(0,t.jsx)(x,{canCreate:g.create,disabled:y,integrations:v.map(e=>({...e,isSelected:p?.type==="integration"&&p.product.id===e.products[0].id,selectedProductId:p?.type==="integration"&&p.integration.id===e.id?p.product.id:void 0,comingSoon:(0,n.isIntegrationStoreDisabled)({integration:e,storesData:j})})),onClickProduct:s,protocolType:h,showCreateButton:m}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,l.browseProductsTitle)(h)}),(0,t.jsx)(r.Link,{external:!0,href:`${i.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:Array.from({length:C?.marketplaceIntegrationsCount??3}).map((e,s)=>(0,t.jsx)(o.CreateResourceCardPlaceholder,{showCreateButton:m},s))})]})}function x(e){let{integrations:n,canCreate:a,disabled:c,showCreateButton:u,onClickProduct:d,protocolType:p}=e;if(0===n.length)return null;let x=l.resourceTitle[p],m={text:`You need additional permission to create a ${x}.`,isEnabled:!a};return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,l.browseProductsTitle)(p)}),(0,t.jsx)(r.Link,{external:!0,href:`${i.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:n.map(e=>{let r=!!e.comingSoon,i=c||!a||!!e.comingSoon;if(0===e.products.length)return null;if(1===e.products.length){let n=e.products[0];return(0,t.jsx)(o.CreateResourceCard,{Badge:r?(0,t.jsx)(s.Badge,{className:"important:bg-transparent",size:"sm",variant:"gray-subtle",children:"Coming soon"}):null,description:n.shortDescription,icon:{url:n.iconUrl},isDisabled:i,isSelected:e.isSelected,name:n.name,onClick:()=>{d({product:n,integration:e,type:"integration"})},showCreateButton:u,tooltip:m},n.id)}return(0,t.jsx)(o.CreateResourceCollapsibleCard,{integration:e,isDisabled:c||!a,onClick:t=>{d({product:t,integration:e,type:"integration"})},selectedProductId:e.selectedProductId,showCreateButton:u,tooltip:m},e.id)})})]})}e.s(["BrowseProducts",()=>p],4981413);var m=e.i(1176592),h=e.i(1875382),f=e.i(7897830);function g(e,t){let s=(0,h.useRouter)(),{openCreateResource:r}=(0,f.useResourceModals)({onSuccess:e=>{s.push(t(e))}}),i=(0,h.useSearchParams)(),o=i?.get("productId")??null,{data:n}=(0,a.useMarketplaceIntegrations)({protocolType:e}),l=(0,m.useMemo)(()=>{if(!n)return null;for(let e of n)for(let t of e.products)if(t.id===o)return{integration:e,product:t};return null},[n,o]);(0,m.useEffect)(()=>{if(l){let{integration:e,product:t}=l;r({type:"integration",integration:e,product:t})}},[r,l])}function y(e){let{title:s,subtitle:r,children:i,Icon:o}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 flex-initial rounded border border-solid border-gray-200 bg-background-200 px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-3 flex-initial",children:[o,(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-2 flex-initial",children:[s&&(0,t.jsx)("p",{className:"text-heading-20",children:s}),r&&(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:r})]})]}),i]})}e.s(["useCreateResourceDeeplink",()=>g],4209381),e.s(["EmptyResourcesState",()=>y],1055938)},5551580,e=>{"use strict";var t=e.i(8711407),s=e.i(2504781),r=e.i(5255926),i=e.i(1176592),o=e.i(3798983),n=e.i(9203481),a=e.i(8026771);function l(e){let{protocolType:l}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(i.Suspense,{fallback:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch justify-start gap-4 flex-initial",style:{width:"100%"},children:[(0,t.jsx)(r.Skeleton,{height:40,width:"100%"}),(0,t.jsx)(r.Skeleton,{className:"geist-hide-on-mobile",height:40,width:190}),(0,t.jsx)(r.Skeleton,{className:"geist-show-on-mobile",height:40,width:"100%"})]}),(0,t.jsx)(s.Button,{disabled:!0,type:"secondary",typeName:"button",children:o.createConnectStoreButtonLabel.connect})]}),children:(0,t.jsx)(a.ResourceFiltersPlaceholder,{createConnectAction:"connect",protocolType:l})})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(n.ResourceItemPlaceholder,{},s))})]})}e.s(["ResourceListPlaceholder",()=>l])},9691190,e=>{"use strict";var t=e.i(8711407),s=e.i(2504781),r=e.i(4030453),i=e.i(134877),o=e.i(1875382),n=e.i(6810699),a=e.i(7849855),l=e.i(7897830),c=e.i(5154466),u=e.i(4981413),d=e.i(5074599),p=e.i(1815574),x=e.i(4209381),m=e.i(1055938),h=e.i(8026771),f=e.i(9203481),g=e.i(5551580),y=e.i(680627),j=e.i(8544664);function v(e){let{ListItem:o,protocolType:l,resourceLinkFunc:c,Info:u,EmptyStateIcon:d,BrowserProductsEmptyState:f,includeMetadata:y,preloadedResources:v}=e,{hasProject:C,projectSlug:A}=(0,a.useProjectSlug)(),{data:T,error:S,hasResources:N}=(0,n.useResourceList)({projectSlug:A,protocolType:l,fallbackData:v?{stores:v}:void 0}),P=(0,n.useStoreListMetadataByType)({items:T?.stores??[],skip:!y}),{search:M,onSearchChanged:L,storeTagFilter:k,onStoreTagFilterChanged:I,storeTags:E,filteredResources:B}=(0,h.useResourceFilters)(T?P:null,!0);return(function(e){let{hasProject:t,projectSlug:s,teamSlug:r}=(0,a.useProjectAndTeamSlug)(),{data:i}=(0,n.useResourceList)({projectSlug:s??void 0,protocolType:e});(0,j.usePlaceholderCount)(`resourcePlaceholderCount:${e}:${r}${t?`:${s}`:""}`,i?.stores.length)}(l),(0,x.useCreateResourceDeeplink)(l,c),T&&B)?S&&(0,i.isAPIErrorForbidden)(S)?(0,t.jsx)(p.AdditionalResourcePermissionsRequired,{protocolType:l}):S?(0,t.jsxs)(m.EmptyResourcesState,{Icon:d,children:[(0,t.jsx)(r.Error,{children:"An error occurred while loading the list."}),(0,t.jsx)(s.Button,{onClick:()=>window.location.reload(),size:"small",type:"error",typeName:"button",children:"Try Again"})]}):N?0===T.stores.length&&C?(0,t.jsx)(R,{protocolType:l,resourceLinkFunc:c}):0===B.length?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(h.ResourceFilters,{ConnectResourceButton:(0,t.jsx)(w,{protocolType:l,resourceLinkFunc:c}),onSearchChanged:L,onStoreTagFilterChanged:I,protocolType:l,search:M,storeTagFilter:k,storeTags:E})}),(0,t.jsx)(m.EmptyResourcesState,{subtitle:`Your search for "${M}" did not return any results.`,title:"No Results Found"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(h.ResourceFilters,{ConnectResourceButton:(0,t.jsx)(w,{protocolType:l,resourceLinkFunc:c}),onSearchChanged:L,onStoreTagFilterChanged:I,protocolType:l,search:M,storeTagFilter:k,storeTags:E})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:B.map(e=>(0,t.jsx)(o,{Info:u,item:e,resourceLinkFunc:c},e.id))})]}):f??(0,t.jsx)(b,{protocolType:l,resourceLinkFunc:c}):(0,t.jsx)(g.ResourceListPlaceholder,{protocolType:l})}function C(e){let{protocolType:s,resourceLinkFunc:r,Info:i}=e;return(0,t.jsx)(v,{Info:i,ListItem:f.ResourceItem,protocolType:s,resourceLinkFunc:r})}function b(e){let{protocolType:s,resourceLinkFunc:r}=e,i=(0,o.useRouter)(),{openCreateResource:n}=(0,l.useResourceModals)({onSuccess:e=>{i.push(r(e))}});return(0,t.jsx)(m.EmptyResourcesState,{subtitle:(0,d.emptyResourcesStateSubtitle)(s),title:(0,d.emptyResourcesStateTitle)(s),children:(0,t.jsx)(c.SelectResourceCardListContainer,{children:(0,t.jsx)(u.BrowseProducts,{onClickProduct:e=>{e&&n(e)},protocolType:s,selectedProduct:void 0,showCreateButton:!0})})})}function R(e){let{protocolType:r,resourceLinkFunc:i}=e,n=(0,o.useRouter)(),{openConnectProject:a,openBrowseProducts:u}=(0,l.useResourceModals)({onSuccess:e=>{n.push(i(e))}});return(0,t.jsx)(m.EmptyResourcesState,{subtitle:`You can connect to existing ${d.resourceTitlePlural[r]} from this team, or
            create a new one and connect it to this project.`,title:`Connect to a ${d.resourceTitle[r]}`,children:(0,t.jsx)(c.SelectResourceCardListContainer,{children:(0,t.jsx)(y.SelectResources,{ConnectResourceButton:(0,t.jsx)(s.Button,{onClick:()=>{u("browse-new")},type:"default",typeName:"button",children:(0,d.connectResourceButtonLabel)(r)}),hasCreateConnectButton:!0,isStoreTagFilterFromQuery:!0,onClickConnectStoreModal:e=>{a(e)},protocolType:r})})})}function w(e){let{resourceLinkFunc:r,protocolType:i}=e,n=(0,o.useRouter)(),{openBrowseProducts:c}=(0,l.useResourceModals)({onSuccess:e=>{n.push(r(e))}}),{hasProject:u}=(0,a.useProjectSlug)();return u?(0,t.jsx)(s.Button,{onClick:()=>{c("browse-existing")},type:"secondary",typeName:"button",children:`Connect ${d.resourceTitle[i]}`}):null}e.s(["ResourceList",()=>C,"ResourceListWithListItem",()=>v])}]);

//# debugId=a689c764-cc96-7d26-a892-a02f77bef16d
//# sourceMappingURL=4c090b23122dc0e6.js.map