;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c0c61cbe-43e7-288b-5b47-7ba6ab36a1cc")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1412448,e=>{"use strict";var t=e.i(7909933),i=e.i(8042625),s=e.i(277234),l=e.i(4244280),r=e.i(9668517),n=e.i(7917902),a=e.i(1717203),o=e.i(7557283);function c(){let{enabled:e,throwOnHTTPError:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,r.useTeamSlug)(),{account:u}=(0,n.useAccount)(),{can:m,isLoading:b}=(0,a.default)(),p=m(o.Action.Read,o.Resource.BillingInvoice),g=(e??!0)&&!!u&&!b&&p;return(0,t.default)(()=>g&&u?.billing?.plan!=="hobby"?`${l.API_STRIPE_NEXT_INVOICE}${(0,i.encode)({slug:d})}`:null,e=>(0,s.fetchAPI)(e,{throwOnHTTPError:c??!0}),{shouldRetryOnError:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1})}e.s(["useUpcomingUsage",()=>c])},7749365,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM8.75 4.75V4H7.25V4.75V7.875C7.25 8.18976 7.39819 8.48615 7.65 8.675L9.55 10.1L10.15 10.55L11.05 9.35L10.45 8.9L8.75 7.625V4.75Z" fill="currentColor"/>');e.s(["Clock",0,t])},539392,e=>{"use strict";var t=e.i(9487122);function i(e){for(var i=arguments.length,s=Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];let r=t.constructFrom.bind(null,e||s.find(e=>"object"==typeof e));return s.map(r)}e.s(["normalizeDates",()=>i])},2632713,e=>{"use strict";var t=e.i(516467);function i(e){let i=(0,t.toDate)(e),s=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return s.setUTCFullYear(i.getFullYear()),e-s}e.s(["getTimezoneOffsetInMilliseconds",()=>i])},870429,e=>{"use strict";var t=e.i(2632713),i=e.i(539392),s=e.i(1511518),l=e.i(3738416);function r(e,r,n){let[a,o]=(0,i.normalizeDates)(n?.in,e,r),c=(0,l.startOfDay)(a),d=(0,l.startOfDay)(o);return Math.round((c-(0,t.getTimezoneOffsetInMilliseconds)(c)-(d-(0,t.getTimezoneOffsetInMilliseconds)(d)))/s.millisecondsInDay)}e.s(["differenceInCalendarDays",()=>r])},1438473,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M9.53033 2.21968L9 1.68935L7.93934 2.75001L8.46967 3.28034L12.4393 7.25001H1.75H1V8.75001H1.75H12.4393L8.46967 12.7197L7.93934 13.25L9 14.3107L9.53033 13.7803L14.6036 8.70711C14.9941 8.31659 14.9941 7.68342 14.6036 7.2929L9.53033 2.21968Z" fill="currentColor"/>');e.s(["ArrowRight",0,t])},2466450,e=>{"use strict";let t={long:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:3}),short:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0})};function i(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=Number(e)*l,n=100;return"string"==typeof e&&(n=1),"auto"===s&&(s=r%n==0?"short":"long"),(0,t[s])(i).format(r/n)}e.s(["formatCurrency",()=>i])},4496450,e=>{"use strict";function t(e){return!i(e?.billing?.planIteration)}function i(e){return!e||"legacy"===e}e.s(["isLegacyPlanIteration",()=>i,"isOnUnbundledPricingPlan",()=>t])},682502,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<path fill-rule="evenodd" clip-rule="evenodd" d="M10.7499 1H9.99987V2.5H10.7499H12.4392L1.46954 13.4697L0.939209 14L1.99987 15.0607L2.5302 14.5303L13.4987 3.56182V5.25V6H14.9987V5.25V2C14.9987 1.44772 14.551 1 13.9987 1H10.7499Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.0002 7.06067L5.46983 6.53038L1.4691 2.53034L0.938721 2.00005L1.99929 0.939301L2.52967 1.46959L6.5304 5.46963L7.06077 5.99992L6.0002 7.06067ZM12.4377 13.4994H10.7499H9.99994V14.9994H10.7499H13.9994C14.5517 14.9994 14.9994 14.5517 14.9994 13.9994V10.75V9.99999H13.4994V10.75V12.4398L10.5305 9.46978L10.0003 8.93934L8.93944 9.99979L9.46966 10.5302L12.4377 13.4994Z" fill="currentColor"/>`);e.s(["ArrowCrossed",0,t])},4099936,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.19338 12.2035C1.92748 11.7599 1.75 11.1309 1.75 10.2159C1.75 8.37501 2.4707 6.35242 3.64834 4.79604C4.83005 3.23427 6.38227 2.25 8 2.25C9.61773 2.25 11.17 3.23427 12.3517 4.79604C13.5293 6.35242 14.25 8.37501 14.25 10.2159C14.25 11.1309 14.0725 11.7599 13.8066 12.2035C13.5451 12.6398 13.1629 12.9556 12.6437 13.1877C11.5482 13.6774 9.9652 13.75 8 13.75C6.0348 13.75 4.45177 13.6774 3.3563 13.1877C2.83709 12.9556 2.45492 12.6398 2.19338 12.2035ZM2.74421 14.5571C4.18223 15.1999 6.09921 15.25 8 15.25C9.90079 15.25 11.8178 15.1999 13.2558 14.5571C14.0033 14.223 14.6463 13.7202 15.0932 12.9747C15.5357 12.2364 15.75 11.3203 15.75 10.2159C15.75 8.01826 14.9037 5.68289 13.5478 3.89095C12.196 2.10441 10.2483 0.75 8 0.75C5.75174 0.75 3.80396 2.10441 2.45217 3.89095C1.0963 5.68289 0.25 8.01826 0.25 10.2159C0.25 11.3203 0.464272 12.2364 0.906809 12.9747C1.35371 13.7202 1.99667 14.223 2.74421 14.5571Z" fill="currentColor"/>');e.s(["Blob",0,t])},150374,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.28497 1.5H13V12C13 12.5523 12.5523 13 12 13H6.28497L6.28497 1.5ZM5.03497 1.5H3V12C3 12.5523 3.44772 13 4 13H5.03497L5.03497 1.5ZM5.03497 14.5H4C2.61929 14.5 1.5 13.3807 1.5 12V1.5V0H3H13H14.5V1.5V12C14.5 13.3807 13.3807 14.5 12 14.5H6.28497V15V15.625H5.03497V15V14.5ZM8.505 3.375H9.13H10.13H10.755V4.625H10.13H9.13H8.505V3.375ZM9.13 6.375H8.505V7.625H9.13H10.13H10.755V6.375H10.13H9.13Z" fill="currentColor"/>');e.s(["Notebook",0,t])},218692,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill="currentColor" fill-rule="evenodd" d="M1 1v11.75A2.25 2.25 0 0 0 3.25 15H15v-1.5H3.25a.75.75 0 0 1-.75-.75V1H1Zm13.297 5.013.513-.547-1.094-1.026-.513.547-3.22 3.434-2.276-2.275a1 1 0 0 0-1.414 0L4.22 8.22l-.53.53 1.06 1.06.53-.53L7 7.56l2.287 2.287a1 1 0 0 0 1.437-.023l3.573-3.811Z" clip-rule="evenodd"/>');e.s(["LineChart",0,t])},3228096,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M10.268 14.0934C11.9051 13.4838 13.2303 12.2333 13.9384 10.6469C13.1192 10.7941 12.2138 10.9111 11.2469 10.9925C11.0336 12.2005 10.695 13.2621 10.268 14.0934ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.48347 14.4823C8.32384 14.494 8.16262 14.5 8 14.5C7.83738 14.5 7.67616 14.494 7.51654 14.4823C7.5132 14.4791 7.50984 14.4759 7.50647 14.4726C7.2415 14.2165 6.94578 13.7854 6.67032 13.1558C6.41594 12.5744 6.19979 11.8714 6.04101 11.0778C6.67605 11.1088 7.33104 11.125 8 11.125C8.66896 11.125 9.32395 11.1088 9.95899 11.0778C9.80021 11.8714 9.58406 12.5744 9.32968 13.1558C9.05422 13.7854 8.7585 14.2165 8.49353 14.4726C8.49016 14.4759 8.4868 14.4791 8.48347 14.4823ZM11.4187 9.72246C12.5137 9.62096 13.5116 9.47245 14.3724 9.28806C14.4561 8.87172 14.5 8.44099 14.5 8C14.5 7.55901 14.4561 7.12828 14.3724 6.71194C13.5116 6.52755 12.5137 6.37904 11.4187 6.27753C11.4719 6.83232 11.5 7.40867 11.5 8C11.5 8.59133 11.4719 9.16768 11.4187 9.72246ZM10.1525 6.18401C10.2157 6.75982 10.25 7.36805 10.25 8C10.25 8.63195 10.2157 9.24018 10.1525 9.81598C9.46123 9.85455 8.7409 9.875 8 9.875C7.25909 9.875 6.53877 9.85455 5.84749 9.81598C5.7843 9.24018 5.75 8.63195 5.75 8C5.75 7.36805 5.7843 6.75982 5.84749 6.18401C6.53877 6.14545 7.25909 6.125 8 6.125C8.74091 6.125 9.46123 6.14545 10.1525 6.18401ZM11.2469 5.00748C12.2138 5.08891 13.1191 5.20593 13.9384 5.35306C13.2303 3.7667 11.9051 2.51622 10.268 1.90662C10.695 2.73788 11.0336 3.79953 11.2469 5.00748ZM8.48347 1.51771C8.4868 1.52089 8.49016 1.52411 8.49353 1.52737C8.7585 1.78353 9.05422 2.21456 9.32968 2.84417C9.58406 3.42562 9.80021 4.12856 9.95899 4.92219C9.32395 4.89118 8.66896 4.875 8 4.875C7.33104 4.875 6.67605 4.89118 6.04101 4.92219C6.19978 4.12856 6.41594 3.42562 6.67032 2.84417C6.94578 2.21456 7.2415 1.78353 7.50647 1.52737C7.50984 1.52411 7.51319 1.52089 7.51653 1.51771C7.67615 1.50597 7.83738 1.5 8 1.5C8.16262 1.5 8.32384 1.50597 8.48347 1.51771ZM5.73202 1.90663C4.0949 2.51622 2.76975 3.7667 2.06159 5.35306C2.88085 5.20593 3.78617 5.08891 4.75309 5.00748C4.96639 3.79953 5.30497 2.73788 5.73202 1.90663ZM4.58133 6.27753C3.48633 6.37904 2.48837 6.52755 1.62761 6.71194C1.54392 7.12828 1.5 7.55901 1.5 8C1.5 8.44099 1.54392 8.87172 1.62761 9.28806C2.48837 9.47245 3.48633 9.62096 4.58133 9.72246C4.52807 9.16768 4.5 8.59133 4.5 8C4.5 7.40867 4.52807 6.83232 4.58133 6.27753ZM4.75309 10.9925C3.78617 10.9111 2.88085 10.7941 2.06159 10.6469C2.76975 12.2333 4.0949 13.4838 5.73202 14.0934C5.30497 13.2621 4.96639 12.2005 4.75309 10.9925Z" fill="currentColor"/>');e.s(["Globe",0,t])},6675233,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.75 2.79933C9.19835 2.53997 9.5 2.05521 9.5 1.5C9.5 0.671573 8.82843 0 8 0C7.17157 0 6.5 0.671573 6.5 1.5C6.5 2.05521 6.80165 2.53997 7.25 2.79933V5H7C4.027 5 1.55904 7.16229 1.08296 10H0V13H1V14.5V16H2.5H13.5H15V14.5V13H16V10H14.917C14.441 7.16229 11.973 5 9 5H8.75V2.79933ZM7 6.5C4.51472 6.5 2.5 8.51472 2.5 11V14.5H13.5V11C13.5 8.51472 11.4853 6.5 9 6.5H7ZM7.25 11.25C7.25 12.2165 6.4665 13 5.5 13C4.5335 13 3.75 12.2165 3.75 11.25C3.75 10.2835 4.5335 9.5 5.5 9.5C6.4665 9.5 7.25 10.2835 7.25 11.25ZM10.5 13C11.4665 13 12.25 12.2165 12.25 11.25C12.25 10.2835 11.4665 9.5 10.5 9.5C9.5335 9.5 8.75 10.2835 8.75 11.25C8.75 12.2165 9.5335 13 10.5 13Z" fill="currentColor" />');e.s(["Robot",0,t])},787358,e=>{"use strict";var t=e.i(9334638);let i=(0,t.withNewIcon)(`<g clip-path="url(#clip0_53_135${t.ADD_UNIQUE_ID})">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 0C1.00736 0 0 1.00736 0 2.25V13.75C0 14.9926 1.00736 16 2.25 16H13.75C14.9926 16 16 14.9926 16 13.75V2.25C16 1.00736 14.9926 0 13.75 0H2.25ZM1.5 2.25C1.5 1.83579 1.83579 1.5 2.25 1.5H13.75C14.1642 1.5 14.5 1.83579 14.5 2.25V13.75C14.5 14.1642 14.1642 14.5 13.75 14.5H2.25C1.83579 14.5 1.5 14.1642 1.5 13.75V2.25ZM5.5 10V7.125C5.5 6.64175 5.89175 6.25 6.375 6.25C6.85825 6.25 7.25 6.64175 7.25 7.125V10.5V11.25H8.75V10.5V7.125V7.12497C8.75 6.64172 9.14175 6.24997 9.625 6.24997C10.1082 6.24997 10.5 6.64172 10.5 7.12497V10.5V11.25H12V10.5V7.12497C12 5.81329 10.9367 4.74997 9.625 4.74997C8.99638 4.74997 8.42481 4.99419 7.99998 5.39292C7.57516 4.99421 7.0036 4.75 6.375 4.75C6.066 4.75 5.77078 4.80901 5.5 4.91638V4.75H4V5.5V7.125V10V10.5V10.75V11.25H5.5V10.75V10.5V10Z" fill="currentColor" />
   </g>
  <defs>
  <clipPath id="clip0_53_135${t.ADD_UNIQUE_ID}">
  <rect width="16" height="16" fill="currentColor"/>
  </clipPath>
  </defs>
  `);e.s(["FunctionMiddleware",0,i])},4333930,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M0 2.25C0 1.00736 1.00736 0 2.25 0H13.75C14.9926 0 16 1.00736 16 2.25V13.75C16 14.9926 14.9926 16 13.75 16H2.25C1.00736 16 0 14.9926 0 13.75V2.25ZM2.25 1.5C1.83579 1.5 1.5 1.83579 1.5 2.25V13.75C1.5 14.1642 1.83579 14.5 2.25 14.5H13.75C14.1642 14.5 14.5 14.1642 14.5 13.75V2.25C14.5 1.83579 14.1642 1.5 13.75 1.5H2.25ZM10.2462 5C9.41986 5 8.75 5.66986 8.75 6.49618V7H9.75H10.5V8.5H9.75H8.75V9.50439C8.75 11.1588 7.40882 12.5 5.75439 12.5H5.00439V11H5.75439C6.58039 11 7.25 10.3304 7.25 9.50439V8.5H6.25H5.5V7H6.25H7.25V6.49618C7.25 4.84144 8.59144 3.5 10.2462 3.5H10.9962V5H10.2462Z" fill="currentColor"/>');e.s(["FunctionSquare",0,t])},5202960,6880199,e=>{"use strict";var t=e.i(4244280),i=e.i(9979783),s=e.i(119294),l=e.i(6352514);async function r(e){let{team:r,source:n,enableTeam:a}=e,o=(await (0,i.typedFetchData)(t.API_OBSERVABILITY_CONFIGURATION,"patch",{teamId:r.id},{teamEnabled:a})).teamEnabled===a;return o&&s.analytics.track(a?l.AnalyticsEvent.OBSERVABILITY_PLUS_ENABLED:l.AnalyticsEvent.OBSERVABILITY_PLUS_DISABLED,{teamId:r.id,plan:r.billing?.plan,source:n}),o}e.s(["patchObservabilityConfiguration",()=>r],6880199),e.s([],5202960)},199192,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.74999 3.93933L7.28032 4.46966L10.1035 7.29288C10.4941 7.68341 10.4941 8.31657 10.1035 8.7071L7.28032 11.5303L6.74999 12.0607L5.68933 11L6.21966 10.4697L8.68933 7.99999L6.21966 5.53032L5.68933 4.99999L6.74999 3.93933Z" fill="currentColor"/>');e.s(["ChevronRightSmall",0,t])},2175076,6464673,e=>{"use strict";var t=e.i(7909933),i=e.i(277234),s=e.i(4244280),l=e.i(5338940);function r(){let{isReady:e,team:r}=(0,l.useTeam)();return(0,t.default)(()=>r&&e?`${s.API_MONITORING_SETTINGS}?teamId=${encodeURIComponent(r.id)}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}))}function n(e){return e.billing?.plan==="enterprise"?{days:90}:{days:30}}function a(e,t){return e.billing?.plan==="enterprise"&&"5min"===t?{minutes:5}:{hours:1}}function o(e){let{team:t,monitoringAccessOverrideFlag:i}=e,s=t.enabledInvoiceItems?.monitoring?.enabled||!1;return i||t.billing?.plan==="enterprise"||s}e.s(["useMonitoringSettings",()=>r],2175076),e.s(["getMaxRetention",()=>n,"getMinGranularity",()=>a,"isEntitledToMonitoring",()=>o],6464673)},854682,e=>{"use strict";var t=e.i(5338940),i=e.i(588428),s=e.i(2175076),l=e.i(28552),r=e.i(6464673);e.i(3182268);var n=e.i(7849855),a=e.i(7017723),o=e.i(3769024);function c(){let{isReady:e,team:c}=(0,t.useTeam)(),{projectSlug:d}=(0,n.useProjectSlug)(),u=(0,a.useIsImpersonating)(),{value:m,isReady:b}=(0,i.useMonitoringOverrideTeamFlag)(),{isLoading:p,data:g}=(0,s.useMonitoringSettings)(),{isLoading:f,data:x,mutate:h,isValidating:v}=(0,l.useObservabilityConfiguration)();return{mutate:h,ready:e&&b&&!p&&!f,...function(e){let{team:t,monitoringSettings:i,monitoringOverrideFlag:s,observabilityConfiguration:l}=e,n=((t?.billing?.plan==="enterprise"?i?.isEnabled||s:t&&(0,r.isEntitledToMonitoring)({team:t,monitoringAccessOverrideFlag:s||!1}))||s)??!1,a=l?.observabilityPlus.enabled??!1;return{hasMonitoringAccess:n||a,hasOnlyMonitoring:n}}({team:c,monitoringOverrideFlag:m,monitoringSettings:g,observabilityConfiguration:x}),hasObservabilityPlusAccess:x?.observabilityPlus.enabled??!1,hasObservabilityPlusSubscribed:x?.observabilityPlus?.subscribed??!1,isValidating:v,observabilityConfiguration:x,hasObservabilityPlusAccessOnCurrentProject:(0,o.hasObservabilityPlusAccess)(x?.observabilityPlus,d,u),impersonating:u,applyPromotion:x?.observabilityPlus?.eligiblePromotion==="BFCM-2025"}}e.s(["useHasObservabilityPlus",()=>c],854682)},6048454,7111873,e=>{"use strict";let t;function i(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s="string"==typeof e?(t??=new TextEncoder).encode(e):e,l=i+0x165667b1|0,r=0;if(s.length>=16){let e=[i+0x9e3779b1+0x85ebca77|0,i+0x85ebca77|0,i+0|0,i-0x9e3779b1|0],t=s.length-16,n=0;for(r=0;(0xfffffff0&r)<=t;r+=4){let t=r,i=0x85ebca77*(s[t+0]+(s[t+1]<<8))+((s[t+2]+(s[t+3]<<8))*0x85ebca77<<16),l=e[n]+i|0,a=65535&(l=l<<13|l>>>19),o=l>>>16;e[n]=0x9e3779b1*a+(0x9e3779b1*o<<16)|0,n=n+1&3}l=(e[0]<<1|e[0]>>>31)+(e[1]<<7|e[1]>>>25)+(e[2]<<12|e[2]>>>20)+(e[3]<<18|e[3]>>>14)|0}l=l+s.length|0;let n=s.length-4;for(;r<=n;r+=4){let e=r;l=(65535&(l=(l=l+(0xc2b2ae3d*(s[e+0]+(s[e+1]<<8))+((s[e+2]+(s[e+3]<<8))*0xc2b2ae3d<<16))|0)<<17|l>>>15))*0x27d4eb2f+((l>>>16)*0x27d4eb2f<<16)|0}for(;r<s.length;++r)l+=0x165667b1*s[r],l=(65535&(l=l<<11|l>>>21))*0x9e3779b1+((l>>>16)*0x9e3779b1<<16)|0;return l^=l>>>15,l=((65535&l)*0x85ebca77|0)+((l>>>16)*0x85ebca77<<16),l^=l>>>13,l=((65535&l)*0xc2b2ae3d|0)+((l>>>16)*0xc2b2ae3d<<16),(l^=l>>>16)<0?l+0x100000000:l}e.s(["xxHash32",()=>i],7111873),e.s([],6048454)},1233856,e=>{"use strict";var t=e.i(268049);e.i(2243470);var i=e.i(696150),s=e.i(7432042);function l(e,l){let r=(0,t.milliseconds)(l);if(r<=(0,s.default)("1d"))return new Date(Math.floor(e.getTime()/r)*r);let n=Object.keys(l)[0]?.slice(0,-1);if("week"!==n&&"month"!==n&&"year"!==n)throw Error(`Unsupported duration ${JSON.stringify(l)}`);return i.DateTime.fromMillis(e.getTime(),{zone:"UTC"}).startOf(n).toJSDate()}function r(e,t){let s=l(e,t);return s.getTime()===e.getTime()?s:i.DateTime.fromJSDate(s,{zone:"UTC"}).plus(t).toJSDate()}function n(e){return{...e,data:e.data?.map(e=>({...e,timestamp:new Date(e.timestamp)}))}}function a(e){return e.summary.some(e=>Object.values(e).includes("Others"))}e.i(6048454);let o=Symbol("FIRST_ROLLUP");function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(!e?.rollups)return null;let i=t===o?Object.keys(e.rollups)[0]:t;if(!i)return null;let s=e.rollups[i];return s?{name:i,...s}:null}e.s(["FIRST_ROLLUP",0,o,"endOfDuration",()=>r,"fromApiSonarResult",()=>n,"getRollup",()=>c,"hasOthers",()=>a,"startOfDuration",()=>l])},7017723,e=>{"use strict";var t=e.i(1176592),i=e.i(512540);e.s(["useIsImpersonating",0,()=>{let[e,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{s("1"===i.default.get("vercel_impersonate"))},[]),e}])},3769024,e=>{"use strict";function t(e,t,i){return!!e&&(!!i||!!e.enabled&&(!t||!e.excludedProjects?.some(e=>e.name===t||e.id===t)))}e.s(["hasObservabilityPlusAccess",()=>t])},28552,e=>{"use strict";var t=e.i(4603164),i=e.i(4244280),s=e.i(5338940);function l(){let{isReady:e,team:l}=(0,s.useTeam)();return(0,t.useTypedSWR)(i.API_OBSERVABILITY_CONFIGURATION,l&&e?{teamId:l.id}:null)}e.s(["useObservabilityConfiguration",()=>l])},5269510,e=>{"use strict";function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",s=[];for(let t in e)if(Object.hasOwn(e,t)){let l=e[t];if(Array.isArray(l))for(let e of l)null!=e&&s.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(e.toString())}`);else null!=l&&s.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(l.toString())}`)}return s.join(t)}e.s(["stringify",()=>t])},9667097,e=>{"use strict";var t=e.i(1233856),i=e.i(9171423),s=e.i(4244280),l=e.i(5269510);async function r(e){let r=await (0,i.fetchApi)(`${s.API_OBSERVABILITY_METRICS}?${(0,l.stringify)(n(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0});if(null===r||"object"!=typeof r)throw Error("Failed to fetch sonar data");return(0,t.fromApiSonarResult)(r)}function n(e){return"team-with-slug"===e.type||"project-with-slug"===e.type?{slug:e.teamSlug}:{ownerId:e.ownerId}}e.s(["getSonarData",()=>r,"getSonarTeamParam",()=>n],9667097)},7114658,e=>{"use strict";var t=e.i(9979783),i=e.i(4244280),s=e.i(119294),l=e.i(6352514),r=e.i(4597921),n=e.i(9668517),a=e.i(28552);e.i(3182268);var o=e.i(7849855),c=e.i(455575),d=e.i(3769024);function u(){let{data:e,mutate:t,isLoading:i,isValidating:s,error:l}=(0,a.useObservabilityConfiguration)(),r=(0,n.useTeamSlug)(),{projectSlug:u}=(0,o.useProjectSlug)();return{isObservabilityPlusForProjectsFlagEnabled:m(),toggleObservabilityPlusForProject:async i=>{let{projectName:s,disabled:l}=i;if(r)try{let i=await b({teamIdOrSlug:r,projectIdOrName:s,disabled:l});if(c.toasts.success(`Observability Plus ${l?"excluded":"included"} on ${s}`),!e)return;let n=i.disabledAt?[...e.observabilityPlus.excludedProjects||[],{...i,name:s}]:e.observabilityPlus.excludedProjects?.filter(e=>e.id!==i.id);await t({observabilityPlus:{...e.observabilityPlus,excludedProjects:n}})}catch(e){c.toasts.error("An error occurred while updating the project status."),await t()}},excludedProjects:e?e.observabilityPlus.excludedProjects??[]:void 0,isCurrentProjectExcluded:!!e&&!(0,d.hasObservabilityPlusAccess)(e?.observabilityPlus,u),isValidating:s,isLoading:i||!e&&!l,hasObservabilityPlus:e?.observabilityPlus.enabled??!1}}function m(){return(0,r.useServerFlag)("enable-observability-plus-for-projects",!1)}async function b(e){let{teamIdOrSlug:r,projectIdOrName:n,disabled:a}=e,o=await (0,t.typedFetchData)(i.API_OBSERVABILITY_CONFIGURATION_FOR_PROJECT,"put",{teamId:r,projectIdOrName:n},{disabled:a},{throwOnHTTPError:!0});return s.analytics.track(a?l.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_DISABLED:l.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_ENABLED,{projectIdOrName:n,teamIdOrSlug:r}),o}e.s(["useObservabilityPlusForProjects",()=>u,"useObservabilityPlusForProjectsFlag",()=>m],7114658)},794055,e=>{"use strict";var t=e.i(8711407),i=e.i(6143247);function s(e){let{className:s,colors:l=["#DE2670","#8E4EC6","#6CDA76","#12A594","#0070F3"]}=e;return(0,t.jsx)("div",{className:(0,i.cn)("absolute left-0 right-0 top-0 overflow-hidden rounded-t-[11px] opacity-30 dark:opacity-60",s),children:(0,t.jsxs)("svg",{width:"678",height:"77",viewBox:"0 0 678 77",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-auto",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_124_1530)",children:[(0,t.jsx)("g",{filter:"url(#filter0_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"172.5",cy:"2",rx:"122.5",ry:"30",fill:l[0],fillOpacity:"0.4"})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter1_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"440",cy:"-8",rx:"164",ry:"30",fill:l[1]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter2_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"692",cy:"14.5",rx:"164",ry:"42.5",fill:l[2]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter3_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"755.5",cy:"14.5",rx:"68.5",ry:"37.5",fill:l[3]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter4_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"9",cy:"20",rx:"164",ry:"30",fill:l[4]})})]}),(0,t.jsxs)("defs",{children:[(0,t.jsxs)("filter",{id:"filter0_f_124_1530",x:"16.1",y:"-61.9",width:"312.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter1_f_124_1530",x:"242.1",y:"-79.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter2_f_124_1530",x:"494.1",y:"-61.9",width:"395.8",height:"152.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter3_f_124_1530",x:"653.1",y:"-56.9",width:"204.8",height:"142.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter4_f_124_1530",x:"-188.9",y:"-43.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsx)("clipPath",{id:"clip0_124_1530",children:(0,t.jsx)("rect",{width:"678",height:"77",rx:"11",fill:"white"})})]})]})})}e.s(["NorthernLights",()=>s])},1509029,e=>{"use strict";var t=e.i(7432042);let i=(0,t.default)("32d"),s=(0,t.default)("25h"),l=(0,t.default)("4d"),r=(0,t.default)("14h");e.s(["FreeEntRetention",0,l,"FreeHobbyRetention",0,r,"FreeProRetention",0,s,"MeteredEvents",0,["incomingRequest","outgoingRequest","functionExecution","middlewareInvocation","aiGatewayRequest"],"PlusRetention",0,i])},5568858,3570807,e=>{"use strict";var t=e.i(8711407),i=e.i(8522580);e.i(5394896);var s=e.i(3769024),l=e.i(7432042),r=e.i(901210),n=e.i(5338940),a=e.i(1233856),o=e.i(1509029),c=e.i(9667097);async function d(e){let{teamId:t}=e,i=(0,a.startOfDuration)(new Date,{days:1}),s=new Date(i.getTime()-(0,l.default)("7d")),r=await Promise.all(o.MeteredEvents.map(async e=>{let l=await (0,c.getSonarData)({scope:{type:"owner",ownerId:t},reason:"observability_usage_estimate",event:e,rollups:{count:{measure:"count",aggregation:"sum"}},granularity:{days:1},startTime:s,endTime:i,groupBy:["projectId"],limit:5});return{event:e,data:l}})),n=new Map,d={totalEvents:0,eventBreakdown:{}};for(let{event:e,data:t}of r)for(let i of t.summary){let t=n.get(i.projectId)??0,s=Math.round((i.count??0)*4.25);n.set(i.projectId,t+s),d.totalEvents+=s,d.eventBreakdown[e]=(d.eventBreakdown[e]??0)+s}let u=r.flatMap(e=>{let{event:t,data:i}=e;return i.data.map(e=>{let{timestamp:i,count:s}=e;return{event:t,timestamp:i,value:4.25*Number(s)}})});return{eventBreakdown:d.eventBreakdown,totalEvents:Math.round(d.totalEvents),timeseries:u,eventsByProject:Array.from(n.entries()).map(e=>{let[t,i]=e;return{projectId:t,events:i}}).sort((e,t)=>t.events-e.events)}}var u=e.i(7114658),m=e.i(9736132),b=e.i(6060673),p=e.i(3869281),g=e.i(5255926),f=e.i(1176592),x=e.i(9722978);function h(){let{excludedProjects:e}=(0,u.useObservabilityPlusForProjects)(),{data:t}=function(){let{team:e}=(0,n.useTeam)();return(0,r.default)(e?.id,()=>e?d({teamId:e.id}):null)}(),{data:i}=(0,b.useProjects)(t&&e?Array.from(new Set([...e.map(e=>{let{id:t}=e;return t}),...t.eventsByProject.map(e=>{let{projectId:t}=e;return t}).slice(0,6)])):void 0,{config:{keepPreviousData:!0}});return{totalEvents:t?.eventsByProject?t.eventsByProject.reduce((t,i)=>{var l;let{projectId:r,events:n}=i;return void 0!==(l=(0,s.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},r)?t+n:t)?+l:void 0},0):void 0,excludedProjects:i?.filter(t=>!(0,s.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),includedProjects:i?.filter(t=>(0,s.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),observabilityUsage:t,totalExcludedProjects:e?.length??0}}function v(e){let{observabilityUsage:i,excludedProjects:s,includedProjects:l,canConfigure:r}=e,[n,a]=(0,f.useTransition)(),{toggleObservabilityPlusForProject:o}=(0,u.useObservabilityPlusForProjects)();return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(y,{leftColumnTitle:"Top 5 Projects *",rightColumnTitle:"~ Events in the last 30 days",children:l&&i?l.map(e=>{let s=i.eventsByProject.find(t=>t.projectId===e.id);return(0,t.jsx)(j,{disabled:n||!r,project:e,isIncluded:!0,onStatusChanged:()=>{a(async()=>{await o({projectName:e.name,disabled:!0})})},description:s?.events.toLocaleString()},e.id)}):(0,t.jsx)(t.Fragment,{children:Array.from(Array(s?.length??3).keys()).map(e=>(0,t.jsx)(j,{},e))})}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"* Other projects can be excluded in their Observability page"})]}),(0,t.jsx)(y,{leftColumnTitle:"Excluded Projects",children:s?.map(e=>(0,t.jsx)(j,{disabled:n||!r,project:e,isIncluded:!1,onStatusChanged:()=>{a(async()=>{await o({projectName:e.name,disabled:!1})})},description:"Excluded"},e.id))})]})}function y(e){let{children:i,leftColumnTitle:s,rightColumnTitle:l}=e;return(0,t.jsxs)("div",{className:" flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 pb-1",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:s}),l?(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000 text-right",children:l}):null]}),(0,t.jsx)("div",{className:"divide-1 divide-solid divide-x-0 divide-y",children:i})]})}function j(e){let{project:i,onStatusChanged:s,isIncluded:l,description:r,disabled:n}=e;return(0,t.jsx)("div",{className:"col-span-2 border-[var(--ds-gray-200)] tabular-nums",children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-2 py-2",children:[(0,t.jsxs)("div",{className:"flex cursor-pointer items-center justify-center gap-2",onClick:s,children:[(0,t.jsx)(p.Checkbox,{checked:l,disabled:n,onChange:s}),i?(0,t.jsx)(m.FrameworkAvatar,{isDisabled:!l,size:20,project:i}):(0,t.jsx)(m.FrameworkAvatarSkeleton,{size:20}),i?(0,t.jsx)("p",{className:(0,x.default)("text-copy-14",l?"text-gray-900":"text-gray-700"),children:i.name}):(0,t.jsx)(g.Skeleton,{width:50,height:20})]}),i?(0,t.jsx)("p",{className:(0,x.default)("text-copy-14 text-right",l?"text-gray-900":"text-gray-700"),children:r}):(0,t.jsx)(g.Skeleton,{width:50,height:20})]})})}e.s(["ProjectListWithUsageEvents",()=>v,"useIncludedAndExcludedProjectWithUsageEvents",()=>h],3570807);let C={surveyName:"Disable Observability Plus User Feedback",surveySlug:"disable-observability-plus-user-feedback",surveySteps:[{title:"Observability Plus has been disabled",description:"Help us improve by sharing your feedback.",fields:[{type:"select",id:"reasons-why",label:"Any reasons for disabling Observability Plus?",selectMultiple:!0,options:[{id:"missing-features",label:"Missing features",reveals:{id:"what-were-you-missing",label:"What were you missing?"}},{id:"too-expensive",label:"Too expensive",reveals:{id:"missing-controls",label:"What controls are missing?"}},{id:"prefer-another-product",label:"I prefer another product",reveals:{id:"preferred-product",label:"Which product do you prefer?"}},{id:"not-working-as-expected",label:"It is not working as expected",reveals:{id:"what-was-not-working",label:"What was not working?"}},{id:"just-looking-around",label:"I was just looking around"},{id:"other",label:"Other",reveals:{id:"other-reason",label:"Additional comments"}}]}]}]};var w=e.i(854682);e.i(5202960);var P=e.i(6880199),O=e.i(7917902),I=e.i(1717203),N=e.i(7557283),M=e.i(364898),S=e.i(4496450);function A(){let e=h(),{can:i,isLoading:s}=(0,I.default)(),l=!s&&i(N.Action.Update,N.Resource.ObservabilityConfiguration);return(0,t.jsx)(v,{...e,canConfigure:l})}e.s(["useToggleObservabilityPlus",0,e=>{let s,{team:l}=(0,O.useAccount)(),{hasOnlyMonitoring:r,hasObservabilityPlusAccess:n,mutate:a,applyPromotion:o}=(0,w.useHasObservabilityPlus)(),{excludedProjects:c,isObservabilityPlusForProjectsFlagEnabled:d}=(0,u.useObservabilityPlusForProjects)(),m={...function(e){let{hasOnlyMonitoring:s,team:l,source:r,refresh:n,skipPostConfirm:a,applyPromotion:o}=e,c=(0,t.jsxs)(t.Fragment,{children:["By disabling Observability Plus, you will immediately lose access to all advanced metrics. Only included metrics with limited retention window will be accessible.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(i.Note,{type:"warning",children:"Data collected while Observability Plus was disabled will not be visible if you re-enable it."}),(0,t.jsx)("br",{})]}),d={name:"observabilityBase",price:1e3*!o,enable:async()=>{l&&(await (0,P.patchObservabilityConfiguration)({team:l,enableTeam:!0,source:r}),await n())},enableSteps:{externalConfiguration:!0,confirm:{lineItems:[...s?[{name:"Monitoring with 250K data points",price:1e3,removal:!0}]:[],{name:"Observability Plus with 1M events",price:"from_invoice_item",discountPrice:o?0:void 0,discountDescriptor:o?"during first month":void 0},{name:"On-demand events",price:120,priceDescriptor:"per 1M events",discountPrice:o?0:void 0,discountDescriptor:o?(0,t.jsx)("span",{className:"text-blue-700",children:"during first month"}):void 0}],nonProratedCustomCopy:o?void 0:(0,t.jsxs)(t.Fragment,{children:[" ","and your credit card will be charged ",(0,t.jsx)("b",{children:"immediately"}),"."]}),customCopy:(0,t.jsxs)(t.Fragment,{children:[" ","Charges for on-demand events will be billed to your credit card as accrued.",o&&(0,t.jsxs)(i.Note,{fill:!0,type:"success",className:"mt-4",children:["Limited time: Get"," ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]})]}),confirmLabel:o?"Confirm":void 0}},disableSteps:{disable:{customDisableCopy:(0,t.jsxs)(t.Fragment,{children:[c,"Disabling will take effect now, regardless of your billing cycle."]})},exitSurvey:C},disable:async()=>{l&&(await (0,P.patchObservabilityConfiguration)({team:l,enableTeam:!1,source:r}),await n())}};return l?.billing?.plan==="enterprise"&&(0,S.isLegacyPlanIteration)(l?.billing?.planIteration)&&(d.disableSteps.disable.customDisableModal=(0,t.jsxs)(t.Fragment,{children:[c,"Please reach out to your account executive to disable Observability Plus."]})),a||(d.enableSteps.postConfirmConfiguration={instructions:null,content:(0,t.jsx)(A,{})}),d}({hasOnlyMonitoring:r,team:l,refresh:a,source:e.analyticsEventSource,skipPostConfirm:e.skipPostConfirm,applyPromotion:o}),...e,isEnabled:()=>n},{isEnabled:b,openEnableOrUpdateModal:p,openDisableModal:g,AddOnModal:f,formattedPrice:x}=(0,M.useTogglePaidAddOn)(m);return d&&(s=c?.length?`${c.length} project${1===c.length?"":"s"} excluded`:"Manage projects"),{addOn:m,isObservabilityPlusEnabled:b,enableObservabilityPlus:p,disableObservabilityPlus:g,ObservabilityPlusModal:f,pricingCopy:`${x} / month`,configureUIText:s}}],5568858)},6728635,2630141,e=>{"use strict";var t=e.i(8711407);e.i(6483798);var i=e.i(8287059),s=e.i(854682),l=e.i(5568858),r=e.i(6232213),n=e.i(5338940),a=e.i(1875382),o=e.i(1176592);e.i(5394896);var c=e.i(1509029),d=e.i(7114658),u=e.i(57106),m=e.i(1717203),b=e.i(7557283),p=e.i(9722978),g=e.i(3306538),f=e.i(6891161),x=e.i(8522580),h=e.i(5255926),v=e.i(5468328),y=e.i(1438473),j=e.i(199192),C=e.i(2988836),w=e.i(7749365),P=e.i(4333930),O=e.i(3228096),I=e.i(787358),N=e.i(762945),M=e.i(218692),S=e.i(6675233),A=e.i(4099936),E=e.i(682502),F=e.i(150374),k=e.i(455575),L=e.i(8914449);e.i(5202960);var _=e.i(6880199),T=e.i(4496450);let H=Object.fromEntries(Object.entries({p75DurationMs:"function-performance",functionDurationMs:"function-performance"}).map(e=>{let[t,i]=e;return[t.toLowerCase(),i]}));function V(e){return H[e.toLowerCase()]}let B={step:"choose",isEnabling:!1},U=(0,L.create)((e,t)=>({step:"closed",team:null,projectId:null,plan:"hobby",isTrialing:!1,isEnabling:!1,isLegacyEnt:!1,hasOnlyMonitoring:!1,openedFrom:!1,setProps:t=>{let{team:i,...s}=t,l=i?.billing?.plan??"hobby";e({...s,team:i,plan:l,isTrialing:"pro"===l&&i?.billing?.status==="trialing"})},open:function(){let{from:i="observability",via:s,upgradeUseCase:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{team:r,onOpen:n,isTrialing:a,plan:o}=t(),c=r?.billing?.plan==="enterprise"&&!(0,T.isOnUnbundledPricingPlan)(r);e({...B,source:s,upgradeUseCase:l,openedFrom:i,isLegacyEnt:c}),n?.({from:i||void 0,via:s,legacyEnt:c,teamUpgrade:a||"hobby"===o,upgradeUseCase:l})},close:()=>{e({step:"closed"})},doNext:async()=>{let{isEnabling:i,isLegacyEnt:s,isTrialing:l,plan:r,step:n,team:a,onContactSupport:o,onOpenTeamUpgrade:c,onSuccess:d,onConversion:u,source:m,onNext:b,openedFrom:p,upgradeUseCase:g}=t();if(a&&!i){if("choose"===n&&"pro"===r&&!l){b?.({from:p||void 0,via:m,teamUpgrade:!1,upgradeUseCase:g}),e({step:"paid-addon"});return}if("choose"===n){if("hobby"===r||l)b?.({from:p||void 0,via:m,teamUpgrade:!0,upgradeUseCase:g}),c?.({addOn:{additionalConfigurations:{team:a,source:"enable-modal"},type:"observabilityPlus"},disabledSteps:["team-members"],forceImmediateUpgrade:l,source:`observability-enable-modal${m?`-${m}`:""}`,teamHint:a.id,trialBehavior:"disallow-trial",onConversionSuccess:()=>{u?.({from:p||void 0,via:m,teamUpgrade:!0,upgradeUseCase:g}),d?.({team:a})},onAbandon:t=>{t&&e({step:"closed"})}});else if(s)b?.({from:p||void 0,via:m,legacyEnt:!0,upgradeUseCase:g}),o?.({team:a});else if("enterprise"===r){b?.({from:p||void 0,via:m,upgradeUseCase:g}),e({isEnabling:!0});try{await (0,_.patchObservabilityConfiguration)({team:a,enableTeam:!0,source:"enable-modal"}),k.toasts.success("Enabled Observability Plus.")}catch(t){e({isEnabling:!1}),k.toasts.error(`Failed to enable Observability Plus${t instanceof Error?`: ${t.message}`:""}`);return}d?.({team:a}),u?.({from:p||void 0,via:m,teamUpgrade:!1,upgradeUseCase:g})}e({step:"closed",isEnabling:!1})}}}}));e.s(["getUpgradeUseCaseForColumn",()=>V,"useModalState",0,U,"useOpenEnableModal",0,()=>U(e=>e.open)],2630141);var D=e.i(3570807),R=e.i(794055),G=e.i(6143247);let Z={incomingRequest:{label:"Edge Requests",description:"All requests received by the Vercel Edge Network"},outgoingRequest:{label:"External API Requests",description:"All HTTP requests made by your functions to external APIs"},functionExecution:{label:"Function Executions",description:"All executions of your Serverless and Edge Functions"},middlewareInvocation:{label:"Middleware Invocations",description:"All Edge and Node.js Middleware invocations"},aiGatewayRequest:{label:"AI Gateway Requests",description:"All requests made to the AI Gateway"}},$=e=>{let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return t.endsWith(".00")?t.slice(0,-3):t},q=e=>{let t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),i=t.endsWith(".00")?t.slice(0,-3):t;return`${i} MIU`},W=[{icon:N.Warning,title:"Anomaly Alerts",description:"Get notified when a function starts failing or usage spikes."},{icon:w.Clock,title:"30 days retention",description:"Explore data of the past 30 days across Observability and Logs."},{icon:M.LineChart,title:"Custom Queries",description:"Find exactly what you are looking for with custom queries."},{icon:F.Notebook,title:"Notebooks",description:"Save and share queries to collaborate with your team."},{icon:O.Globe,title:"External APIs Insights",description:"Dig deep into external API requests made by your functions."},{icon:P.FunctionSquare,title:"Advanced Insights",description:"Unlock insights into latency, middleware, and external APIs."}],z={"function-performance":{title:["Get insights into ",{text:"Function Performance",icon:P.FunctionSquare}]},function:{title:["Get deeper insights into ",{text:"Functions",icon:P.FunctionSquare}]},"middleware-performance":{title:["Get insights into ",{text:"Middleware Performance",icon:I.FunctionMiddleware}]},"external-apis":{title:["Get insights into ",{text:"External APIs",icon:O.Globe}]},retention:{title:["Unlock ",{text:"30 days of retention",icon:w.Clock}]},"anomaly-alerts":{title:["Be alerted when ",{text:"Anomalies",icon:N.Warning}," arise"],color:"amber"},"query-builder":{title:["Explore your data using ",{text:"Queries",icon:M.LineChart}],color:"pink"},"bot-insights":{title:["Get insights into ",{text:"Bots",icon:S.Robot}]},"blob-insights":{title:["Get deeper insights into ",{text:"Blob",icon:A.Blob}]},rewrites:{title:["Get insights into ",{text:"External Rewrites",icon:E.ArrowCrossed}]}};function Y(e){let{upgradeUseCase:i}=e,s=z[i],l=s.color||"blue";return(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold leading-relaxed",children:s.title.map(e=>"string"==typeof e?(0,t.jsx)("span",{children:e},e):(0,t.jsxs)("span",{className:(0,p.clsx)("inline-flex items-center gap-1 rounded-sm px-1.5 text-[1.4rem] translate-y-px","blue"===l&&"text-blue-700 bg-blue-100","amber"===l&&"text-amber-800 bg-amber-100","pink"===l&&"text-pink-700 bg-pink-100"),children:[e.icon&&(0,t.jsx)(e.icon,{size:18}),e.text]},e.text))}),(0,t.jsx)("div",{className:"text-2xl font-semibold",children:"with Observability Plus"})]})}function J(){return(0,t.jsx)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-7 px-1 py-3 mb-4",children:W.map(e=>{let i=e.icon;return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(i,{color:"gray-900",size:16}),(0,t.jsx)("span",{className:"text-[15px] font-semibold text-gray-1000",children:e.title})]}),(0,t.jsx)("p",{className:"text-[14px] leading-relaxed text-gray-900",children:e.description})]},e.title)})})}function Q(e){let{metric:i,count:s,loading:l}=e,r=Z[i];return(0,t.jsxs)(o.default.Fragment,{children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-sm text-gray-900",children:[r.label,r.description?(0,t.jsx)(v.Tooltip,{text:r.description,children:(0,t.jsx)(C.InformationFillSmall,{color:"gray-900"})}):null]}),l||void 0===s?(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(h.Skeleton,{height:10,width:35})}):(0,t.jsx)("span",{className:"text-right text-sm text-gray-900",children:(+s).toLocaleString()})]},i)}function K(e){let{onClose:i,applyPromotion:s}=e,l=(0,D.useIncludedAndExcludedProjectWithUsageEvents)(),{observabilityUsage:r,totalExcludedProjects:n,totalEvents:a}=l,v=(0,d.useObservabilityPlusForProjectsFlag)(),{doNext:y,hasOnlyMonitoring:C,team:w,plan:P,upgradeUseCase:O}=U(),I=U(ee),N=U(e=>e.isLegacyEnt),M=U(et),{can:S,isLoading:A}=(0,m.default)(),E=(0,o.useMemo)(()=>!A&&S(b.Action.Update,b.Resource.ObservabilityConfiguration),[A,S]),F="enterprise"===P,k=F&&!(0,T.isLegacyPlanIteration)(w?.billing?.planIteration)?q:$,L=void 0!==a?Math.max(0,a-1e6):void 0,_=void 0!==L?L/1e6*1.2:void 0,H=void 0!==_?10*!F+_:void 0;return(0,t.jsxs)(f.Modal.Modal,{width:640,active:!0,onClickOutside:i,children:[(0,t.jsxs)(f.Modal.Body,{className:(0,G.cn)("tailwind-preflight","[--modal-padding:1.5rem_!important] md:[--modal-padding:3rem_!important]"),children:[O?(0,t.jsx)("div",{className:(0,p.clsx)("h-24 w-full absolute top-0 inset-x-0 to-transparent bg-gradient-to-b hidden md:block","amber"===z[O].color?"from-amber-100":"pink"===z[O].color?"from-pink-100":"from-blue-100")}):(0,t.jsx)(R.NorthernLights,{className:"hidden md:block"}),(0,t.jsx)(f.Modal.Header,{children:(0,t.jsx)(f.Modal.Title,{className:"px-1 relative",children:O?(0,t.jsx)(Y,{upgradeUseCase:O}):M})}),(0,t.jsx)(J,{}),(0,t.jsxs)("div",{className:"mb-4",children:["Get more information about"," ",(0,t.jsx)(u.Link,{external:!0,href:"/docs/observability/observability-plus",variant:"highlight",children:"Observability Plus"}),"."]}),s&&(0,t.jsxs)(x.Note,{fill:!0,type:"success",label:!1,className:"my-4",children:[(0,t.jsx)(g.Badge,{className:"mr-2 bg-blue-800",capitalize:!1,children:"Black Friday / Cyber Monday"}),"Get ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]}),v?(0,t.jsx)("div",{className:"mt-2 flex flex-col",children:(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(j.ChevronRightSmall,{})}),(0,t.jsx)("span",{className:"font-medium text-gray-1000",children:"Included Projects"})]}),(0,t.jsx)("span",{className:"flex items-center gap-1 text-gray-900",children:n>0?`${n} Project${n>1?"s":""} excluded `:"All Projects"})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:(0,t.jsx)(D.ProjectListWithUsageEvents,{...l,canConfigure:E})})]})}):null,(0,t.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(j.ChevronRightSmall,{})}),(0,t.jsxs)("span",{className:"font-medium text-gray-1000",children:[C?"Observability":""," Cost Estimate*",(0,t.jsxs)("div",{className:"text-label-13 text-gray-900 leading-[18px]",children:[F?null:(0,t.jsxs)(t.Fragment,{children:[k(10)," per month + "]}),k(1.2)," per million events"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[s?(0,t.jsx)("span",{className:"text-blue-700 font-medium",children:"First month free"}):null,(0,t.jsxs)("span",{className:(0,G.cn)("flex items-center gap-1",s?"text-gray-900":"font-medium text-gray-1000"),children:[void 0!==H?`${s?"then ":""}~ ${k(H)}`:(0,t.jsx)(h.Skeleton,{height:18,width:30})," ",(0,t.jsx)("span",{children:"/ month"})]})]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:(0,p.clsx)("ml-0 grid grid-cols-[2fr,1fr] items-center gap-x-1 gap-y-3 border-t border-dashed p-3 pl-9"),children:[F?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Base Price"}),w?.billing?.planIteration!=="plus"&&(0,t.jsx)("span",{className:"text-label-13 text-gray-900",children:"Includes 1 million events, across all projects"})]}),(0,t.jsxs)("span",{className:"text-right text-sm text-gray-900",children:[k(10)," / month"]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Additional Events"}),(0,t.jsxs)("span",{className:"text-xs text-gray-900",children:[(0,t.jsx)("span",{children:void 0!==L?L?L.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:2}):"0":(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(h.Skeleton,{className:"mr-2 inline-block h-2 w-16 translate-y-0.5",height:12,width:20})})})," ","additional events Ã— ",k(1.2)," per million"]})]}),(0,t.jsx)("span",{className:"text-right text-gray-900",children:void 0!==_?_?k(_):"No additional cost":(0,t.jsx)(h.Skeleton,{className:"inline-block",height:18,width:30})})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:v?(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==a?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:a.toLocaleString()}):(0,t.jsx)(h.Skeleton,{height:18,width:50})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==a?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:a.toLocaleString()}):(0,t.jsx)(h.Skeleton,{height:18,width:50})]}),(0,t.jsx)("div",{className:"grid grid-cols-[2fr,1fr] gap-x-4 gap-y-1",children:r?.eventBreakdown?Object.entries(r.eventBreakdown).map(e=>{let[i,s]=e;return(0,t.jsx)(Q,{count:s,metric:i},i)}):(0,t.jsx)(t.Fragment,{children:c.MeteredEvents.map(e=>(0,t.jsx)(Q,{loading:!0,metric:e},e))})})]})})]}),(0,t.jsx)("div",{className:"px-4 text-gray-800 pb-2 text-xs bg-background-200 pl-10",children:"* Estimate is based on your team's activity over the last 30 days. The actual cost will vary depending on future usage patterns."})]}),C?(0,t.jsxs)(x.Note,{className:"-mx-2 mt-6",type:"violet",fill:!0,children:["By migrating, your team's existing Monitoring package will be replaced by Observability Plus","pro"===P?(0,t.jsx)(t.Fragment,{children:". The price per million events has already been reduced to $1.20. The base fee remains $10."}):null]}):null,"hobby"===P?(0,t.jsx)(x.Note,{className:"-mx-2 mt-8",type:"violet",fill:!0,children:"Upgrading to Observability Plus requires a paid plan."}):null,N?(0,t.jsx)(x.Note,{className:"-mx-2 mt-2",type:"cyan",children:"To enable Observability Plus, please contact your account executive."}):null]})]}),(0,t.jsxs)(f.Modal.Actions,{children:[(0,t.jsx)(f.Modal.Action,{onClick:i,type:"secondary",children:"Dismiss"}),!N&&(0,t.jsx)(X,{text:E?void 0:"Please ask your team owners",children:(0,t.jsx)(f.Modal.Action,{disabled:!E,loading:I.loading,onClick:()=>void y(),suffix:I.suffix,type:I.type,children:I.label})})]})]})}function X(e){let{text:i,children:s}=e;return i?(0,t.jsx)(v.Tooltip,{text:i,children:s}):s}function ee(e){let{plan:i,hasOnlyMonitoring:s,isEnabling:l}=e;return"enterprise"===i?{loading:l,label:s?"Confirm and Migrate":"Confirm"}:{label:"Continue",suffix:(0,t.jsx)(y.ArrowRight,{})}}function et(e){let{plan:t,hasOnlyMonitoring:i}=e;return i?"Migrate from Monitoring to Observability Plus":"hobby"===t?"Upgrade to Pro and Observability Plus":"Upgrade to Observability Plus"}e.i(3182268);var ei=e.i(7849855);function es(e){let{onClose:i}=e,{projectSlug:s}=(0,ei.useProjectSlug)(),{toggleObservabilityPlusForProject:l}=(0,d.useObservabilityPlusForProjects)(),[r,n]=(0,o.useTransition)();return(0,t.jsxs)(f.Modal.Modal,{active:!0,onClickOutside:i,children:[(0,t.jsxs)(f.Modal.Body,{className:"tailwind-preflight",children:[(0,t.jsx)(f.Modal.Header,{children:(0,t.jsx)(f.Modal.Title,{className:"px-1",children:"Include Project in Observability Plus"})}),(0,t.jsxs)("p",{className:"text-copy-14",children:["Include ",(0,t.jsx)("span",{className:"font-medium",children:s})," in Observability Plus to unlock advanced features. This will incur additional event usage."]})]}),(0,t.jsxs)(f.Modal.Actions,{children:[(0,t.jsx)(f.Modal.Action,{onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsx)(f.Modal.Action,{loading:r,onClick:()=>{s&&n(async()=>{await l({projectName:s,disabled:!1}),i()})},children:"Include Project"})]})]})}var el=e.i(3551360),er=e.i(7837522),en=e.i(7780974);function ea(){let{setProps:e,step:c,close:d,open:u,openedFrom:m,source:b,upgradeUseCase:p}=U(),{team:g}=(0,n.useTeam)(),f=(0,a.useRouter)(),{track:x}=(0,er.useTrackActivity)(),{hasOnlyMonitoring:h,mutate:v,hasObservabilityPlusAccessOnCurrentProject:y,hasObservabilityPlusAccess:j,ready:C,applyPromotion:w}=(0,s.useHasObservabilityPlus)(),P=(0,o.useCallback)(()=>{v(),f.refresh()},[f,v]),O=(0,o.useCallback)(e=>{f.push(`/help?teamSlug=${e.team.slug}`)},[f]),{enableObservabilityPlus:I,ObservabilityPlusModal:N}=(0,l.useToggleObservabilityPlus)({analyticsEventSource:"enable-modal",onSuccess:()=>{P(),E({from:m||void 0,via:b,teamUpgrade:!1,upgradeUseCase:p})},onClose:e=>{d(),e&&u({from:m||void 0,via:b,upgradeUseCase:p})},skipPostConfirm:!0}),M=(0,i.useOpenUpgradeModal)(),S=(0,o.useCallback)(e=>{x(en.VercelActivityAction.ObservabilityPlusModalOpened,e),(0,el.track)("Observability Upsell Clicked",{region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null})},[x]),A=(0,o.useCallback)(e=>{x(en.VercelActivityAction.ObservabilityPlusModalContinued,e)},[x]),E=(0,o.useCallback)(e=>{x(en.VercelActivityAction.ObservabilityPlusModalConverted,e),(0,el.track)("Observability Plus Conversion",{via:e.via??null,from:e.from??null,region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null,plan:g?.billing?.plan??"hobby"}),(0,r.postToStatsigClient)({events:[{eventName:"observability_plus_conversion",metadata:{via:e.via??""}}]})},[x,g?.billing?.plan]);return((0,o.useEffect)(()=>e({team:g,hasOnlyMonitoring:h,onContactSupport:O,onOpenTeamUpgrade:M,onSuccess:P,onOpen:S,onNext:A,onConversion:E}),[h,O,M,P,e,g,S,A,E]),(0,o.useEffect)(()=>{"paid-addon"===c&&I?.()},[I,c]),"choose"===c&&C&&j&&!y)?(0,t.jsx)(es,{onClose:d}):(0,t.jsxs)(t.Fragment,{children:["choose"===c?(0,t.jsx)(K,{onClose:d,applyPromotion:w}):null,"paid-addon"===c?N:null]})}e.s(["EnableModal",()=>ea],6728635)}]);

//# debugId=c0c61cbe-43e7-288b-5b47-7ba6ab36a1cc
//# sourceMappingURL=83e0cf3d84b36687.js.map