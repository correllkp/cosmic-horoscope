;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="beee1cfb-986f-1878-4b90-b657e2dae67b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2392837,e=>{e.v({code:"code-module__bxZiJq__code",disabled:"code-module__bxZiJq__disabled",lite:"code-module__bxZiJq__lite","no-wrap":"code-module__bxZiJq__no-wrap",pre:"code-module__bxZiJq__pre"})},6607601,e=>{"use strict";var t=e.i(8711407),i=e.i(9722978),s=e.i(9544652),r=e.i(2392837);function a(e){let{className:a,children:n,noWrap:o,fontSize:l,...d}=e,c=(0,s.useDisabled)();return(0,t.jsx)("code",{className:(0,i.clsx)(a,r.default.code,{[String(r.default["no-wrap"])]:o,[String(r.default.disabled)]:c}),style:{fontSize:l},...d,children:n})}e.s(["InlineCode",()=>a])},8250954,e=>{"use strict";var t=e.i(9487122);function i(e){return(0,t.constructFrom)(e,Date.now())}e.s(["constructNow",()=>i])},1581435,e=>{"use strict";var t=e.i(8250954),i=e.i(3868422);function s(e,s){return(0,i.formatDistance)(e,(0,t.constructNow)(e),s)}e.s(["formatDistanceToNow",()=>s])},7867910,e=>{"use strict";var t=e.i(1176592);function i(e,i){(0,t.useEffect)(()=>{let t=t=>{let s=document.activeElement,r=s&&["input","select","textarea"].includes(s.tagName.toLowerCase());t.key.toLowerCase()!==i||r||t.ctrlKey||t.metaKey||(t.preventDefault(),e())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,i])}e.s(["useHotkey",()=>i])},6936038,e=>{"use strict";var t=e.i(134877);function i(e){let{error:i,toasts:s,fallbackMessage:r="An error occurred. Please try again."}=e;(0,t.isAPIError)(i)?"unauthorized"===i.code?s.error("You do not have permission to perform this action."):"not_found"===i.code?s.error("The requested resource was not found."):"rate_limited"===i.code||"rate_limit_exceeded"===i.code?s.error("Rate limit exceeded. Please try again in a few minutes."):"invalid_credential"===i.code?s.error("Invalid input format. Please check your data and try again."):s.error(`Failed: ${i.message}`):s.error(r)}e.s(["showApiErrorToast",()=>i])},6905199,e=>{"use strict";function t(e,t){let i=e.trim();return{label:i?`${i}`:"API Key",partialKey:`â€¦${t}`}}function i(e){let t=e?.membership?.role;return"MEMBER"===t||"OWNER"===t}e.s(["canMutateKeys",()=>i,"getApiKeyDisplayName",()=>t])},3180901,e=>{"use strict";var t=e.i(1176592);let i=(0,t.createContext)(null);function s(){let e=(0,t.useContext)(i);if(!e)throw Error("useApiKeysContext must be used within an ApiKeysProvider");return e}e.s(["ApiKeysContext",0,i,"useApiKeysContext",()=>s])},7250676,e=>{"use strict";var t=e.i(8711407),i=e.i(4585051),s=e.i(2064047),r=e.i(8674454),a=e.i(6694387),n=e.i(4991687),o=e.i(8459493),l=e.i(6850581),d=e.i(5255926),c=e.i(6607601),u=e.i(8876434),x=e.i(1581435),m=e.i(923772),y=e.i(1176592),p=e.i(277234),h=e.i(5338940),f=e.i(6891161),g=e.i(455575),j=e.i(7867910),w=e.i(119294),_=e.i(6352514),A=e.i(134877),v=e.i(7722264),E=e.i(6936038),k=e.i(6905199),C=e.i(3180901);function K(e){let{isModalActive:i,setIsModalActive:s,apiKey:r}=e,[a,n]=(0,y.useState)("idle"),{team:o}=(0,h.useTeam)(),{actions:{revalidate:l}}=(0,C.useApiKeysContext)(),d=(0,g.useToasts)(),{label:u,partialKey:x}=(0,k.getApiKeyDisplayName)(r.name,r.partialKey),m=(0,y.useCallback)(async()=>{if(o)try{await (0,p.fetchAPI)(`/api/api-keys/${r.id}?teamId=${o.id}`,{method:"DELETE"}),n("idle"),s(!1),await l()}catch(e){w.analytics.track(_.AnalyticsEvent.AI_GATEWAY_API_KEY_DELETION_ERROR,{message:(0,v.isError)(e)?e.message:"Unknown error",teamId:o.id,errorCode:(0,A.isAPIError)(e)?e.code:void 0}),(0,E.showApiErrorToast)({error:e,toasts:d,fallbackMessage:"Failed to delete key. Please try again."}),n("idle")}},[o,r,l,s,d]),K=(0,y.useCallback)(async()=>{"in_progress"!==a&&(n("in_progress"),await m())},[m,a]);return(0,j.useHotkey)(()=>{i&&"in_progress"!==a&&s(!1)},"Escape"),(0,j.useHotkey)(()=>{i&&"in_progress"!==a&&K()},"Enter"),(0,t.jsxs)(f.Modal.Modal,{active:i,onClickOutside:()=>{s(!1)},children:[(0,t.jsx)(f.Modal.Body,{children:(0,t.jsxs)(f.Modal.Header,{children:[(0,t.jsx)(f.Modal.Title,{children:"Delete API Key"}),(0,t.jsxs)("p",{className:"text-copy-16",children:["This will permanently disable all AI Gateway requests using the"," ",(0,t.jsx)("span",{className:"font-medium",children:u})," ",(0,t.jsx)(c.InlineCode,{className:"font-normal text-[15px]",children:x})," ","API key ."]})]})}),(0,t.jsxs)(f.Modal.Actions,{children:[(0,t.jsx)(f.Modal.Action,{onClick:()=>{s(!1)},type:"secondary",children:"Cancel"}),(0,t.jsx)(f.Modal.Action,{onClick:K,type:"error",loading:"in_progress"===a,children:"Delete API Key"})]})]})}function N(e){let{apiKey:d,canDelete:p=!0}=e,{id:h,name:f,partialKey:g,createdAt:j,createdBy:w,activeAt:_}=d,[A,v]=(0,y.useState)(!1),{label:E,partialKey:C}=(0,k.getApiKeyDisplayName)(f,g);return(0,t.jsx)(s.Entity,{left:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:[E," ",(0,t.jsx)(c.InlineCode,{className:"font-normal text-[13px] border-transparent",children:C})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:_?`Last used ${(0,x.formatDistanceToNow)(new Date(_))} ago`:"Never used"})]}),right:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(l.RelativeTimeCard,{date:new Date(j).getTime(),side:"top",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:`Created ${(0,x.formatDistanceToNow)(new Date(j))} ago`})}),(0,t.jsx)(i.Avatar,{uid:w,size:20}),p?(0,t.jsxs)(n.MenuContainer,{children:[(0,t.jsx)(a.MenuButton,{"aria-label":"More options",type:"tertiary",shape:"square",size:"small",svgOnly:!0,children:(0,t.jsx)(u.MoreHorizontal,{})}),(0,t.jsx)(r.Menu,{width:220,children:(0,t.jsx)(o.MenuItem,{prefix:(0,t.jsx)(m.Trash,{}),onClick:()=>{v(!0)},type:"error",children:"Delete Key"})})]}):null]}),children:p&&A?(0,t.jsx)(K,{apiKey:d,isModalActive:A,setIsModalActive:v}):null})}function b(){return(0,t.jsx)(s.Entity,{left:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsx)(d.Skeleton,{height:16,width:150}),(0,t.jsx)(d.Skeleton,{height:20,width:100})]}),right:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(d.Skeleton,{height:20,width:100}),(0,t.jsx)(d.Skeleton,{rounded:!0,height:20,width:20}),(0,t.jsx)(a.MenuButton,{"aria-label":"More options",type:"tertiary",shape:"square",size:"small",svgOnly:!0,disabled:!0,children:(0,t.jsx)(u.MoreHorizontal,{})})]})})}e.s(["ApiKeyItem",()=>N,"ApiKeyItemSkeleton",()=>b],7250676)}]);

//# debugId=beee1cfb-986f-1878-4b90-b657e2dae67b
//# sourceMappingURL=8521f90c1ac250f5.js.map