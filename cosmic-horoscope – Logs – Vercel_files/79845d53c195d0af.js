;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b086341b-4db8-5327-919d-ba43f158fd97")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1813317,e=>{"use strict";var t=e.i(7557283),i=e.i(1283928);function r(e){let{dimension:t,team:r,can:n,isSeawallFlagged:a,isFirewallFlagged:l}=e,o=i.AllDimensions[t];return!(o.restrictions?.some(e=>{let[t,i]=e;return!n(t,i)})||"clientIp"===t&&r.hideIpAddresses||"wafAction"===t&&!a&&!l||["wafRuleId","clientJa4Digest","clientIpCountry"].includes(t)&&!l)}function n(e){let{measure:t}=e;return!0}function a(e){let{event:r,team:n,can:a}=e,l=i.AllEvents[r];return!l.restrictions?.some(e=>{let[t,i]=e;return!a(t,i)})&&("blockedConnection"!==r||!!(n.permissions?.ipBlocking?.includes(t.Action.List)&&n.permissions.domain?.includes(t.Action.List)))}e.s(["canAccessDimension",()=>r,"canAccessEvent",()=>a,"canAccessMeasure",()=>n,"getAggregableMeasures",0,e=>Object.keys(i.AllMeasures).filter(t=>{let r=i.AllMeasures[t];return"canAggregate"in r&&(Array.isArray(r.canAggregate)?r.canAggregate.includes(e):r.events.includes(e))}),"getGroupableDimensions",0,e=>Object.keys(i.AllDimensions).filter(t=>{let r=i.AllDimensions[t];return"canGroupBy"in r&&r.events.includes(e)})])},9486194,e=>{"use strict";e.s(["queryBuilderEvents",0,["incomingRequest","imageTransformation","isrOperation","serverlessFunctionInvocation","middlewareInvocation","outgoingRequest","aiGatewayRequest","blockedConnection","firewallAction","botIdCheck","edgeFunctionInvocation"],"staticDimensionValues",0,[{dimensions:["environment"],values:[{id:"production",label:"Production"},{id:"preview",label:"Preview"}]},{dimensions:["requestMethod"],values:[{id:"GET"},{id:"POST"},{id:"PUT"},{id:"DELETE"},{id:"PATCH"},{id:"HEAD"},{id:"OPTIONS"},{id:"PROPFIND"},{id:"TRACE"},{id:"CONNECT"},{id:"PROPPATCH"},{id:"MKCOL"},{id:"COPY"},{id:"MOVE"},{id:"LOCK"},{id:"UNLOCK"}]},{dimensions:["httpStatus"],values:[{id:100},{id:101},{id:102},{id:103},{id:200},{id:201},{id:202},{id:203},{id:204},{id:205},{id:206},{id:207},{id:208},{id:226},{id:300},{id:301},{id:302},{id:303},{id:304},{id:305},{id:306},{id:307},{id:308},{id:400},{id:401},{id:402},{id:403},{id:404},{id:405},{id:406},{id:407},{id:408},{id:409},{id:410},{id:411},{id:412},{id:413},{id:414},{id:415},{id:416},{id:417},{id:418},{id:421},{id:422},{id:423},{id:424},{id:425},{id:426},{id:428},{id:429},{id:431},{id:451},{id:500},{id:501},{id:502},{id:503},{id:504},{id:505},{id:506},{id:507},{id:508},{id:510},{id:511}]},{dimensions:["edgeNetworkRegion","functionRegion","imageTransformationRegion","isrShieldRegion"],values:[{id:"sfo1",label:"San Francisco, USA"},{id:"bom1",label:"Mumbai, India"},{id:"sin1",label:"Singapore"},{id:"fra1",label:"Frankfurt, Germany"},{id:"iad1",label:"Washington D.C., USA"},{id:"cdg1",label:"Paris, France"},{id:"hkg1",label:"Hong Kong, China"},{id:"gru1",label:"SÃ£o Paulo, Brazil"},{id:"arn1",label:"Stockholm, Sweden"},{id:"cle1",label:"Cleveland, USA"},{id:"cpt1",label:"Cape Town, South Africa"},{id:"dub1",label:"Dublin, Ireland"},{id:"dxb1",label:"Dubai, UAE"},{id:"hnd1",label:"Tokyo, Japan"},{id:"icn1",label:"Seoul, South Korea"},{id:"kix1",label:"Osaka, Japan"},{id:"lhr1",label:"London, UK"},{id:"pdx1",label:"Portland, USA"},{id:"syd1",label:"Sydney, Australia"}]},{dimensions:["cacheResult"],values:[{id:"HIT"},{id:"MISS"},{id:"BYPASS"},{id:"STALE"},{id:"REVALIDATED"},{id:"PRERENDER"}]},{dimensions:["wafAction"],values:[{id:"log",label:"LOG"},{id:"bypass",label:"BYPASS"},{id:"challenge",label:"CHALLENGE"},{id:"challenge-solved",label:"CHALLENGE_SOLVED"},{id:"challenge-failed",label:"CHALLENGE_FAILED"},{id:"deny",label:"DENY"},{id:"rate_limit",label:"RATE_LIMIT"},{id:"redirect",label:"REDIRECT"},{id:"allow",label:"ALLOW"}]},{dimensions:["skewProtection"],values:[{id:"active"},{id:"inactive"}]},{dimensions:["functionStartType"],values:[{id:"hot",label:"HOT"},{id:"cold",label:"COLD"},{id:"prewarmed",label:"PREWARMED"},{id:"unknown",label:"UNKNOWN"}]}]])},9179929,e=>{"use strict";var t=e.i(2749380),i=e.i(1233856),r=e.i(1176592),n=e.i(5778089);function a(e){let{enrich:n,meta:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,r.useMemo)(()=>{if(!e?.summary)return null;let r=a?.timeseries?.by??[],l=a?.timeseries?.lowGranularity,o=a?.timeseries?.granularity,s=n?e.summary.map(e=>({...e,...n(e)})):e.summary,u=n?e.data?.map(e=>({...e,...n(e)})):e.data,d=r.length>0&&u?u.reduce((e,t)=>{let i=r.map(e=>t[e]).join(",");return e[i]??=[],e[i].push(t),e},{}):{};if(r.length>0&&u){let e=o||(()=>{if(!u.length)return{minutes:1};let e=u.map(e=>new Date(e.timestamp).getTime()),i=Math.min(...e),r=Math.max(...e);return(0,t.getGranularityFromDuration)(r-i,l)})();Object.keys(d).forEach(t=>{let n=d[t];if(0===n.length)return;let a={};n.forEach(t=>{let r=new Date(t.timestamp),n=(0,i.startOfDuration)(r,e).toISOString();a[n]??=[],a[n].push(t)});let l=[];Object.entries(a).forEach(e=>{let[t,i]=e;if(0===i.length)return;let n={...i[0],timestamp:t};Object.keys(i[0]).filter(e=>"number"==typeof i[0][e]&&!r.includes(e)).forEach(e=>{n[e]=i.reduce((t,i)=>t+(i[e]||0),0)}),l.push(n)}),d[t]=l})}let c={};for(let e of s)for(let t in e)"number"==typeof e[t]&&(!c[t]||e[t]>c[t])&&(c[t]=e[t]);let f=Object.keys(c);return s.map(e=>{let t={},i=r.length>0?r.map(t=>e[t]).join(","):null;if(i){let e=d[i];for(let i of f)e&&(t[i]=e.map(e=>({date:e.timestamp,value:e[i]})))}return e.meta={maxValue:c,timeseries:t},e})},[e?.data,e?.summary,a?.timeseries?.by,a?.timeseries?.lowGranularity,a?.timeseries?.granularity,n,...l])}function l(e,t){return(0,r.useMemo)(()=>{if(!e?.data)return null;let i={};if("singleCategoryName"in t){let{singleCategoryName:i,rollupName:r="value"}=t;return e.data.map(e=>{let{timestamp:t,...n}=e;return{name:t.toISOString(),[i]:n[r]}})}if("rollupCategories"in t){let{rollupCategories:r,filter:n}=t;e.data.forEach(e=>{if(n&&!n(e))return;let t=e.timestamp.toISOString();Object.entries(r).forEach(r=>{let[n,a]=r,l=e[n]??null;i[t]??={name:t};let o=i[t][a]??null;i[t][a]=null!==l?(o??0)+l:o})})}else{let{category:r,value:a="value",filter:l}=t,o="string"==typeof r?e=>e[r]:r,s="string"==typeof a?e=>e[a]??null:a;e.data.forEach(e=>{if(l&&!l(e))return;let t=e.timestamp.toISOString(),r=o(e)||n.emptyStringReplacement,a=s(e);i[t]??={name:t};let u=i[t][r]??null;i[t][r]=null!==a?(u??0)+a:u})}return Object.values(i)},[e?.data,t])}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.useMemo)(()=>{if(!e?.summary)return null;let{value:i="value",filter:r}=t,n=e.summary;return(r&&(n=n.filter(r)),"function"==typeof i)?n.reduce((e,t)=>e+(i(t)??0),0):n.reduce((e,t)=>e+(t[i]??0),0)},[e?.summary,t])}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.useMemo)(()=>{if(!e?.data)return null;let{value:i="value",filter:r}=t,n="string"==typeof i?e=>e[i]??null:i;for(let t=e.data.length-1;t>=0;t--){if(r&&!r(e.data[t]))continue;let i=n(e.data[t]);if(null!==i)return i}return null},[e?.data,t])}e.s(["useLast",()=>s,"useSum",()=>o,"useTableData",()=>a,"useTimeseriesData",()=>l])},5182595,639493,e=>{"use strict";var t=e.i(8711407),i=e.i(3868422),r=e.i(516467);function n(e){return+(0,r.toDate)(e)}var a=e.i(268049),l=e.i(3333777),o=e.i(4616527),s=e.i(7712782),u=e.i(931197),d=e.i(5467025),c=e.i(5297450),f=e.i(6062041);e.i(7286972);var m=e.i(5693388),h=e.i(1176592),g=e.i(4337458),y=e.i(8151845),v=e.i(7797615),p=e.i(2749380),x=e.i(7917902),b=e.i(2504781),w=e.i(3973638),k=e.i(6143247),j=e.i(5417900),O=e.i(2457239),S=e.i(7363883),C=e.i(8390034),A=e.i(3808395),D=e.i(9088781),E=e.i(3096764),T=e.i(7720946),M=e.i(594678),N=e.i(1963084),R=["x1","y1","x2","y2","key"],L=["offset"];function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach(function(t){var r,n,a;r=e,n=t,a=i[t],(n=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function K(){return(K=Object.assign.bind()).apply(this,arguments)}function F(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var G=function(e){var t=e.fill;if(!t||"none"===t)return null;var i=e.fillOpacity,r=e.x,n=e.y,a=e.width,l=e.height,o=e.ry;return h.default.createElement("rect",{x:r,y:n,ry:o,width:a,height:l,stroke:"none",fill:t,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function H(e,t){var i;if(h.default.isValidElement(e))i=h.default.cloneElement(e,t);else if((0,S.default)(e))i=e(t);else{var r=t.x1,n=t.y1,a=t.x2,l=t.y2,o=t.key,s=F(t,R),u=(0,D.filterProps)(s,!1),d=(u.offset,F(u,L));i=h.default.createElement("line",K({},d,{x1:r,y1:n,x2:a,y2:l,fill:"none",key:o}))}return i}function W(e){var t=e.x,i=e.width,r=e.horizontal,n=void 0===r||r,a=e.horizontalPoints;if(!n||!a||!a.length)return null;var l=a.map(function(r,a){return H(n,z(z({},e),{},{x1:t,y1:r,x2:t+i,y2:r,key:"line-".concat(a),index:a}))});return h.default.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function B(e){var t=e.y,i=e.height,r=e.vertical,n=void 0===r||r,a=e.verticalPoints;if(!n||!a||!a.length)return null;var l=a.map(function(r,a){return H(n,z(z({},e),{},{x1:r,y1:t,x2:r,y2:t+i,key:"line-".concat(a),index:a}))});return h.default.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function V(e){var t=e.horizontalFill,i=e.fillOpacity,r=e.x,n=e.y,a=e.width,l=e.height,o=e.horizontalPoints,s=e.horizontal;if(!(void 0===s||s)||!t||!t.length)return null;var u=o.map(function(e){return Math.round(e+n-n)}).sort(function(e,t){return e-t});n!==u[0]&&u.unshift(0);var d=u.map(function(e,o){var s=u[o+1]?u[o+1]-e:n+l-e;if(s<=0)return null;var d=o%t.length;return h.default.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:s,width:a,stroke:"none",fill:t[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return h.default.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function U(e){var t=e.vertical,i=e.verticalFill,r=e.fillOpacity,n=e.x,a=e.y,l=e.width,o=e.height,s=e.verticalPoints;if(!(void 0===t||t)||!i||!i.length)return null;var u=s.map(function(e){return Math.round(e+n-n)}).sort(function(e,t){return e-t});n!==u[0]&&u.unshift(0);var d=u.map(function(e,t){var s=u[t+1]?u[t+1]-e:n+l-e;if(s<=0)return null;var d=t%i.length;return h.default.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:s,height:o,stroke:"none",fill:i[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.default.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var q=function(e,t){var i=e.xAxis,r=e.width,n=e.height,a=e.offset;return(0,E.getCoordinatesOfGrid)((0,T.getTicks)(z(z(z({},M.CartesianAxis.defaultProps),i),{},{ticks:(0,E.getTicksOfAxis)(i,!0),viewBox:{x:0,y:0,width:r,height:n}})),a.left,a.left+a.width,t)},$=function(e,t){var i=e.yAxis,r=e.width,n=e.height,a=e.offset;return(0,E.getCoordinatesOfGrid)((0,T.getTicks)(z(z(z({},M.CartesianAxis.defaultProps),i),{},{ticks:(0,E.getTicksOfAxis)(i,!0),viewBox:{x:0,y:0,width:r,height:n}})),a.top,a.top+a.height,t)},Y=[],Q=[];function X(e){var t,i,r,n,a,l,o=(0,N.useChartWidth)(),s=(0,N.useChartHeight)(),u=(0,N.useOffset)(),d=z(z({},e),{},{stroke:null!=(t=e.stroke)?t:"#ccc",fill:null!=(i=e.fill)?i:"none",horizontal:null==(r=e.horizontal)||r,horizontalFill:null!=(n=e.horizontalFill)?n:Q,vertical:null==(a=e.vertical)||a,verticalFill:null!=(l=e.verticalFill)?l:Y,x:(0,A.isNumber)(e.x)?e.x:u.left,y:(0,A.isNumber)(e.y)?e.y:u.top,width:(0,A.isNumber)(e.width)?e.width:u.width,height:(0,A.isNumber)(e.height)?e.height:u.height}),c=d.x,f=d.y,m=d.width,g=d.height,y=d.syncWithTicks,v=d.horizontalValues,p=d.verticalValues,x=(0,N.useArbitraryXAxis)(),b=(0,N.useYAxisWithFiniteDomainOrRandom)();if(!(0,A.isNumber)(m)||m<=0||!(0,A.isNumber)(g)||g<=0||!(0,A.isNumber)(c)||c!==+c||!(0,A.isNumber)(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||q,k=d.horizontalCoordinatesGenerator||$,j=d.horizontalPoints,O=d.verticalPoints;if((!j||!j.length)&&(0,S.default)(k)){var D=v&&v.length,E=k({yAxis:b?z(z({},b),{},{ticks:D?v:b.ticks}):void 0,width:o,height:s,offset:u},!!D||y);(0,C.warn)(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(P(E),"]")),Array.isArray(E)&&(j=E)}if((!O||!O.length)&&(0,S.default)(w)){var T=p&&p.length,M=w({xAxis:x?z(z({},x),{},{ticks:T?p:x.ticks}):void 0,width:o,height:s,offset:u},!!T||y);(0,C.warn)(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(P(M),"]")),Array.isArray(M)&&(O=M)}return h.default.createElement("g",{className:"recharts-cartesian-grid"},h.default.createElement(G,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),h.default.createElement(W,K({},d,{offset:u,horizontalPoints:j,xAxis:x,yAxis:b})),h.default.createElement(B,K({},d,{offset:u,verticalPoints:O,xAxis:x,yAxis:b})),h.default.createElement(V,K({},d,{horizontalPoints:j})),h.default.createElement(U,K({},d,{verticalPoints:O})))}X.displayName="CartesianGrid";var _=e.i(9156474),J=e.i(6717525),Z=e.i(2706633),ee=e.i(9655063),et=e.i(6541294),ei=e.i(4327554),er=e.i(8919966),en=e.i(994464),ea=e.i(7164130),el=e.i(8690335);function eo(e,t){if(!e?.length)return()=>null;let i=e.map(e=>e[t]).filter(e=>"number"==typeof e&&!Number.isNaN(e));return i.length?e=>{switch(e){case"sum":return i.reduce((e,t)=>e+t,0);case"avg":return i.reduce((e,t)=>e+t,0)/i.length;case"max":return Math.max(...i);case"min":return Math.min(...i);case"first":return i[0];case"lastComplete":return i[i.length-2];case"last":return i[i.length-1]}}:()=>null}e.s(["createRollupCalculator",()=>eo],639493);var es=e.i(3351543),eu=e.i(5406549),ed=e.i(4597921);function ec(e){let{value:i,color:r,label:n,highlight:a}=e;return(0,t.jsxs)("div",{className:(0,k.cn)("flex flex-1 items-center gap-x-2 rounded-sm px-2 py-0.5",!1===a?"opacity-50":null),children:[(0,t.jsx)("div",{className:"size-1.5 rounded-full",style:{backgroundColor:r}}),(0,t.jsxs)("div",{className:"flex flex-1 justify-between gap-x-2",children:[(0,t.jsx)("span",{children:n})," ",(0,t.jsx)("span",{className:"font-medium tabular-nums",children:i})]})]})}function ef(e){let{payload:i,label:r,ref:n,getColor:a,contentOverride:o,secondaryYAxisKeys:s,formatValue:u,formatSecondaryValue:d,formatName:c,hoverValue:f,intervalMs:m,hideZeroValuesInTooltip:g}=e,y=i?.[0]?.payload?.name,v=new Date(y||"Invalid date"),p=(0,h.useMemo)(()=>{let e=(0,es.filterPayload)(i),t=g?e.filter(e=>("number"==typeof e.value?e.value:0)>0):e;return(t.length>=6?t.toSorted((e,t)=>{if("Others"===e.dataKey)return 1;if("Others"===t.dataKey)return -1;let i="number"==typeof e.value?e.value:-1/0,r="number"==typeof t.value?t.value:-1/0;return r!==i?r-i:String(e.name).localeCompare(String(t.name))}):t.toSorted((e,t)=>"Others"===e.dataKey?1:"Others"===t.dataKey?-1:0)).slice(0,15)},[i,g]);return p.length?(0,t.jsxs)("div",{className:"pointer-events-none flex max-h-80 max-w-lg min-w-44 flex-col rounded bg-background-100 text-xs shadow-tooltip mt-2",ref:n,children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-hidden p-1.5 pb-0",children:(0,t.jsx)("div",{className:"flex flex-col gap-0.5",children:o??p.map(e=>{let i=s?.includes(e.dataKey)?d:u;return(0,t.jsx)(ec,{color:a(String(e.dataKey)),highlight:f?f===e.dataKey:null,label:e.dataKey?.toString()||"Not set",value:i&&"number"==typeof e.value?i(e.value,"tooltip"):`${e.value?.toString()}`},e.dataKey)})})}),(0,t.jsx)("div",{className:"flex flex-col gap-1.5 shrink-0 p-1.5 pt-1 text-center",children:c?c(y):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-800",children:(0,l.formatDateRange)(v,new Date(v.getTime()+m))}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,l.formatDateRange)(v,new Date(v.getTime()+m),{timezone:"UTC"})," ","UTC"]})]})})]},`ts-${r}`):null}function em(e){let{coordinate:i,label:r,viewBox:n,offset:a,ref:l}=e,s=new Date(r).toLocaleString(void 0,{hour:"numeric",minute:"2-digit",second:"numeric",day:"numeric",month:"2-digit",year:"2-digit"});return(0,t.jsx)(o.Tooltip,{className:"pointer-events-none absolute w-[18ch] bg-transparent bg-none",left:i?.x,ref:l,top:(n.top??0)+(n.height??0)-(a??0)-14,unstyled:!0,children:(0,t.jsx)("span",{className:"absolute flex h-[28px] -translate-x-1/2 items-center justify-center rounded-full border bg-gray-1000 px-2 text-xs font-[400] text-white",children:s})})}function eh(e){let{onZoomIn:r,onAnalyze:n,timestampLeft:a,timestampRight:o,ref:s}=e;return(0,t.jsx)("div",{className:"point items-center rounded bg-background-100 px-0.5 py-1 text-xs shadow-tooltip",ref:s,children:(0,t.jsxs)("div",{className:"flex flex-col gap-1.5 p-2",children:[a&&o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:(0,l.formatDateRange)(new Date(a),new Date(o))}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,l.formatDateRange)(new Date(a),new Date(o),{timezone:"UTC"})," ","UTC"]}),(0,t.jsx)("span",{className:"text-center text-gray-900",children:(0,i.formatDistance)(new Date(a),new Date(o))})]}):null,r?(0,t.jsx)(b.Button,{className:"!h-6 !text-xs",onClick:r,size:"small",children:"Zoom In"}):null,n?(0,t.jsx)(b.Button,{className:"!h-6 !text-xs",onClick:n,size:"small",children:"Analyze"}):null]})})}function eg(){return null}function ey(e){var i;let r,o,{data:b,title:k,isLoading:S,syncId:C="sonar",disableLegend:A,renderCustomLegend:D,lineType:E="linear",formatValue:T=v.formatNumberCompact,formatAxisValue:M,formatXAxisValue:N,formatSecondaryValue:R=T,yAxisDomain:L,scale:P="linear",categories:I,showRollup:z=!1,placeholderKeys:K=[],secondaryYAxisKeys:F,rollupConfig:G,headerHeight:H,hideXAxis:W=!1,hideYAxis:B=!1,hideTooltip:V=!1,hideGrid:U=!1,allowTooltipEscape:q=!1,builderQuery:$,agentWorkflow:Y="observability-investigation",customChartContent:Q,onZoomIn:ec,disableZoom:ey=!1,maxLines:ex=20,xTickCount:eb=2,yTickCount:ew=3,isRelativeTime:ek=!1,tooltipStyle:ej="value-list",granularity:eO,sonarQueryResults:eS,yAxisWidth:eC,marginLeft:eA,hideZeroValuesInTooltip:eD=!1}=e;if("log"===P&&!L)throw Error("yAxisDomain is required when using a log scale");let eE=(r=(0,ed.useServerFlag)("enable-observability-agent",!1),o=(0,ed.useServerFlag)("enable-firewall-agent",!1),"observability-investigation"===Y?r:"firewall-investigation"===Y&&o),eT=(0,h.useRef)(null),eM=(0,h.useRef)(null),[,eN]=(0,y.useSonarQueryState)(),eR=(0,d.useObservabilityChartContext)(),eL=(0,g.useSonarQueryScope)(),eP=(0,c.useShowDemoDataContext)(),eI=(0,h.useMemo)(()=>!!($&&eL&&eE),[$,eL,eE]),ez=!ey&&b.length>0,eK=ez||eI,[eF,eG]=(0,h.useState)(!1),eH=(0,h.useRef)(!1),[eW,eB]=(0,h.useState)([]),[eV,eU]=(0,h.useState)(null),[eq,e$]=(0,h.useState)(null),[eY,eQ]=(0,h.useState)(null),[eX,e_]=(0,h.useState)(null),eJ=(0,h.useCallback)((e,t)=>eU([e,t]),[eU]),{handleMouseDown:eZ,isDragging:e0,refAreaLeft:e1,refAreaRight:e2,mouseX:e5}=function(e,t,i){let[r,n]=(0,h.useState)(!1),a=(0,h.useRef)(!1),[l,o]=(0,h.useState)(null),[s,u]=(0,h.useState)(null),[d,c]=(0,h.useState)(null),f=(0,h.useRef)(null),m=(0,h.useRef)(null),g=(0,h.useRef)(null),y=(0,h.useRef)(null),v=(0,h.useCallback)(i=>{if(!e.current)return null;let r=e.current.getBoundingClientRect(),n=r.left+50,a=r.width-70,l=i-n;return{index:Math.max(0,Math.min(Math.floor(Math.max(0,Math.min(1,(l-l/a*15)/a))*(t-1)),t-1)),mouseX:Math.max(50,Math.min(a+50,l+50))}},[e,t]),p=(0,h.useCallback)(e=>{if(!a.current)return;let t=v(e.clientX);null!==t&&(u(t.index),c(t.mouseX),m.current=t.index)},[v]),x=(0,h.useCallback)(()=>{if(a.current){let e=f.current,t=m.current;if(null===e||null===t)a.current=!1,n(!1),o(null),u(null);else{let r={start:Math.min(e,t),end:Math.max(e,t)};i(r.start,r.end),a.current=!1,n(!1),o(null),u(null)}c(null)}g.current&&(window.removeEventListener("mousemove",g.current),g.current=null),y.current&&(window.removeEventListener("mouseup",y.current),y.current=null)},[i]),b=(0,h.useCallback)(e=>{a.current=!0,n(!0),c(null),o(e?.activeTooltipIndex??null),f.current=e?.activeTooltipIndex??null,m.current=null,g.current=p,y.current=x,window.addEventListener("mousemove",g.current),window.addEventListener("mouseup",y.current)},[p,x]);return(0,h.useEffect)(()=>()=>{g.current&&window.removeEventListener("mousemove",g.current),y.current&&window.removeEventListener("mouseup",y.current)},[]),{handleMouseDown:b,isDragging:r,refAreaLeft:l,refAreaRight:s,mouseX:d}}(eT,b.length,eJ),e4=(0,h.useCallback)(e=>{eK&&(eU(null),eZ(e))},[eZ,eK]),e3=(0,h.useCallback)(()=>{e$(null),eQ(null),eH.current=!1,eG(!1),eR.setHoveredRow?.(void 0),eR.setHoveredTimestamp?.(void 0)},[eR]),e7=null!==e1?b[e1]:eV?b[eV[0]]:null,e6=null!==e2?b[e2]:eV?b[eV[1]]:null,e9=N?e=>N(new Date(e)):e=>{let t=new Date(e);return ek?(0,s.ago)(Date.now()-t.getTime()):(0,m.formatWithGranularity)(t,u.Granularity.Hour,!0)},e8=(0,h.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&eU(null)},[]);i=()=>e8(!0),(0,h.useEffect)(()=>{function e(e){"Escape"===e.key&&i()}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[i]);let te=(0,h.useCallback)(()=>{if(!e7||!e6)return;let e={from:new Date(e7.name),to:new Date(e6.name)};ec?ec(e):eN(e),e8(!0)},[e7,e6,e8,eN,ec]),tt=(0,h.useMemo)(()=>function(e){if("payload"in e&&null===e.payload[e.dataKey])return null;let i=b[e.index-1]?.[e.dataKey],r=b[e.index+1]?.[e.dataKey];return null==i&&null==r?(0,t.jsx)("circle",{cx:e.cx,cy:e.cy,fill:e.fill,fillOpacity:e.strokeWidth,r:e.strokeWidth},e.key):null},[b]),ti=(0,h.useMemo)(()=>{let e=new Date,t=b.length-1;for(;t>=0&&new Date(b[t].name)>e;)t--;return t>=0?b.slice(0,t+1):[]},[b]),tr=(0,h.useMemo)(()=>{let e=new Set;for(let t of ti)for(let i of Object.keys(t))"name"!==i&&e.add(i);return Array.from(e)},[ti]),tn=I||(0!==ti.length?tr:K),ta=tn.some(e=>e===eR.hoveredRow?.value),tl=(0,h.useMemo)(()=>"string"==typeof e.getColor?t=>eR.getColor(e.getColor,t):e.getColor??f.nameToColor,[e.getColor,eR.getColor]),to=(0,h.useMemo)(()=>{let e=[];for(let t of tn)if(!I&&"name"!==t||I){let i=eo(ti,t);e.push({dataKey:t,yAxisId:+!!F?.includes(t),color:tl(t),shouldFade:ta&&void 0!==eR.hoveredRow&&eR.hoveredRow.value!==t,sum:i("sum"),avg:i("avg"),firstValue:i("first"),lastValue:i("lastComplete")})}return e.sort((e,t)=>(e.sum??0)-(t.sum??0)).slice(-ex)},[tn,I,F,tl,ti,ta,eR.hoveredRow,ex]);(0,h.useEffect)(()=>{"string"==typeof e.getColor&&eR.registerColorKeys(e.getColor,to.map(e=>{let{dataKey:t}=e;return t}).reverse())},[e.getColor,to,eR]);let ts=E.startsWith("step"),tu=ts?O.AreaChart:Z.LineChart,td=ts?j.Area:J.Line,tc=40;z||D||H||k?(60===H||z||D)&&(tc=60):tc=1;let tf=!S&&ti.length>0,tm=(0,h.useMemo)(()=>({start:new Date(eS?.query?.startTime??ti.at(0)?.name??Date.now()),end:new Date(eS?.query?.endTime??ti.at(-1)?.name??Date.now())}),[eS,ti]),{xTicks:th,intervalMs:tg}=(0,h.useMemo)(()=>{let e=!!ti[0],{start:t,end:i}=tm,r=Math.floor(ti.length/(eb-1)),n=(0,a.milliseconds)(eO??(0,p.getGranularityFromDuration)(i.getTime()-t.getTime(),!1)),l=new Date(i.getTime()-n);return{xTicks:e?[...Array.from({length:eb-1},(e,t)=>new Date(ti[t*r].name).toISOString()),l.toISOString()]:[t.toISOString(),l.toISOString()],intervalMs:n}},[eb,ti,eO,tm]),{marks:ty,emptyMessage:tv}=(0,h.useMemo)(()=>{var i,r;let a=e.emptyState??"No data in this time range";if(!eS)return{marks:e.marks??[],emptyMessage:a};if(0===b.length&&eS.query){let{startTime:e,endTime:i,excludedIntervals:r}=eS.query,o=n(e),s=n(i),u=r?.find(e=>{let{start:t,end:i}=e;return t<=o&&s<=i});u&&(a=(0,t.jsxs)("span",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(w.EyeOff,{color:"gray-900"}),(0,t.jsx)("span",{children:"Observability Plus was disabled"}),(0,t.jsxs)("span",{className:"text-xs",children:["from"," ",(0,l.formatDateRange)(new Date(u.start),new Date(u.end),{separator:" to "})]})]}))}return{marks:(i=(e.marks??[]).concat((0,f.excludedIntervalsToMarks)(eS)),r=tg,i.filter(e=>{let{startTime:t,endTime:i}=e;return!i||!t||n(i)-n(t)>=r})),emptyMessage:a}},[eS,e.marks,e.emptyState,b,tg]),tp=(0,h.useCallback)((e,t)=>{let{clientX:i}=t;e_(i),eH.current||(eH.current=!0,eG(!0));try{let t=n(e.activeLabel||"");eR.setHoveredTimestamp?.(Number.isNaN(t)?void 0:new Date(t));let i=!1;for(let e of ty)if("timestamp"in e&&e.timestamp){let r=n(e.timestamp),a=Math.max(3e5,Math.min(72e5,2*tg));if(Math.abs(r-t)<=a){e$(e),i=!0;break}}else if("startTime"in e&&e.startTime&&e.endTime){let r=n(e.startTime),a=n(e.endTime);if(r<=t&&t<=a){eQ(e),i=!0;break}}i||(e$(null),eQ(null))}catch{}},[eR,ty,eY,tg]),tx=(0,h.useCallback)(e=>tf||L?(M??T)(e,"yaxis").replace(/(?: GB-hrs)/,"").replace(" ",""):"",[M,T,tf,L]),{user:tb,team:tw}=(0,x.useAccount)(),tk=(0,eu.useAIInvestigationsStore)(e=>e.addInvestigation),tj=(0,h.useCallback)(()=>{var e,t,i,r;let n,a;!tb||!tw||$&&e7&&e6&&eL&&(tk({user:{uid:tb.uid,username:tb.username},teamId:tw.id,workflow:Y??"observability-investigation",input:(e=$,t=new Date(e7.name),i=new Date(e6.name),r=eL,n=(0,el.toSonarQuery)(e),a=(0,f.getRoundedDateRange)({startTime:t,endTime:i}),{...n,...a,scope:r})}),e8(!0))},[tb,tw,Y,tk,$,e7,e6,e8,eL]),tO=(0,h.useMemo)(()=>({left:eA??0,right:0,bottom:+!!B,top:1}),[B,eA]),tS=!!(e0&&e6||eV),tC=(0,h.useMemo)(()=>eM.current&&eX?eX<(window.innerWidth||document.documentElement.clientWidth)-(eM.current.getBoundingClientRect().width+20):null,[eX]);return(0,t.jsxs)("div",{"data-share-dom-copy":"1",className:"relative size-full",children:[(0,t.jsx)(ei.ResponsiveContainer,{className:"select-none",height:"100%",ref:eT,width:"100%",children:(0,t.jsxs)(tu,{className:"overflow-visible [&>svg]:overflow-visible",data:S&&0===ti.length?[]:ti,margin:tO,onMouseDown:e4,onMouseMove:tp,onMouseLeave:e3,style:{cursor:V||ey?"default":"crosshair",opacity:S?.35:1,transition:"opacity 0.15s ease-in-out"},...tS?{}:{syncId:C},children:[U?(0,t.jsx)(et.ReferenceLine,{y:0,stroke:"var(--ds-gray-400)",strokeWidth:1,style:{transform:"translateY(0.25px)"}}):(0,t.jsx)(X,{stroke:"var(--ds-gray-100)",strokeWidth:1,syncWithTicks:!0,vertical:!1}),(0,t.jsx)(ea.YAxis,{axisLine:!1,domain:L||(tf?void 0:[0,10]),hide:B,fontSize:12,scale:P,tickCount:ew,tickFormatter:tx,tickLine:!1,width:eC??50}),void 0!==F?(0,t.jsx)(ea.YAxis,{yAxisId:1,domain:[0,e=>1.4*e],hide:!0}):null,(0,t.jsx)(en.XAxis,{axisLine:{stroke:"var(--ds-gray-400)"},dataKey:"name",height:"dots"===ej?38:28,hide:W,tick:{fill:"var(--ds-gray-700)",fontSize:"dots"===ej?14:12,fontFamily:"var(--font-sans)"},ticks:th,tickFormatter:e9,tickLine:!1,tickSize:7,tickMargin:"dots"===ej?15:5}),eP||V?null:(0,t.jsx)(er.Tooltip,{animationDuration:0,content:tS?(0,t.jsx)(eh,{onZoomIn:ez?te:void 0,onAnalyze:eI?tj:void 0,ref:eM,timestampLeft:e7?.name,timestampRight:e6?.name}):eF?"value-list"===ej?(0,t.jsx)(ef,{formatValue:T,formatSecondaryValue:R,getColor:tl,hoverValue:ta?eR.hoveredRow?.value:null,intervalMs:tg,ref:eM,secondaryYAxisKeys:F,contentOverride:eY?.tooltipContent,hideZeroValuesInTooltip:eD}):(0,t.jsx)(em,{ref:eM}):(0,t.jsx)(eg,{}),allowEscapeViewBox:tS?void 0:{x:tC||q,y:tC||q},cursor:{stroke:"dots"===ej?"var(--ds-gray-500)":"var(--ds-gray-1000)",strokeDasharray:"dots"===ej?"6,2":void 0,strokeWidth:+(ti.length>0&&!e0&&!eV)},offset:10,position:{y:tc,x:!tS&&e5&&tC?e5+10:void 0},trigger:eV?"click":"hover",wrapperStyle:{visibility:"visible",pointerEvents:"auto",zIndex:100}}),to.map(e=>{let{dataKey:i,yAxisId:r,color:n,shouldFade:a}=e,l=Math.floor(1e4*Math.random()),o={animationDuration:0,dataKey:i,fill:n,hide:eW.includes(i),stackId:ts?"a":void 0,strokeWidth:ts?1:1.5,style:{transition:"opacity 0.05s ease-out, background-color 0.05s ease-out",opacity:a?.2:1,backgroundColor:n,fillOpacity:ts&&!a?.15:0},type:E,yAxisId:r,onMouseEnter:()=>{eR.setHoveredRow?.({value:i})},onMouseLeave:()=>{eR.setHoveredRow?.(void 0)}};return(0,t.jsxs)(h.Fragment,{children:[ek?(0,t.jsxs)("defs",{children:[ep(`${l}-line`,[o.fill??"","transparent"],ti.length),ep(`${l}-dash`,["transparent",o.fill??""],ti.length)]}):null,(0,t.jsx)(td,{activeDot:{r:5,strokeWidth:2*("dots"===ej&&!tS),fill:"dots"!==ej||tS?"transparent":n,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave},dot:tt,stroke:!ts&&ek?`url(#${l}-line)`:n,...o}),!ts&&ek?(0,t.jsx)(td,{activeDot:!1,dot:!1,stroke:`url(#${l}-dash)`,strokeDasharray:"2 2",...o},`${i}-dash`):null]},i)}),ts&&ek&&ti.length>=2?(0,t.jsx)(ee.ReferenceArea,{fill:"var(--ds-background-100)",strokeOpacity:.5,x1:ti.at(-2)?.name,x2:ti.at(-1)?.name}):null,A&&!k?null:(0,t.jsx)(_.Legend,{align:z?"left":"right",content:D??(z?(0,t.jsx)(es.LegendRollupContent,{disableLegend:!0,disabledMetrics:eW,formatValue:T,isLoading:!!S,onClickTag:(e,t)=>{t?eB(Object.keys(b[0]||{}).filter(t=>t!==e)):eB(t=>eW.includes(e)?t.filter(t=>t!==e):[...t,e])},placeholderKeys:K,rollupConfig:G,rollupData:to,setHoveredKey:e=>{e?eR.setHoveredRow?.({value:e}):eR.setHoveredRow?.(void 0)},title:k}):(0,t.jsx)(es.LegendContent,{disabledMetrics:eW,hide:A,onClickTag:(e,t)=>{t?eB(Object.keys(b[0]||{}).filter(t=>t!==e)):eB(t=>eW.includes(e)?t.filter(t=>t!==e):[...t,e])},setHoveredKey:e=>{e?eR.setHoveredRow?.({value:e}):eR.setHoveredRow?.(void 0)},title:k})),fontSize:12,height:tc,iconSize:6,iconType:"circle",verticalAlign:"top"}),e7&&e6&&eK?(0,t.jsx)(ee.ReferenceArea,{fill:"var(--ds-gray-alpha-500)",strokeOpacity:.3,x1:e7.name,x2:e6.name}):null,ty.length>0&&(0,t.jsx)("g",{children:ty.filter(e=>"timestamp"===e.type).map(e=>{let i=e.color||"var(--ds-red-600)";if(e.timestamp){let r=new Date(Math.round(n(e.timestamp)/tg)*tg).toISOString();return(0,t.jsx)("g",{children:(0,t.jsx)(et.ReferenceLine,{x:r,stroke:i,strokeWidth:1,strokeDasharray:"3,3",strokeOpacity:.6,label:eq?.id===e.id?ev({value:e.label??"Anomaly",fill:i}):void 0,style:{zIndex:1e3}})},e.id)}return null})},"chart-marks"),ty.filter(e=>"area"===e.type).map(e=>{let i=e.color||"var(--ds-red-700)";if(e.startTime&&e.endTime){let r=Math.max(n(e.startTime),tm.start.getTime()),a=Math.min(n(e.endTime),tm.end.getTime()),l=Math.round(r/tg)*tg,o=Math.round(a/tg)*tg;return(0,t.jsx)(ee.ReferenceArea,{x1:new Date(l).toISOString(),x2:new Date(o).toISOString(),fill:i,fillOpacity:.03,radius:5,stroke:i,strokeOpacity:.8,strokeWidth:1,strokeDasharray:"3,3",label:e.children?function(e,i,r){let{children:n}=e;if(n&&!(i<3*r))return e=>{let i,{viewBox:r}=e;return r&&"x"in r&&(i=`translate(${(r.x??0)+(r.width??0)/2}, ${(r.y??0)+(r.height??0)/2})`),(0,t.jsx)("g",{transform:i,children:n})}}(e,o-l,tg):eY?.id===e.id?ev({value:e.label||"Anomaly Period",fill:i}):void 0,style:{zIndex:1e3,cursor:"pointer"}},e.id)}return null}),Q||null]})}),!tf&&!S&&(0,t.jsx)(es.EmptyStateWrapper,{topOffset:tc,children:tv}),(0,t.jsx)("div",{className:"duration-[time:50ms] absolute inset-x-0 bottom-0 z-10 flex translate-y-5 justify-center opacity-0 !transition-all focus-within:opacity-100 group-hover/chart:opacity-100 focus:opacity-100",children:$?(0,t.jsx)(es.DelayedHoverQueryBuilderButton,{builderQuery:$}):null})]})}function ev(e){return{position:"top",fontSize:10,fontWeight:500,...e}}function ep(e,i,r){let[n,a]=i;if(r<2)return(0,t.jsxs)("linearGradient",{id:e,x1:"0",y1:"0",x2:"100%",y2:"0",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:n}),(0,t.jsx)("stop",{offset:"100%",stopColor:a})]});let l=`${(r-2)*100/(r-1)}%`;return(0,t.jsxs)("linearGradient",{id:e,x1:"0",y1:"0",x2:"100%",y2:"0",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:n}),(0,t.jsx)("stop",{offset:l,stopColor:n}),(0,t.jsx)("stop",{offset:l,stopColor:a}),(0,t.jsx)("stop",{offset:"100%",stopColor:a})]})}e.s(["LineChart",()=>ey],5182595)}]);

//# debugId=b086341b-4db8-5327-919d-ba43f158fd97
//# sourceMappingURL=638aee7367ef35fb.js.map