;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b206bf4f-78d5-b978-fe2b-a441240a9234")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1902869,e=>{e.v({dimensionsContainer:"tooltip-module__r4tAyG__dimensionsContainer",locked:"tooltip-module__r4tAyG__locked",tooltip:"tooltip-module__r4tAyG__tooltip",tooltipDate:"tooltip-module__r4tAyG__tooltipDate"})},2314794,e=>{e.v({colorIndicator:"list-tooltip-module__V7_y4G__colorIndicator",date:"list-tooltip-module__V7_y4G__date",highlightedItem:"list-tooltip-module__V7_y4G__highlightedItem",itemName:"list-tooltip-module__V7_y4G__itemName",itemValue:"list-tooltip-module__V7_y4G__itemValue",list:"list-tooltip-module__V7_y4G__list",listItem:"list-tooltip-module__V7_y4G__listItem",otherItem:"list-tooltip-module__V7_y4G__otherItem",productListTooltip:"list-tooltip-module__V7_y4G__productListTooltip",title:"list-tooltip-module__V7_y4G__title",total:"list-tooltip-module__V7_y4G__total"})},5114891,e=>{e.v({bar:"bars-module__iDDfzW__bar",barOverlay:"bars-module__iDDfzW__barOverlay",barOverlaySelected:"bars-module__iDDfzW__barOverlaySelected",barSelected:"bars-module__iDDfzW__barSelected"})},8303205,e=>{e.v({autoVisibility:"body-module__gZgq1G__autoVisibility",chartAxis:"body-module__gZgq1G__chartAxis",chartContainer:"body-module__gZgq1G__chartContainer"})},3070885,e=>{e.v({container:"legend-module__CCQ9Ya__container",hasMore:"legend-module__CCQ9Ya__hasMore",legendRow:"legend-module__CCQ9Ya__legendRow",showMore:"legend-module__CCQ9Ya__showMore",total:"legend-module__CCQ9Ya__total"})},2312502,e=>{e.v({container:"styles-module__NIZ89G__container",content:"styles-module__NIZ89G__content",disabled:"styles-module__NIZ89G__disabled",expanded:"styles-module__NIZ89G__expanded",header:"styles-module__NIZ89G__header",noHover:"styles-module__NIZ89G__noHover"})},2051099,e=>{"use strict";var t,r,a,l,s,i,n,o=e.i(8711407),u=e.i(1176592),c=e.i(8522445),d=e.i(7432286),f=e.i(7954259);function h(e){let{children:t,className:r,minHeight:a=360}=e,[l,s]=(0,u.useState)(!1),[i,n]=(0,u.useState)(a),c=(0,u.useRef)(null);return(0,u.useEffect)(()=>{let e=c.current;if(!e)return;let t=new IntersectionObserver(t=>{let[r=null]=t;if(!r)return;let a=!1;s(e=>(a=e&&!r.isIntersecting,r.isIntersecting)),a&&n(e.clientHeight)},{rootMargin:"800px 0px"});return t.observe(e),()=>t.disconnect()},[]),(0,o.jsx)("div",{className:r,ref:c,style:l?{minHeight:a,transition:"opacity 0.1s"}:{height:i,minHeight:a,opacity:0},children:l?t:null})}let m={defaultColors:["var(--ds-blue-700)","var(--ds-amber-700)","var(--ds-green-700)","var(--ds-teal-700)","var(--ds-purple-700)","var(--ds-pink-700)","var(--ds-red-700)","var(--ds-gray-700)","var(--ds-blue-600)","var(--ds-amber-600)","var(--ds-green-600)","var(--ds-teal-600)","var(--ds-purple-600)","var(--ds-pink-600)","var(--ds-red-600)","var(--ds-gray-600)","var(--ds-blue-400)","var(--ds-amber-400)","var(--ds-green-400)","var(--ds-teal-400)","var(--ds-purple-400)","var(--ds-pink-400)","var(--ds-red-400)","var(--ds-gray-400)"],namedColors:{success:["var(--ds-blue-700)","var(--ds-blue-500)","var(--ds-blue-200)","var(--ds-blue-1000)"],error:["var(--ds-red-800)","var(--ds-red-500)","var(--ds-red-200)","var(--ds-red-1000)"],warning:["var(--ds-amber-700)","var(--ds-amber-500)","var(--ds-amber-200)","var(--ds-amber-1000)"]}};var p=e.i(2993788),g=e.i(6578653),x=e.i(1777823),v=e.i(9134700),y=e.i(3518484),b=e.i(1230902),j=Object.defineProperty,w={},_={assign:()=>ee,colors:()=>Z,createStringInterpolator:()=>a,skipAnimation:()=>J,to:()=>l,willAdvance:()=>X};for(var k in _)j(w,k,{get:_[k],enumerable:!0});var S=D(),C=e=>F(e,S),N=D();C.write=e=>F(e,N);var M=D();C.onStart=e=>F(e,M);var I=D();C.onFrame=e=>F(e,I);var A=D();C.onFinish=e=>F(e,A);var E=[];C.setTimeout=(e,t)=>{let r=C.now()+t,a=()=>{let e=E.findIndex(e=>e.cancel==a);~e&&E.splice(e,1),V-=!!~e},l={time:r,handler:e,cancel:a};return E.splice(P(r),0,l),V+=1,R(),l};var P=e=>~(~E.findIndex(t=>t.time>e)||~E.length);C.cancel=e=>{M.delete(e),I.delete(e),A.delete(e),S.delete(e),N.delete(e)},C.sync=e=>{O=!0,C.batchedUpdates(e),O=!1},C.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function a(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];t=a,C.onStart(r)}return a.handler=e,a.cancel=()=>{M.delete(r),t=null},a};var T="undefined"!=typeof window?window.requestAnimationFrame:()=>{};C.use=e=>T=e,C.now="undefined"!=typeof performance?()=>performance.now():Date.now,C.batchedUpdates=e=>e(),C.catch=console.error,C.frameLoop="always",C.advance=()=>{"demand"!==C.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):B()};var U=-1,V=0,O=!1;function F(e,t){O?(t.delete(e),e(0)):(t.add(e),R())}function R(){U<0&&(U=0,"demand"!==C.frameLoop&&T(L))}function L(){~U&&(T(L),C.batchedUpdates(B))}function B(){let e=U,t=P(U=C.now());(t&&($(E.splice(0,t),e=>e.handler()),V-=t),V)?(M.flush(),S.flush(e?Math.min(64,U-e):16.667),I.flush(),N.flush(),A.flush()):U=-1}function D(){let e=new Set,t=e;return{add(r){V+=+!(t!=e||e.has(r)),e.add(r)},delete:r=>(V-=t==e&&e.has(r)?1:0,e.delete(r)),flush(r){t.size&&(e=new Set,V-=t.size,$(t,t=>t(r)&&e.add(t)),V+=e.size,t=e)}}}function $(e,t){e.forEach(e=>{try{t(e)}catch(e){C.catch(e)}})}function H(){}var z={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function G(e,t){if(z.arr(e)){if(!z.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}function W(e,t,r){if(z.arr(e)){for(let a=0;a<e.length;a++)t.call(r,e[a],`${a}`);return}for(let a in e)e.hasOwnProperty(a)&&t.call(r,e[a],a)}var q=e=>z.und(e)?[]:z.arr(e)?e:[e];function Q(e,t){if(e.size){let r=Array.from(e);e.clear(),r.forEach(t)}}var K=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return Q(e,e=>e(...r))},Y=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Z=null,J=!1,X=H,ee=e=>{e.to&&(l=e.to),e.now&&(C.now=e.now),void 0!==e.colors&&(Z=e.colors),null!=e.skipAnimation&&(J=e.skipAnimation),e.createStringInterpolator&&(a=e.createStringInterpolator),e.requestAnimationFrame&&C.use(e.requestAnimationFrame),e.batchedUpdates&&(C.batchedUpdates=e.batchedUpdates),e.willAdvance&&(X=e.willAdvance),e.frameLoop&&(C.frameLoop=e.frameLoop)},et=new Set,er=[],ea=[],el=0,es={get idle(){return!et.size&&!er.length},start(e){el>e.priority?(et.add(e),C.onStart(ei)):(en(e),C(eu))},advance:eu,sort(e){if(el)C.onFrame(()=>es.sort(e));else{let t=er.indexOf(e);~t&&(er.splice(t,1),eo(e))}},clear(){er=[],et.clear()}};function ei(){et.forEach(en),et.clear(),C(eu)}function en(e){er.includes(e)||eo(e)}function eo(e){var t,r;let a;er.splice((t=er,r=t=>t.priority>e.priority,(a=t.findIndex(r))<0?t.length:a),0,e)}function eu(e){let t=ea;for(let r=0;r<er.length;r++){let a=er[r];el=a.priority,!a.idle&&(X(a),a.advance(e),a.idle||t.push(a))}return el=0,(ea=er).length=0,(er=t).length>0}var ec="[-+]?\\d*\\.?\\d+",ed=ec+"%";function ef(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var eh=RegExp("rgb"+ef(ec,ec,ec)),em=RegExp("rgba"+ef(ec,ec,ec,ec)),ep=RegExp("hsl"+ef(ec,ed,ed)),eg=RegExp("hsla"+ef(ec,ed,ed,ec)),ex=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ev=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ey=/^#([0-9a-fA-F]{6})$/,eb=/^#([0-9a-fA-F]{8})$/;function ej(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ew(e,t,r){let a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;return Math.round(255*ej(l,a,e+1/3))<<24|Math.round(255*ej(l,a,e))<<16|Math.round(255*ej(l,a,e-1/3))<<8}function e_(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function ek(e){return(parseFloat(e)%360+360)%360/360}function eS(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function eC(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function eN(e){let t,r="number"==typeof e?e>>>0===e&&e>=0&&e<=0xffffffff?e:null:(t=ey.exec(e))?parseInt(t[1]+"ff",16)>>>0:Z&&void 0!==Z[e]?Z[e]:(t=eh.exec(e))?(e_(t[1])<<24|e_(t[2])<<16|e_(t[3])<<8|255)>>>0:(t=em.exec(e))?(e_(t[1])<<24|e_(t[2])<<16|e_(t[3])<<8|eS(t[4]))>>>0:(t=ex.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=eb.exec(e))?parseInt(t[1],16)>>>0:(t=ev.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ep.exec(e))?(255|ew(ek(t[1]),eC(t[2]),eC(t[3])))>>>0:(t=eg.exec(e))?(ew(ek(t[1]),eC(t[2]),eC(t[3]))|eS(t[4]))>>>0:null;if(null===r)return e;let a=(0xff000000&(r=r||0))>>>24,l=(0xff0000&r)>>>16,s=(65280&r)>>>8,i=(255&r)/255;return`rgba(${a}, ${l}, ${s}, ${i})`}var eM=(e,t,r)=>{if(z.fun(e))return e;if(z.arr(e))return eM({range:e,output:t,extrapolate:r});if(z.str(e.output[0]))return a(e);let l=e.output,s=e.range||[0,1],i=e.extrapolateLeft||e.extrapolate||"extend",n=e.extrapolateRight||e.extrapolate||"extend",o=e.easing||(e=>e);return t=>{let r=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(t,s);return function(e,t,r,a,l,s,i,n,o){let u=o?o(e):e;if(u<t)if("identity"===i)return u;else"clamp"===i&&(u=t);if(u>r)if("identity"===n)return u;else"clamp"===n&&(u=r);return a===l?a:t===r?e<=t?a:l:(t===-1/0?u=-u:r===1/0?u-=t:u=(u-t)/(r-t),u=s(u),a===-1/0?u=-u:l===1/0?u+=a:u=u*(l-a)+a,u)}(t,s[r],s[r+1],l[r],l[r+1],o,i,n,e.map)}},eI=Symbol.for("FluidValue.get"),eA=Symbol.for("FluidValue.observers"),eE=e=>!!(e&&e[eI]),eP=e=>e&&e[eI]?e[eI]():e,eT=e=>e[eA]||null;function eU(e,t){let r=e[eA];r&&r.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}var eV=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");eO(this,e)}},eO=(e,t)=>eL(e,eI,t);function eF(e,t){if(e[eI]){let r=e[eA];r||eL(e,eA,r=new Set),!r.has(t)&&(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function eR(e,t){let r=e[eA];if(r&&r.has(t)){let a=r.size-1;a?r.delete(t):e[eA]=null,e.observerRemoved&&e.observerRemoved(a,t)}}var eL=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),eB=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eD=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,e$=RegExp(`(${eB.source})(%|[a-z]+)`,"i"),eH=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ez=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eG=e=>{let[t,r]=eW(e);if(!t||Y())return e;let a=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(a)return a.trim();if(r&&r.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(e)return e}else if(r&&ez.test(r))return eG(r);else if(r)return r;return e},eW=e=>{let t=ez.exec(e);if(!t)return[,];let[,r,a]=t;return[r,a]},eq=(e,t,r,a,l)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(a)}, ${l})`,eQ=e=>{s||(s=Z?RegExp(`(${Object.keys(Z).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>eP(e).replace(ez,eG).replace(eD,eN).replace(s,eN)),r=t.map(e=>e.match(eB).map(Number)),a=r[0].map((e,t)=>r.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>eM({...e,output:t}));return e=>{let r=!e$.test(t[0])&&t.find(e=>e$.test(e))?.replace(eB,""),l=0;return t[0].replace(eB,()=>`${a[l++](e)}${r||""}`).replace(eH,eq)}},eK="react-spring: ",eY=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eK}once requires a function parameter`);return function(){for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];t||(e(...a),t=!0)}},eZ=eY(console.warn);function eJ(){eZ(`${eK}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var eX=eY(console.warn);function e0(e){return z.str(e)&&("#"==e[0]||/\d/.test(e)||!Y()&&ez.test(e)||e in(Z||{}))}var e1=new WeakMap,e2=e=>e.forEach(e=>{let{target:t,contentRect:r}=e;return e1.get(t)?.forEach(e=>e(r))}),e5=new Set,e4=function(e){let t,{container:r=document.documentElement}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r===document.documentElement){let t;return e5.add(e),n||(t=()=>{e5.forEach(e=>e({width:window.innerWidth,height:window.innerHeight}))},window.addEventListener("resize",t),n=()=>{window.removeEventListener("resize",t)}),()=>{e5.delete(e),!e5.size&&n&&(n(),n=void 0)}}return i||"undefined"==typeof ResizeObserver||(i=new ResizeObserver(e2)),(t=e1.get(r))||(t=new Set,e1.set(r,t)),t.add(e),i&&i.observe(r),()=>{let t=e1.get(r);t&&(t.delete(e),!t.size&&i&&i.unobserve(r))}},e8={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},e9=class{constructor(e,t){this.createAxis=()=>({current:0,progress:0,scrollLength:0}),this.updateAxis=e=>{let t,r,a=this.info[e],{length:l,position:s}=e8[e];a.current=this.container[`scroll${s}`],a.scrollLength=this.container["scroll"+l]-this.container["client"+l],t=a.scrollLength,r=a.current,a.progress=t-0==0?1:(r-0)/(t-0)},this.update=()=>{this.updateAxis("x"),this.updateAxis("y")},this.sendEvent=()=>{this.callback(this.info)},this.advance=()=>{this.update(),this.sendEvent()},this.callback=e,this.container=t,this.info={time:0,x:this.createAxis(),y:this.createAxis()}}},e3=new WeakMap,e6=new WeakMap,e7=new WeakMap,te=e=>e===document.documentElement?window:e,tt=function(e){let{container:t=document.documentElement}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e7.get(t);r||(r=new Set,e7.set(t,r));let a=new e9(e,t);if(r.add(a),!e3.has(t)){let e=()=>(r?.forEach(e=>e.advance()),!0);e3.set(t,e);let a=te(t);window.addEventListener("resize",e,{passive:!0}),t!==document.documentElement&&e6.set(t,e4(e,{container:t})),a.addEventListener("scroll",e,{passive:!0})}let l=e3.get(t);return C(l),()=>{C.cancel(l);let e=e7.get(t);if(!e||(e.delete(a),e.size))return;let r=e3.get(t);e3.delete(t),r&&(te(t).removeEventListener("scroll",r),window.removeEventListener("resize",r),e6.get(t)?.())}},tr=Y()?u.useEffect:u.useLayoutEffect;function ta(){let e,t=(0,u.useState)()[1],r=(e=(0,u.useRef)(!1),tr(()=>(e.current=!0,()=>{e.current=!1}),[]),e);return()=>{r.current&&t(Math.random())}}var tl=e=>(0,u.useEffect)(e,ts),ts=[];function ti(e){let t=(0,u.useRef)();return(0,u.useEffect)(()=>{t.current=e}),t.current}var tn=Symbol.for("Animated:node"),to=e=>e&&e[tn],tu=(e,t)=>Object.defineProperty(e,tn,{value:t,writable:!0,configurable:!0}),tc=e=>e&&e[tn]&&e[tn].getPayload(),td=class{constructor(){tu(this,this)}getPayload(){return this.payload||[]}},tf=class extends td{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,z.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new tf(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return z.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,z.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},th=class extends tf{constructor(e){super(0),this._string=null,this._toString=eM({output:[e,e]})}static create(e){return new th(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(z.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=eM({output:[this.getValue(),e]})),this._value=0,super.reset()}},tm={dependencies:null},tp=class extends td{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return W(this.source,(r,a)=>{r&&r[tn]===r?t[a]=r.getValue(e):eE(r)?t[a]=eP(r):e||(t[a]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){let e;this.payload&&(e=this.payload,e.forEach(e=>e.reset()))}_makePayload(e){if(e){let t=new Set;return W(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){let t;tm.dependencies&&eE(e)&&tm.dependencies.add(e);let r=tc(e);r&&(t=e=>this.add(e),r.forEach(t))}},tg=class extends tp{constructor(e){super(e)}static create(e){return new tg(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,r)=>t.setValue(e[r])).some(Boolean):(super.setValue(e.map(tx)),!0)}};function tx(e){return(e0(e)?th:tf).create(e)}function tv(e){let t=to(e);return t?t.constructor:z.arr(e)?tg:e0(e)?th:tf}var ty=(e,t)=>{let r=!z.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,u.forwardRef)((a,l)=>{var s,i;let n,o=(0,u.useRef)(null),c=r&&(0,u.useCallback)(e=>{var t,r;t=l,r=e,t&&(z.fun(t)?t(r):t.current=r),o.current=r},[l]),[d,f]=(s=a,i=t,tm.dependencies=n=new Set,s.style&&(s={...s,style:i.createAnimatedStyle(s.style)}),s=new tp(s),tm.dependencies=null,[s,n]),h=ta(),m=()=>{let e=o.current;r&&!e||!1===(!!e&&t.applyAnimatedValues(e,d.getValue(!0)))&&h()},p=new tb(m,f),g=(0,u.useRef)();tr(()=>{let e;return g.current=p,e=e=>eF(e,p),f.forEach(e),()=>{if(g.current){let e;e=g.current.deps,e.forEach(e=>eR(e,g.current)),C.cancel(g.current.update)}}}),(0,u.useEffect)(m,[]),tl(()=>()=>{let e,t=g.current;e=t.deps,e.forEach(e=>eR(e,t))});let x=t.getComponentProps(d.getValue());return u.createElement(e,{...x,ref:c})})},tb=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&C.write(this.update)}},tj=Symbol.for("AnimatedComponent"),tw=e=>z.str(e)?e:e&&z.str(e.displayName)?e.displayName:z.fun(e)&&e.name||null,t_=class{};function tk(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return z.fun(e)?e(...r):e}e.s(["Any",()=>t_],7313068);var tS=(e,t)=>!0===e||!!(t&&e&&(z.fun(e)?e(t):q(e).includes(t))),tC=(e,t)=>z.obj(e)?t&&e[t]:e,tN=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tM=e=>e,tI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tM,r=tA;e.default&&!0!==e.default&&(r=Object.keys(e=e.default));let a={};for(let l of r){let r=t(e[l],l);z.und(r)||(a[l]=r)}return a},tA=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tE={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tP(e){let t=function(e){let t={},r=0;if(W(e,(e,a)=>{!tE[a]&&(t[a]=e,r++)}),r)return t}(e);if(t){let r={to:t};return W(e,(e,a)=>a in t||(r[a]=e)),r}return{...e}}function tT(e){return e=eP(e),z.arr(e)?e.map(tT):e0(e)?w.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function tU(e){for(let t in e)return!0;return!1}function tV(e){return z.fun(e)||z.arr(e)&&z.obj(e[0])}function tO(e,t){e.ref?.delete(e),t?.delete(e)}function tF(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}function tR(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;tr(()=>{if(t){let a=0;e.forEach((e,l)=>{let s=e.current;if(s.length){let i=r*t[l];isNaN(i)?i=a:a=i,s.forEach(e=>{let t;t=e.queue,t.forEach(e=>{let t=e.delay;e.delay=e=>i+tk(t||0,e)})}),e.start()}})}else{let t=Promise.resolve();e.forEach(e=>{let r=e.current;if(r.length){let a=r.map(e=>{let t=e.queue;return e.queue=[],t});t=t.then(()=>{let t;return t=(e,t)=>{let r,l;return r=a[t]||[],l=t=>e.queue.push(t),r.forEach(l)},r.forEach(t),Promise.all(e.start())})}})}})}var tL={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},tB={...tL.default,mass:1,damping:1,easing:e=>e,clamp:!1},tD=class{constructor(){this.velocity=0,Object.assign(this,tB)}};function t$(e,t){if(z.und(t.decay)){let r=!z.und(t.tension)||!z.und(t.friction);!r&&z.und(t.frequency)&&z.und(t.damping)&&z.und(t.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}var tH=[],tz=class{constructor(){this.changed=!1,this.values=tH,this.toValues=null,this.fromValues=tH,this.config=new tD,this.immediate=!1}};function tG(e,t){let{key:r,props:a,defaultProps:l,state:s,actions:i}=t;return new Promise((t,n)=>{let o,u,c=tS(a.cancel??l?.cancel,r);if(c)h();else{z.und(a.pause)||(s.paused=tS(a.pause,r));let e=l?.pause;!0!==e&&(e=s.paused||tS(e,r)),o=tk(a.delay||0,r),e?(s.resumeQueue.add(f),i.pause()):(i.resume(),f())}function d(){s.resumeQueue.add(f),s.timeouts.delete(u),u.cancel(),o=u.time-C.now()}function f(){o>0&&!w.skipAnimation?(s.delayed=!0,u=C.setTimeout(h,o),s.pauseQueue.add(d),s.timeouts.add(u)):h()}function h(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(d),s.timeouts.delete(u),e<=(s.cancelId||0)&&(c=!0);try{i.start({...a,callId:e,cancel:c},t)}catch(e){n(e)}}})}var tW=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tK(e.get()):t.every(e=>e.noop)?tq(e.get()):tQ(e.get(),t.every(e=>e.finished)),tq=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tQ=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:r}},tK=e=>({value:e,cancelled:!0,finished:!1});function tY(e,t,r,a){let{callId:l,parentId:s,onRest:i}=t,{asyncTo:n,promise:o}=r;return s||e!==n||t.reset?r.promise=(async()=>{let u,c,d;r.asyncId=l,r.asyncTo=e;let f=tI(t,(e,t)=>"onRest"===t?void 0:e),h=new Promise((e,t)=>(u=e,c=t)),m=e=>{let t=l<=(r.cancelId||0)&&tK(a)||l!==r.asyncId&&tQ(a,!1);if(t)throw e.result=t,c(e),e},p=(e,t)=>{let s=new tJ,i=new tX;return(async()=>{if(w.skipAnimation)throw tZ(r),i.result=tQ(a,!1),c(i),i;m(s);let n=z.obj(e)?{...e}:{...t,to:e};n.parentId=l,W(f,(e,t)=>{z.und(n[t])&&(n[t]=e)});let o=await a.start(n);return m(s),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),o})()};if(w.skipAnimation)return tZ(r),tQ(a,!1);try{let t;t=z.arr(e)?(async e=>{for(let t of e)await p(t)})(e):Promise.resolve(e(p,a.stop.bind(a))),await Promise.all([t.then(u),h]),d=tQ(a.get(),!0,!1)}catch(e){if(e instanceof tJ)d=e.result;else if(e instanceof tX)d=e.result;else throw e}finally{l==r.asyncId&&(r.asyncId=s,r.asyncTo=s?n:void 0,r.promise=s?o:void 0)}return z.fun(i)&&C.batchedUpdates(()=>{i(d,a,a.item)}),d})():o}function tZ(e,t){Q(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var tJ=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tX=class extends Error{constructor(){super("SkipAnimationSignal")}},t0=1,t1=class extends eV{constructor(){super(...arguments),this.id=t0++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=to(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.to(this,t)}interpolate(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return eJ(),w.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eU(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||es.sort(this),eU(this,{type:"priority",parent:this,priority:e})}},t2=Symbol.for("SpringPhase"),t5=e=>(1&e[t2])>0,t4=e=>(2&e[t2])>0,t8=e=>(4&e[t2])>0,t9=(e,t)=>t?e[t2]|=3:e[t2]&=-3,t3=(e,t)=>t?e[t2]|=4:e[t2]&=-5,t6=class extends t1{constructor(e,t){if(super(),this.animation=new tz,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!z.und(e)||!z.und(t)){const r=z.obj(e)?{...e}:{...t,from:e};z.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(t4(this)||this._state.asyncTo)||t8(this)}get goal(){return eP(this.animation.to)}get velocity(){let e=to(this);return e instanceof tf?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return t5(this)}get isAnimating(){return t4(this)}get isPaused(){return t8(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1,a=this.animation,{toValues:l}=a,{config:s}=a,i=tc(a.to);!i&&eE(a.to)&&(l=q(eP(a.to))),a.values.forEach((n,o)=>{if(n.done)return;let u=n.constructor==th?1:i?i[o].lastPosition:l[o],c=a.immediate,d=u;if(!c){let t;if(d=n.lastPosition,s.tension<=0){n.done=!0;return}let r=n.elapsedTime+=e,l=a.fromValues[o],i=null!=n.v0?n.v0:n.v0=z.arr(s.velocity)?s.velocity[o]:s.velocity,f=s.precision||(l==u?.005:Math.min(1,.001*Math.abs(u-l)));if(z.und(s.duration))if(s.decay){let e=!0===s.decay?.998:s.decay,a=Math.exp(-(1-e)*r);d=l+i/(1-e)*(1-a),c=Math.abs(n.lastPosition-d)<=f,t=i*a}else{t=null==n.lastVelocity?i:n.lastVelocity;let r=s.restVelocity||f/10,a=s.clamp?0:s.bounce,o=!z.und(a),h=l==u?n.v0>0:l<u,m=Math.ceil(e/1);for(let e=0;e<m&&!(!(Math.abs(t)>r)&&(c=Math.abs(u-d)<=f));++e){o&&(d==u||d>u==h)&&(t=-t*a,d=u);let e=(-(1e-6*s.tension)*(d-u)+-(.001*s.friction)*t)/s.mass;t+=+e,d+=+t}}else{let a=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,n.durationProgress>0&&(n.elapsedTime=s.duration*n.durationProgress,r=n.elapsedTime+=e)),n.durationProgress=a=(a=(s.progress||0)+r/this._memoizedDuration)>1?1:a<0?0:a),t=((d=l+s.easing(a)*(u-l))-n.lastPosition)/e,c=1==a}n.lastVelocity=t,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}i&&!i[o].done&&(c=!1),c?n.done=!0:t=!1,n.setValue(d,s.round)&&(r=!0)});let n=to(this),o=n.getValue();if(t){let e=eP(a.to);(o!==e||r)&&!s.decay?(n.setValue(e),this._onChange(e)):r&&s.decay&&this._onChange(o),this._stop()}else r&&this._onChange(o)}set(e){return C.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(t4(this)){let{to:e,config:t}=this.animation;C.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return z.und(e)?(r=this.queue||[],this.queue=[]):r=[z.obj(e)?e:{...t,to:e}],Promise.all(r.map(e=>this._update(e))).then(e=>tW(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tZ(this._state,e&&this._lastCallId),C.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:r,from:a}=e;(null==(r=z.obj(r)?r[t]:r)||tV(r))&&(r=void 0),null==(a=z.obj(a)?a[t]:a)&&(a=void 0);let l={to:r,from:a};return!t5(this)&&(e.reverse&&([r,a]=[a,r]),a=eP(a),z.und(a)?to(this)||this._set(r):this._set(a)),l}_update(e,t){let{...r}=e,{key:a,defaultProps:l}=this;r.default&&Object.assign(l,tI(r,(e,t)=>/^on/.test(t)?tC(e,a):e)),rl(this,r,"onProps"),rs(this,"onProps",r,this);let s=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let i=this._state;return tG(++this._lastCallId,{key:a,props:r,defaultProps:l,state:i,actions:{pause:()=>{t8(this)||(t3(this,!0),K(i.pauseQueue),rs(this,"onPause",tQ(this,t7(this,this.animation.to)),this))},resume:()=>{t8(this)&&(t3(this,!1),t4(this)&&this._resume(),K(i.resumeQueue),rs(this,"onResume",tQ(this,t7(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(e=>{if(r.loop&&e.finished&&!(t&&e.noop)){let e=re(r);if(e)return this._update(e,!0)}return e})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(tK(this));let a=!z.und(e.to),l=!z.und(e.from);if(a||l)if(!(t.callId>this._lastToId))return r(tK(this));else this._lastToId=t.callId;let{key:s,defaultProps:i,animation:n}=this,{to:o,from:u}=n,{to:c=o,from:d=u}=e;l&&!a&&(!t.default||z.und(c))&&(c=d),t.reverse&&([c,d]=[d,c]);let f=!G(d,u);f&&(n.from=d),d=eP(d);let h=!G(c,o);h&&this._focus(c);let m=tV(t.to),{config:p}=n,{decay:g,velocity:x}=p;(a||l)&&(p.velocity=0),t.config&&!m&&function(e,t,r){for(let a in r&&(t$(r={...r},t),t={...r,...t}),t$(e,t),Object.assign(e,t),tB)null==e[a]&&(e[a]=tB[a]);let{frequency:a,damping:l}=e,{mass:s}=e;z.und(a)||(a<.01&&(a=.01),l<0&&(l=0),e.tension=Math.pow(2*Math.PI/a,2)*s,e.friction=4*Math.PI*l*s/a)}(p,tk(t.config,s),t.config!==i.config?tk(i.config,s):void 0);let v=to(this);if(!v||z.und(c))return r(tQ(this,!0));let y=z.und(t.reset)?l&&!t.default:!z.und(d)&&tS(t.reset,s),b=y?d:this.get(),j=tT(c),w=z.num(j)||z.arr(j)||e0(j),_=!m&&(!w||tS(i.immediate||t.immediate,s));if(h){let e=tv(c);if(e!==v.constructor)if(_)v=this._set(j);else throw Error(`Cannot animate between ${v.constructor.name} and ${e.name}, as the "to" prop suggests`)}let k=v.constructor,S=eE(c),N=!1;if(!S){let e=y||!t5(this)&&f;(h||e)&&(S=!(N=G(tT(b),j))),(G(n.immediate,_)||_)&&G(p.decay,g)&&G(p.velocity,x)||(S=!0)}if(N&&t4(this)&&(n.changed&&!y?S=!0:S||this._stop(o)),!m&&((S||eE(o))&&(n.values=v.getPayload(),n.toValues=eE(c)?null:k==th?[1]:q(j)),n.immediate!=_&&(n.immediate=_,_||y||this._set(o)),S)){let e,{onRest:a}=n;e=e=>rl(this,t,e),ra.forEach(e);let l=tQ(this,t7(this,o));K(this._pendingCalls,l),this._pendingCalls.add(r),n.changed&&C.batchedUpdates(()=>{n.changed=!y,a?.(l,this),y?tk(i.onRest,l):n.onStart?.(l,this)})}y&&this._set(b),m?r(tY(t.to,t,this._state,this)):S?this._start():t4(this)&&!h?this._pendingCalls.add(r):r(tq(b))}_focus(e){let t=this.animation;e!==t.to&&(eT(this)&&this._detach(),t.to=e,eT(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;eE(t)&&(eF(t,this),t instanceof t1&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;eE(e)&&eR(e,this)}_set(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=eP(e);if(!z.und(r)){let e=to(this);if(!e||!G(r,e.getValue())){let a=tv(r);e&&e.constructor==a?e.setValue(r):tu(this,a.create(r)),e&&C.batchedUpdates(()=>{this._onChange(r,t)})}}return to(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,rs(this,"onStart",tQ(this,t7(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tk(this.animation.onChange,e,this)),tk(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;to(this).reset(eP(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),!t4(this)&&(t9(this,!0),t8(this)||this._resume())}_resume(){w.skipAnimation?this.finish():es.start(this)}_stop(e,t){if(t4(this)){let r;t9(this,!1);let a=this.animation;r=a.values,r.forEach(e=>{e.done=!0}),a.toValues&&(a.onChange=a.onPause=a.onResume=void 0),eU(this,{type:"idle",parent:this});let l=t?tK(this.get()):tQ(this.get(),t7(this,e??a.to));K(this._pendingCalls,l),a.changed&&(a.changed=!1,rs(this,"onRest",l,this))}}};function t7(e,t){let r=tT(t);return G(tT(e.get()),r)}function re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,a=tk(t);if(a){let l=!0!==a&&tP(a),s=(l||e).reverse,i=!l||l.reset;return rt({...e,loop:t,default:!1,pause:void 0,to:!s||tV(r)?r:void 0,from:i?e.from:void 0,reset:i,...l})}}function rt(e){let{to:t,from:r}=e=tP(e),a=new Set;return z.obj(t)&&rr(t,a),z.obj(r)&&rr(r,a),e.keys=a.size?Array.from(a):null,e}function rr(e,t){W(e,(e,r)=>null!=e&&t.add(r))}var ra=["onStart","onRest","onChange","onPause","onResume"];function rl(e,t,r){e.animation[r]=t[r]!==tN(t,r)?tC(t[r],e.key):void 0}function rs(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];e.animation[t]?.(...a),e.defaultProps[t]?.(...a)}var ri=["onStart","onChange","onRest"],rn=1,ro=class{constructor(e,t){this.id=rn++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];z.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(rt(e)),this}start(e){let{queue:t}=this;return(e?t=q(e).map(rt):this.queue=[],this._flush)?this._flush(this,t):(rp(this,t),ru(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let r,a=this.springs;r=q(t),r.forEach(t=>a[t].stop(!!e))}else tZ(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(z.und(e))this.start({pause:!0});else{let t,r=this.springs;t=q(e),t.forEach(e=>r[e].pause())}return this}resume(e){if(z.und(e))this.start({pause:!1});else{let t,r=this.springs;t=q(e),t.forEach(e=>r[e].resume())}return this}each(e){W(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,a=this._active.size>0,l=this._changed.size>0;(a&&!this._started||l&&!this._started)&&(this._started=!0,Q(e,e=>{let[t,r]=e;r.value=this.get(),t(r,this,this._item)}));let s=!a&&this._started,i=l||s&&r.size?this.get():null;l&&t.size&&Q(t,e=>{let[t,r]=e;r.value=i,t(r,this,this._item)}),s&&(this._started=!1,Q(r,e=>{let[t,r]=e;r.value=i,t(r,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}C.onFrame(this._onFrame)}};function ru(e,t){return Promise.all(t.map(t=>rc(e,t))).then(t=>tW(e,t))}async function rc(e,t,r){let{keys:a,to:l,from:s,loop:i,onRest:n,onResolve:o}=t,u=z.obj(t.default)&&t.default;i&&(t.loop=!1),!1===l&&(t.to=null),!1===s&&(t.from=null);let c=z.arr(l)||z.fun(l)?l:void 0;if(c)t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0);else ri.forEach(r=>{let a=t[r];if(z.fun(a)){let l=e._events[r];t[r]=e=>{let{finished:t,cancelled:r}=e,s=l.get(a);s?(t||(s.finished=!1),r&&(s.cancelled=!0)):l.set(a,{value:null,finished:t||!1,cancelled:r||!1})},u&&(u[r]=t[r])}});let d=e._state;!d.paused===t.pause?(d.paused=t.pause,K(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);let f=(a||Object.keys(e.springs)).map(r=>e.springs[r].start(t)),h=!0===t.cancel||!0===tN(t,"cancel");(c||h&&d.asyncId)&&f.push(tG(++e._lastAsyncId,{props:t,state:d,actions:{pause:H,resume:H,start(t,r){h?(tZ(d,e._lastAsyncId),r(tK(e))):(t.onRest=n,r(tY(c,t,d,e)))}}})),d.paused&&await new Promise(e=>{d.resumeQueue.add(e)});let m=tW(e,await Promise.all(f));if(i&&m.finished&&!(r&&m.noop)){let r=re(t,i,l);if(r)return rp(e,[r]),rc(e,r,!0)}return o&&C.batchedUpdates(()=>o(m,e,e.item)),m}function rd(e,t){let r,a,l={...e.springs};return t&&(r=q(t),a=e=>{z.und(e.keys)&&(e=rt(e)),z.obj(e.to)||(e={...e,to:void 0}),rm(l,e,e=>rh(e))},r.forEach(a)),rf(e,l),l}function rf(e,t){W(t,(t,r)=>{e.springs[r]||(e.springs[r]=t,eF(t,e))})}function rh(e,t){let r=new t6;return r.key=e,t&&eF(r,t),r}function rm(e,t,r){let a;t.keys&&(a=t.keys,a.forEach(a=>{(e[a]||(e[a]=r(a)))._prepareNode(t)}))}function rp(e,t){t.forEach(t=>{rm(e.springs,t,t=>rh(t,e))})}var rg=e=>{let{children:t,...r}=e,a=(0,u.useContext)(rx),l=r.pause||!!a.pause,s=r.immediate||!!a.immediate;r=function(e,t){let[r]=(0,u.useState)(()=>({inputs:t,result:e()})),a=(0,u.useRef)(),l=a.current,s=l;return s?t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,s.inputs)||(s={inputs:t,result:e()}):s=r,(0,u.useEffect)(()=>{a.current=s,l==r&&(r.inputs=r.result=void 0)},[s]),s.result}(()=>({pause:l,immediate:s}),[l,s]);let{Provider:i}=rx;return u.createElement(i,{value:r},t)},rx=(r={},Object.assign(t=rg,u.createContext(r)),t.Provider._context=t,t.Consumer._context=t,t);rg.Provider=rx.Provider,rg.Consumer=rx.Consumer;var rv=()=>{let e=[],t=function(t){let a;eX(`${eK}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let l=[];return a=(e,a)=>{if(z.und(t))l.push(e.start());else{let s=r(t,e,a);s&&l.push(e.start(s))}},e.forEach(a),l};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let r=e.indexOf(t);~r&&e.splice(r,1)},t.pause=function(){let t;return t=e=>e.pause(...arguments),e.forEach(t),this},t.resume=function(){let t;return t=e=>e.resume(...arguments),e.forEach(t),this},t.set=function(t){e.forEach((e,r)=>{let a=z.fun(t)?t(r,e):t;a&&e.set(a)})},t.start=function(t){let r,a=[];return r=(e,r)=>{if(z.und(t))a.push(e.start());else{let l=this._getProps(t,e,r);l&&a.push(e.start(l))}},e.forEach(r),a},t.stop=function(){let t;return t=e=>e.stop(...arguments),e.forEach(t),this},t.update=function(t){let r;return r=(e,r)=>e.update(this._getProps(t,e,r)),e.forEach(r),this};let r=function(e,t,r){return z.fun(e)?e(r,t):e};return t._getProps=r,t};function ry(e,t,r){let a=z.fun(t)&&t;a&&!r&&(r=[]);let l=(0,u.useMemo)(()=>a||3==arguments.length?rv():void 0,[]),s=(0,u.useRef)(0),i=ta(),n=(0,u.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let r=rd(e,t);return!(s.current>0)||n.queue.length||Object.keys(r).some(t=>!e.springs[t])?new Promise(a=>{rf(e,r),n.queue.push(()=>{a(ru(e,t))}),i()}):ru(e,t)}}),[]),o=(0,u.useRef)([...n.ctrls]),c=[],d=ti(e)||0;function f(e,r){for(let l=e;l<r;l++){let e=o.current[l]||(o.current[l]=new ro(null,n.flush)),r=a?a(l,e):t[l];r&&(c[l]=function(e){let t=rt(e);return z.und(t.default)&&(t.default=tI(t)),t}(r))}}(0,u.useMemo)(()=>{let t;t=o.current.slice(e,d),t.forEach(e=>{tO(e,l),e.stop(!0)}),o.current.length=e,f(d,e)},[e]),(0,u.useMemo)(()=>{f(0,Math.min(d,e))},r);let h=o.current.map((e,t)=>rd(e,c[t])),m=(0,u.useContext)(rg),p=ti(m),g=m!==p&&tU(m);tr(()=>{let e;s.current++,n.ctrls=o.current;let{queue:t}=n;t.length&&(n.queue=[],t.forEach(e=>e()));e=o.current,e.forEach((e,t)=>{l?.add(e),g&&e.start({default:m});let r=c[t];r&&(tF(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),tl(()=>()=>{let e;e=n.ctrls,e.forEach(e=>e.stop(!0))});let x=h.map(e=>({...e}));return l?[x,l]:x}function rb(e,t){let r=z.fun(e),[[a],l]=ry(1,r?e:[e],r?t||[]:t);return r||2==arguments.length?[a,l]:a}var rj=()=>rv(),rw=()=>(0,u.useState)(rj)[0],r_=(e,t)=>{var r;let a,l=(r=()=>new t6(e,t),null===(a=(0,u.useRef)(null)).current&&(a.current=r()),a.current);return tl(()=>()=>{l.stop()}),l};function rk(e,t,r){let a,l=z.fun(t)&&t;l&&!r&&(r=[]);let s=!0,i=ry(e,(e,r)=>{let i=l?l(e,r):t;return a=i.ref,s=s&&i.reverse,i},r||[{}]);if(tr(()=>{let e;e=i[1].current,e.forEach((e,t)=>{let r=i[1].current[t+(s?1:-1)];if(tF(e,a),e.ref){r&&e.update({to:r.springs});return}r?e.start({to:r.springs}):e.start()})},r),l||3==arguments.length){let e=a??i[1];return e._getProps=(t,r,a)=>{let l=z.fun(t)?t(a,r):t;if(l){let t=e.current[a+(l.reverse?1:-1)];return t&&(l.to=t.springs),l}},i}return i[0]}function rS(e,t,r){let a,l=z.fun(t)&&t,{reset:s,sort:i,trail:n=0,expires:o=!0,exitBeforeEnter:c=!1,onDestroyed:d,ref:f,config:h}=l?l():t,m=(0,u.useMemo)(()=>l||3==arguments.length?rv():void 0,[]),p=q(e),g=[],x=(0,u.useRef)(null),v=s?null:x.current;tr(()=>{x.current=g}),tl(()=>{let e;return e=e=>{m?.add(e.ctrl),e.ctrl.ref=m},g.forEach(e),()=>{let e;e=x.current,e.forEach(e=>{e.expired&&clearTimeout(e.expirationId),tO(e.ctrl,m),e.ctrl.stop(!0)})}});let y=function(e,t,r){let{key:a,keys:l=a}=t;if(null===l){let t=new Set;return e.map(e=>{let a=r&&r.find(r=>r.item===e&&"leave"!==r.phase&&!t.has(r));return a?(t.add(a),a.key):rC++})}return z.und(l)?e:z.fun(l)?e.map(l):q(l)}(p,l?l():t,v),b=s&&x.current||[];tr(()=>{let e;return e=e=>{let{ctrl:t,item:r,key:a}=e;tO(t,m),tk(d,r,a)},b.forEach(e)});let j=[];if(v&&v.forEach((e,t)=>{e.expired?(clearTimeout(e.expirationId),b.push(e)):~(t=j[t]=y.indexOf(e.key))&&(g[t]=e)}),a=(e,t)=>{g[t]||(g[t]={key:y[t],item:e,phase:"mount",ctrl:new ro},g[t].ctrl.item=e)},p.forEach(a),j.length){let e=-1,{leave:r}=l?l():t;j.forEach((t,a)=>{let l=v[a];~t?(e=g.indexOf(l),g[e]={...l,item:p[t]}):r&&g.splice(++e,0,l)})}z.fun(i)&&g.sort((e,t)=>i(e.item,t.item));let w=-n,_=ta(),k=tI(t),S=new Map,C=(0,u.useRef)(new Map),N=(0,u.useRef)(!1);g.forEach((e,r)=>{let a,s,i=e.key,u=e.phase,d=l?l():t,m=tk(d.delay||0,i);if("mount"==u)a=d.enter,s="enter";else{let e=0>y.indexOf(i);if("leave"!=u)if(e)a=d.leave,s="leave";else{if(!(a=d.update))return;s="update"}else{if(e)return;a=d.enter,s="enter"}}if(a=tk(a,e.item,r),!(a=z.obj(a)?tP(a):{to:a}).config){let t=h||k.config;a.config=tk(t,e.item,r,s)}w+=n;let p={...k,delay:m+w,ref:f,immediate:d.immediate,reset:!1,...a};if("enter"==s&&z.und(p.from)){let a=l?l():t;p.from=tk(z.und(a.initial)||v?a.from:a.initial,e.item,r)}let{onResolve:g}=p;p.onResolve=e=>{tk(g,e);let t=x.current,r=t.find(e=>e.key===i);if(r&&(!e.cancelled||"update"==r.phase)&&r.ctrl.idle){let e=t.every(e=>e.ctrl.idle);if("leave"==r.phase){let t=tk(o,r.item);if(!1!==t){let a=!0===t?0:t;if(r.expired=!0,!e&&a>0){a<=0x7fffffff&&(r.expirationId=setTimeout(_,a));return}}}e&&t.some(e=>e.expired)&&(C.current.delete(r),c&&(N.current=!0),_())}};let b=rd(e.ctrl,p);"leave"===s&&c?C.current.set(e,{phase:s,springs:b,payload:p}):S.set(e,{phase:s,springs:b,payload:p})});let M=(0,u.useContext)(rg),I=ti(M),A=M!==I&&tU(M);tr(()=>{A&&g.forEach(e=>{e.ctrl.start({default:M})})},[M]),S.forEach((e,t)=>{if(C.current.size){let e=g.findIndex(e=>e.key===t.key);g.splice(e,1)}}),tr(()=>{let e;e=C.current.size?C.current:S,e.forEach((e,t)=>{let{phase:r,payload:a}=e,{ctrl:l}=t;t.phase=r,m?.add(l),A&&"enter"==r&&l.start({default:M}),a&&(tF(l,a.ref),(l.ref||m)&&!N.current?l.update(a):(l.start(a),N.current&&(N.current=!1)))})},s?void 0:r);let E=e=>u.createElement(u.Fragment,null,g.map((t,r)=>{let{springs:a}=S.get(t)||t.ctrl,l=e({...a},t.item,t,r);return l&&l.type?u.createElement(l.type,{...l.props,key:z.str(t.key)||z.num(t.key)?t.key:t.ctrl.id,ref:l.ref}):l}));return m?[E,m]:E}var rC=1,rN=function(){let{container:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r,a]=rb(()=>({scrollX:0,scrollY:0,scrollXProgress:0,scrollYProgress:0,...t}),[]);return tr(()=>{let t=tt(e=>{let{x:t,y:r}=e;a.start({scrollX:t.current,scrollXProgress:t.progress,scrollY:r.current,scrollYProgress:r.progress})},{container:e?.current||void 0});return()=>{let e;e=Object.values(r),e.forEach(e=>e.stop()),t()}},[]),r},rM=e=>{let{container:t,...r}=e,[a,l]=rb(()=>({width:0,height:0,...r}),[]);return tr(()=>{let e=e4(e=>{let{width:t,height:r}=e;l.start({width:t,height:r,immediate:0===a.width.get()||0===a.height.get()})},{container:t?.current||void 0});return()=>{let t;t=Object.values(a),t.forEach(e=>e.stop()),e()}},[]),a},rI={any:0,all:1};function rA(e,t){let[r,a]=(0,u.useState)(!1),l=(0,u.useRef)(),s=z.fun(e)&&e,{to:i={},from:n={},...o}=s?s():{},c=s?t:e,[d,f]=rb(()=>({from:n,...o}),[]);return(tr(()=>{let e=l.current,{root:t,once:s,amount:o="any",...u}=c??{};if(!e||s&&r||"undefined"==typeof IntersectionObserver)return;let d=new WeakMap,h=new IntersectionObserver(e=>{e.forEach(e=>{let t=d.get(e.target);if(!!t!==e.isIntersecting)if(e.isIntersecting){let t=(i&&f.start(i),a(!0),s?void 0:()=>{n&&f.start(n),a(!1)});z.fun(t)?d.set(e.target,t):h.unobserve(e.target)}else t&&(t(),d.delete(e.target))})},{root:t&&t.current||void 0,threshold:"number"==typeof o||Array.isArray(o)?o:rI[o],...u});return h.observe(e),()=>h.unobserve(e)},[c]),s)?[l,d]:[l,r]}function rE(e){let{children:t,...r}=e;return t(rb(r))}function rP(e){let{items:t,children:r,...a}=e,l=rk(t.length,a);return t.map((e,t)=>{let a=r(e,t);return z.fun(a)?a(l[t]):a})}function rT(e){let{items:t,children:r,...a}=e;return rS(t,a)(r)}var rU=class extends t1{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=eM(...t);const r=this._get();tu(this,tv(r).create(r))}advance(e){let t=this._get();G(t,this.get())||(to(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&rO(this._active)&&rF(this)}_get(){let e=z.arr(this.source)?this.source.map(eP):q(eP(this.source));return this.calc(...e)}_start(){if(this.idle&&!rO(this._active)){let e;this.idle=!1,e=tc(this),e.forEach(e=>{e.done=!1}),w.skipAnimation?(C.batchedUpdates(()=>this.advance()),rF(this)):es.start(this)}}_attach(){let e,t,r=1;e=q(this.source),t=e=>{eE(e)&&eF(e,this),e instanceof t1&&(e.idle||this._active.add(e),r=Math.max(r,e.priority+1))},e.forEach(t),this.priority=r,this._start()}_detach(){let e,t;e=q(this.source),t=e=>{eE(e)&&eR(e,this)},e.forEach(t),this._active.clear(),rF(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=q(this.source).reduce((e,t)=>Math.max(e,(t instanceof t1?t.priority:0)+1),0))}};function rV(e){return!1!==e.idle}function rO(e){return!e.size||Array.from(e).every(rV)}function rF(e){if(!e.idle){let t;e.idle=!0,t=tc(e),t.forEach(e=>{e.done=!0}),eU(e,{type:"idle",parent:e})}}var rR=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return new rU(e,r)},rL=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return eJ(),new rU(e,r)};w.assign({createStringInterpolator:eQ,to:(e,t)=>new rU(e,t)});var rB=es.advance;e.s(["BailSignal",()=>tJ,"Controller",()=>ro,"FrameValue",()=>t1,"Interpolation",()=>rU,"Spring",()=>rE,"SpringContext",()=>rg,"SpringRef",()=>rv,"SpringValue",()=>t6,"Trail",()=>rP,"Transition",()=>rT,"config",()=>tL,"inferTo",()=>tP,"interpolate",()=>rL,"to",()=>rR,"update",()=>rB,"useChain",()=>tR,"useInView",()=>rA,"useResize",()=>rM,"useScroll",()=>rN,"useSpring",()=>rb,"useSpringRef",()=>rw,"useSpringValue",()=>r_,"useSprings",()=>ry,"useTrail",()=>rk,"useTransition",()=>rS],6135472);var rD=e.i(2762599),r$=/^--/,rH={},rz={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rG=["Webkit","Ms","Moz","O"];rz=Object.keys(rz).reduce((e,t)=>(rG.forEach(r=>e[r+t.charAt(0).toUpperCase()+t.substring(1)]=e[t]),e),rz);var rW=/^(matrix|translate|scale|rotate|skew)/,rq=/^(translate)/,rQ=/^(rotate|skew)/,rK=(e,t)=>z.num(e)&&0!==e?e+t:e,rY=(e,t)=>z.arr(e)?e.every(e=>rY(e,t)):z.num(e)?e===t:parseFloat(e)===t,rZ=class extends tp{constructor({x:e,y:t,z:r,...a}){const l=[],s=[];(e||t||r)&&(l.push([e||0,t||0,r||0]),s.push(e=>[`translate3d(${e.map(e=>rK(e,"px")).join(",")})`,rY(e,0)])),W(a,(e,t)=>{if("transform"===t)l.push([e||""]),s.push(e=>[e,""===e]);else if(rW.test(t)){if(delete a[t],z.und(e))return;let r=rq.test(t)?"px":rQ.test(t)?"deg":"";l.push(q(e)),s.push("rotate3d"===t?e=>{let[t,a,l,s]=e;return[`rotate3d(${t},${a},${l},${rK(s,r)})`,rY(s,0)]}:e=>[`${t}(${e.map(e=>rK(e,r)).join(",")})`,rY(e,+!!t.startsWith("scale"))])}}),l.length&&(a.transform=new rJ(l,s)),super(a)}},rJ=class extends eV{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e,t,r="",a=!0;return e=this.inputs,t=(e,t)=>{let l=eP(e[0]),[s,i]=this.transforms[t](z.arr(l)?l:e.map(eP));r+=" "+s,a=a&&i},e.forEach(t),a?"none":r}observerAdded(e){let t,r;1==e&&(t=this.inputs,r=e=>{let t;return t=e=>eE(e)&&eF(e,this),e.forEach(t)},t.forEach(r))}observerRemoved(e){let t,r;0==e&&(t=this.inputs,r=e=>{let t;return t=e=>eE(e)&&eR(e,this),e.forEach(t)},t.forEach(r))}eventObserved(e){"change"==e.type&&(this._value=null),eU(this,e)}};w.assign({batchedUpdates:rD.unstable_batchedUpdates,createStringInterpolator:eQ,colors:{transparent:0,aliceblue:0xf0f8ffff,antiquewhite:0xfaebd7ff,aqua:0xffffff,aquamarine:0x7fffd4ff,azure:0xf0ffffff,beige:0xf5f5dcff,bisque:0xffe4c4ff,black:255,blanchedalmond:0xffebcdff,blue:65535,blueviolet:0x8a2be2ff,brown:0xa52a2aff,burlywood:0xdeb887ff,burntsienna:0xea7e5dff,cadetblue:0x5f9ea0ff,chartreuse:0x7fff00ff,chocolate:0xd2691eff,coral:0xff7f50ff,cornflowerblue:0x6495edff,cornsilk:0xfff8dcff,crimson:0xdc143cff,cyan:0xffffff,darkblue:35839,darkcyan:9145343,darkgoldenrod:0xb8860bff,darkgray:0xa9a9a9ff,darkgreen:6553855,darkgrey:0xa9a9a9ff,darkkhaki:0xbdb76bff,darkmagenta:0x8b008bff,darkolivegreen:0x556b2fff,darkorange:0xff8c00ff,darkorchid:0x9932ccff,darkred:0x8b0000ff,darksalmon:0xe9967aff,darkseagreen:0x8fbc8fff,darkslateblue:0x483d8bff,darkslategray:0x2f4f4fff,darkslategrey:0x2f4f4fff,darkturquoise:0xced1ff,darkviolet:0x9400d3ff,deeppink:0xff1493ff,deepskyblue:0xbfffff,dimgray:0x696969ff,dimgrey:0x696969ff,dodgerblue:0x1e90ffff,firebrick:0xb22222ff,floralwhite:0xfffaf0ff,forestgreen:0x228b22ff,fuchsia:0xff00ffff,gainsboro:0xdcdcdcff,ghostwhite:0xf8f8ffff,gold:0xffd700ff,goldenrod:0xdaa520ff,gray:0x808080ff,green:8388863,greenyellow:0xadff2fff,grey:0x808080ff,honeydew:0xf0fff0ff,hotpink:0xff69b4ff,indianred:0xcd5c5cff,indigo:0x4b0082ff,ivory:0xfffff0ff,khaki:0xf0e68cff,lavender:0xe6e6faff,lavenderblush:0xfff0f5ff,lawngreen:0x7cfc00ff,lemonchiffon:0xfffacdff,lightblue:0xadd8e6ff,lightcoral:0xf08080ff,lightcyan:0xe0ffffff,lightgoldenrodyellow:0xfafad2ff,lightgray:0xd3d3d3ff,lightgreen:0x90ee90ff,lightgrey:0xd3d3d3ff,lightpink:0xffb6c1ff,lightsalmon:0xffa07aff,lightseagreen:0x20b2aaff,lightskyblue:0x87cefaff,lightslategray:0x778899ff,lightslategrey:0x778899ff,lightsteelblue:0xb0c4deff,lightyellow:0xffffe0ff,lime:0xff00ff,limegreen:0x32cd32ff,linen:0xfaf0e6ff,magenta:0xff00ffff,maroon:0x800000ff,mediumaquamarine:0x66cdaaff,mediumblue:52735,mediumorchid:0xba55d3ff,mediumpurple:0x9370dbff,mediumseagreen:0x3cb371ff,mediumslateblue:0x7b68eeff,mediumspringgreen:0xfa9aff,mediumturquoise:0x48d1ccff,mediumvioletred:0xc71585ff,midnightblue:0x191970ff,mintcream:0xf5fffaff,mistyrose:0xffe4e1ff,moccasin:0xffe4b5ff,navajowhite:0xffdeadff,navy:33023,oldlace:0xfdf5e6ff,olive:0x808000ff,olivedrab:0x6b8e23ff,orange:0xffa500ff,orangered:0xff4500ff,orchid:0xda70d6ff,palegoldenrod:0xeee8aaff,palegreen:0x98fb98ff,paleturquoise:0xafeeeeff,palevioletred:0xdb7093ff,papayawhip:0xffefd5ff,peachpuff:0xffdab9ff,peru:0xcd853fff,pink:0xffc0cbff,plum:0xdda0ddff,powderblue:0xb0e0e6ff,purple:0x800080ff,rebeccapurple:0x663399ff,red:0xff0000ff,rosybrown:0xbc8f8fff,royalblue:0x4169e1ff,saddlebrown:0x8b4513ff,salmon:0xfa8072ff,sandybrown:0xf4a460ff,seagreen:0x2e8b57ff,seashell:0xfff5eeff,sienna:0xa0522dff,silver:0xc0c0c0ff,skyblue:0x87ceebff,slateblue:0x6a5acdff,slategray:0x708090ff,slategrey:0x708090ff,snow:0xfffafaff,springgreen:0xff7fff,steelblue:0x4682b4ff,tan:0xd2b48cff,teal:8421631,thistle:0xd8bfd8ff,tomato:0xff6347ff,turquoise:0x40e0d0ff,violet:0xee82eeff,wheat:0xf5deb3ff,white:0xffffffff,whitesmoke:0xf5f5f5ff,yellow:0xffff00ff,yellowgreen:0x9acd32ff}});var rX=function(e){let{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=e=>new tp(e),getComponentProps:a=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:a},s=e=>{let t=tw(e)||"Anonymous";return(e=z.str(e)?s[e]||(s[e]=ty(e,l)):e[tj]||(e[tj]=ty(e,l))).displayName=`Animated(${t})`,e};return W(e,(t,r)=>{z.arr(e)&&(r=tw(t)),s[r]=s(t)}),{animated:s}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;let r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:a,children:l,scrollTop:s,scrollLeft:i,viewBox:n,...o}=t,u=Object.values(o),c=Object.keys(o).map(t=>r||e.hasAttribute(t)?t:rH[t]||(rH[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let t in void 0!==l&&(e.textContent=l),a)if(a.hasOwnProperty(t)){var d;let r=null==(d=a[t])||"boolean"==typeof d||""===d?"":"number"!=typeof d||0===d||r$.test(t)||rz.hasOwnProperty(t)&&rz[t]?(""+d).trim():d+"px";r$.test(t)?e.style.setProperty(t,r):e.style[t]=r}c.forEach((t,r)=>{e.setAttribute(t,u[r])}),void 0!==s&&(e.scrollTop=s),void 0!==i&&(e.scrollLeft=i),void 0!==n&&e.setAttribute("viewBox",n)},createAnimatedStyle:e=>new rZ(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:r,...a}=e;return a}}).animated,r0=e.i(9107401),r1=e.i(9598279),r2=e.i(1736425),r5=e.i(4495794);e.i(1902869),e.i(6135472),e.i(7313068);var r4=e.i(8119470),r8=e.i(9722978);let r9=(0,p.createUnitFormatter)({style:"long"}),r3=(0,p.createUnitFormatter)({style:"short"}),r6=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:0}),r7=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),ae=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency",maximumFractionDigits:2});function at(e,t,r){if(null===t)return ar(e,r);if("custom"===t.kind){let a=t.plural;return(1===e&&(a=t.singular),["dollar","dollars"].includes(a))?`${ae.format(e)}`:`${ar(e,r)} ${a}`}return`${ar(e,r)}`}function ar(e,t){return"short"===t.style?r6.format(e):r7.format(e)}function aa(e,t){let r=e.split(",")[0]?.trim()||e;return t.includes(r)}var al=e.i(2314794);function as(e){let{open:t,data:r,...a}=e;return t&&r?(0,o.jsx)(ai,{...a,data:r}):null}function ai(e){let{containerWidth:t,data:r,left:a,chartData:l,isProjectView:s,colorsScale:i,granularity:n,hoveredSegmentKey:u,valuesUnit:c,staticItems:d,maxTooltipItems:f=10}=e,h=function(e){let{left:t,containerWidth:r}=e,a=20,l="0";{let{innerWidth:e}=window;e<r+400&&(a=10),t>.75*r&&(a=-20,l="-100%")}return{...rb({left:t+a,top:10,translateX:l,config:{mass:.05,tension:400,friction:30}})}}({left:a,containerWidth:t}),m=function(e){let{values:t,chartData:r,isProjectView:a,colorsScale:l,staticItems:s,maxTooltipItems:i=10}=e;if(i<1)throw Error(`[ListTooltip] Invalid maxTooltipItems value: ${i}. Must be at least 1. Using default value of 10 instead.`);let n=t.map((e,t)=>{let s=e.value[0]||0;return{name:function(e,t,r){if(r&&e.project){let r=e.project;if(t.dimensionsMeta.project){let e=t.dimensionsMeta.project;if(e.values[r])return e.values[r].title||r}if(t.projectMeta?.values[r]){let e=t.projectMeta.values[r];if(e.title)return e.title}return r}for(let r of Object.keys(e)){let a=e[r];if(a){let e=t.dimensionsMeta[r];if(e?.values[a])return e.values[a].title||a;return a}}return"Unknown"}(e.dimensionValues,r,a),value:s,color:l(t),index:t}}).filter(e=>!(!a&&aa(e.name,s??[]))&&Math.abs(e.value)>0);n.sort((e,t)=>t.value-e.value);let o=n.slice(0,i),u=n.slice(i),c=u.length>0?{name:`Other (${u.length} ${1===u.length?"item":"items"})`,value:u.reduce((e,t)=>e+t.value,0),color:"#888888",index:-1,isOther:!0,count:u.length}:null;return c?[...o,c]:o}({values:r.values,chartData:l,isProjectView:s,colorsScale:i,staticItems:d,maxTooltipItems:f});if(0===m.length)return null;let p=m.find(e=>"isOther"in e),g=an(r.timestamp,n,l.timestamps,l.maxTimestamp),x=m.reduce((e,t)=>e+t.value,0);return(0,o.jsxs)(rX.div,{className:al.default.productListTooltip,style:h,children:[(0,o.jsx)("ul",{className:al.default.list,children:m.map(e=>{let t="isOther"in e,r=!t&&void 0!==u&&e.index===u;return(0,o.jsxs)("li",{className:(0,r8.clsx)(al.default.listItem,t?al.default.otherItem:void 0),"aria-label":t&&p?`Aggregated value from ${p.count} other ${1===p.count?"item":"items"}`:void 0,children:[(0,o.jsx)("div",{className:al.default.colorIndicator,style:{backgroundColor:e.color}}),(0,o.jsx)("div",{className:(0,r8.clsx)(al.default.itemName,r&&al.default.highlightedItem),children:e.name}),(0,o.jsx)("div",{className:(0,r8.clsx)(al.default.itemValue,r&&al.default.highlightedItem),children:at(e.value,c,{style:"long",valuesUnit:c})})]},e.index)})}),(0,o.jsxs)("div",{className:"flex flex-row items-center justify-between flex-initial ml-1 pt-2",children:[(0,o.jsx)("div",{className:al.default.date,children:g}),(0,o.jsx)("div",{className:al.default.total,children:at(x,c,{style:"long",valuesUnit:c})})]})]})}let an=(e,t,r,a)=>{if("week"===t.unit||"month"===t.unit){let l=r?((e,t,r)=>{let a=t.indexOf(e);if(-1===a)return;let l=t[a+1];return l&&(!r||l<=r)?(0,r4.subDays)(new Date(l),1):r?new Date(r):void 0})(e,r,a):void 0;return function(e,t,r,a){let l,s=new Date(e),i=!r||s>=r?s:r;switch(t.unit){case"hour":return l=(0,r0.addHours)(s,t.step),l=!a||l<=a?l:a,`${(0,b.format)(i,"MMM d HH:mm")}  ${(0,b.format)(l,"MMM d HH:mm")}`;case"week":l=(0,r2.addWeeks)(s,t.step),l=!a||l<=a?l:a;break;case"month":l=(0,r5.addMonths)(s,t.step),l=!a||l<=a?l:a;break;case"day":{let t=new Date(e+6e4*new Date().getTimezoneOffset());return(0,b.format)(t,"MMM d, y")}default:l=(0,r1.addDays)(s,1),l=!a||l<=a?l:a}l||=(0,r1.addDays)(s,1);let n=6e4*new Date().getTimezoneOffset(),o=new Date(i.valueOf()+n),u=new Date(l.valueOf()+n),c=o.getFullYear()===u.getFullYear(),d=o.getMonth()===u.getMonth();return`${(0,b.format)(o,`MMM d${c?"":", y"}`)}  ${(0,b.format)(u,`${d?"":"MMM "}d, y`)}`}(e,t,void 0,l)}let l=new Date(e);return"hour"===t.unit?(0,b.format)(l,"MMM d HH:mm"):(0,b.format)(l,"MMM d, y")};var ao=e.i(9522361),au=e.i(8545185);function ac(e,t,r){return 0===t.length?"Total":new Intl.ListFormat("en-US",{style:"long"}).format(t.map(t=>{let a=e.dimensionValues[t];if(null==a)return"Unknown";let l=r[t]?.values[a];return l?l.title:a}))}var ad=e.i(5114891);let af=(0,u.memo)(function(e){let{handle:t,timeseries:r,isProjectView:a,staticItems:l}=e,s=(0,u.useMemo)(()=>Array.from({length:t.view.results.length},(e,t)=>t),[t.view.results.length]),i=(0,u.useMemo)(()=>a?s.map(()=>!0):s.map(e=>{let r=t.view.results[e];return!!r&&!aa(ac(r,t.view.groupBy,t.data.dimensionsMeta),l??[])}),[s,t.view.results,t.view.groupBy,t.data.dimensionsMeta,a,l]),n=(e,a,l)=>{let s=t.data.timestamps[e.bar.data];if(void 0!==s){let i=Math.round(e.x+e.width/2),n=r.getDatum(e.bar.data);a?t.chartInteraction.click({datum:n,left:i,hoveredSegmentKey:l}):t.chartInteraction.willHoverChange(s,l)&&t.chartInteraction.hover({datum:n,left:i,hoveredSegmentKey:l})}};return(0,o.jsx)(ao.BarStack,{color:e=>a||t.view.results[e]?t.colorsScale(e):t.colorsScale(0),data:r.indices,keys:s,order:"descending",value:(e,r)=>{if(!i[r])return 0;let a=t.view.results[r];return a?.values[e]?a.values[e][0]??0:0},x:e=>t.data.timestamps[e]??0,xScale:r.timestampsScale,yScale:r.valuesScale,children:e=>[e[e.length-1]?.bars.map(a=>{let l=t.chartInteraction.isClicked&&t.chartInteraction.activeItem?.datum.timestamp===t.data.timestamps[a.bar.data];return(0,o.jsx)("rect",{className:(0,r8.clsx)(ad.default.barOverlay,l&&ad.default.barOverlaySelected),height:r.valuesScale(0),onMouseMove:()=>{n(a,!1,void 0)},onClick:()=>{n(a,!0,void 0)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&n(a,!0,void 0)},onTouchMove:t=>{let{x:r}=(0,au.localPoint)(t)??{x:0},l=Math.floor(r/(a.width/.5625)),s=e[e.length-1]?.bars[l];s&&n(s,!1)},onTouchEnd:t=>{let{x:r}=(0,au.localPoint)(t)??{x:0},l=Math.floor(r/(a.width/.5625)),s=e[e.length-1]?.bars[l];s&&n(s,!0)},width:a.width/.5625,x:a.x-.4375*a.width*.5/.5625,y:0,pointerEvents:"none"},`bar-stack-${a.index}-overlay`)})??[],...e.map((e,r)=>e.bars.map(a=>{if(a.height<=0)return null;let l=t.chartInteraction.isClicked&&t.chartInteraction.activeItem?.datum.timestamp===t.data.timestamps[a.bar.data];return(0,o.jsx)("rect",{className:(0,r8.clsx)(ad.default.bar,l&&ad.default.barSelected),fill:a.color,height:a.height,width:a.width,x:a.x,y:a.y,"data-stack-index":r,"data-bar-index":a.index,onMouseEnter:e=>{e.stopPropagation(),n(a,!1,r)},onFocus:()=>{n(a,!1,r)},onClick:e=>{e.stopPropagation(),n(a,!0,r)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&n(a,!0,r)}},`bar-stack-${e.key}-${a.index}`)}).filter(Boolean))]})});var ah=e.i(5158601),am=e.i(8521780),ap=e.i(6856435);let ag=(0,u.memo)(function(e){let{timeseries:t,handle:r}=e,a=(0,u.useMemo)(()=>{var e;let r,a,l;return r=(e=t.timestampsScale).domain(),a=e(r[0]??0)??0,l=e.step(),e=>Math.max(0,Math.min(Math.round((e-a)/l),r.length-1))},[t.timestampsScale]),l=(0,u.useCallback)(e=>{let{x:l}=(0,au.localPoint)(e)||{x:0},s=a(l),i=r.data.timestamps[s];if(void 0!==i&&r.chartInteraction.willHoverChange(i)){let e=t.getDatum(s);r.chartInteraction.hover({datum:e,left:t.timestampsScale(e.timestamp)??0})}},[t,r.chartInteraction,r.data.timestamps,a]);return(0,o.jsxs)(o.Fragment,{children:[r.chartInteraction.activeItem?(0,o.jsx)(am.Line,{from:{x:r.chartInteraction.activeItem.left,y:0},pointerEvents:"none",stroke:"var(--accents-2)",strokeWidth:1,to:{x:r.chartInteraction.activeItem.left,y:200}}):null,t.dimensionKeys.map(e=>(0,o.jsxs)(u.default.Fragment,{children:[(0,o.jsx)(ap.LinePath,{curve:ah.curveLinear,data:t.indices,stroke:r.colorsScale(e),strokeWidth:2,x:e=>t.timestampsScale(r.data.timestamps[e]??0)??0,y:a=>t.valuesScale(r.view.results[e]?.values[a]?.[0]??0)}),r.chartInteraction.activeItem?(0,o.jsx)("circle",{cx:r.chartInteraction.activeItem.left,cy:t.valuesScale(r.chartInteraction.activeItem.datum.values[e]?.value[0]??0),fill:r.colorsScale(e),pointerEvents:"none",r:4,stroke:"white",strokeWidth:2}):null]},e)),(0,o.jsx)("rect",{fill:"transparent",height:200,onMouseMove:l,onTouchMove:l,rx:0,width:r.containerWidth,x:0,y:0})]})});var ax=e.i(8295952),av=e.i(3489437),ay=e.i(157972),ab=e.i(8303205);function aj(e){let{handle:t,style:r,isProjectView:a=!1,staticItems:l,forecast:s,yAxisFormatter:i}=e,n=(0,u.useRef)(null),c=6e4*new Date().getTimezoneOffset(),d=(0,p.createUnitFormatter)({style:"short"}),f=function(e){let{data:t,view:r,style:a,containerWidth:l}=e;return(0,u.useMemo)(()=>{var e,s,i,n;let o,u,c,d,f,h;o="bar"===a?(0,ax.scaleBand)({domain:t.timestamps,range:[0,l-50],padding:.4375,paddingOuter:.3}):(0,ay.scalePoint)({domain:t.timestamps,range:[0,l-36],padding:.3});let m=(e=t.timestamps,s=l,i=t.granularity,c=8,s<480?c=3:s<720?c=4:"hour"===i.unit&&1===i.step&&(c=4),d=Math.round(e.length/c),e.length<=3?e:e.filter((e,t)=>t%d==d>>1));0===(u="bar"===a?t.timestamps.reduce((e,r,a)=>Math.max(e,t.totalValues[a]??0),0):r.results.reduce((e,t)=>Math.max(e,t.values.reduce((e,t)=>Math.max(e,t[0]??0),0)),0))&&(u=100),(u=Math.max(u,1))%5!=0&&(u=5*Math.ceil(u/5));let p=(0,av.scaleLinear)({domain:[0,u],range:[200,0],clamp:!0}),g=(h=(f=Math.pow(10,Math.floor(Math.log10(n=u))))/10*Math.ceil(n/(f/10))/5,[0,...Array.from({length:5},(e,t)=>(t+1)*h)]),x=function(e){let t=[];for(let r=0;r<e.length;r++)t.push(r);return t}(r.results);return{indices:t.timestamps.map((e,t)=>t),getDatum:e=>({timestamp:t.timestamps[e]??0,totalValue:t.totalValues[e]??0,values:r.results.map(t=>({dimensionValues:t.dimensionValues,value:t.values[e]??[0,0]}))}),dimensionKeys:x,timestampsScale:o,timestampsTicks:m,valuesScale:p,valuesTicks:g}},[l,t.granularity,t.timestamps,t.totalValues,a,r.results])}({containerWidth:t.containerWidth,data:{...t.data,dimensionsMeta:a&&t.data.dimensionsMeta.project?{project:t.data.dimensionsMeta.project}:t.data.dimensionsMeta},style:r,view:t.view}),h=function(e){let{containerWidth:t,granularity:r,chartInteraction:a}=e,[l,s]=(0,u.useState)(null);return(0,u.useEffect)(()=>a.subscribeToChange(e=>{s(e)}),[a]),{left:(l?.left??0)+50,open:null!==l,data:l?.datum,containerWidth:t,granularity:r}}({containerWidth:t.containerWidth,granularity:t.data.granularity,chartInteraction:t.chartInteraction}),m=s?.showAllocation&&(f?.valuesTicks[-1]??0)>s?.credits;return(0,o.jsxs)("figure",{className:ab.default.chartContainer,onMouseLeave:()=>{t.chartInteraction.blur()},ref:t.chartRef,style:{visibility:t.containerWidth?"visible":"hidden"},children:[(0,o.jsxs)("div",{className:ab.default.autoVisibility,children:[(0,o.jsx)("svg",{className:ab.default.chartAxis,height:227,width:50,children:(0,o.jsx)(g.AxisLeft,{hideAxisLine:!0,hideTicks:!0,left:8,scale:f.valuesScale,tickFormat:e=>(e=>{if(i)return i(e);let r=d(e,t.data.valuesUnit);return t.data.valuesUnit?.kind==="custom"?r.split(" ")[0]??"":r})(e),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"start"}),tickValues:f.valuesTicks,top:5})}),(0,o.jsxs)("svg",{className:ab.default.chartAxis,height:227,ref:n,width:"calc(100% - 50px)",children:[(0,o.jsx)(x.AxisBottom,{hideAxisLine:!0,hideTicks:!0,scale:f.timestampsScale,tickFormat:e=>aw(e+c,t.data.granularity),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"middle"}),tickValues:f.timestampsTicks,top:200}),(0,o.jsx)(v.GridRows,{scale:f.valuesScale,stroke:"var(--accents-2)",tickValues:f.valuesTicks,width:n.current?n.current.clientWidth:400}),(0,o.jsx)(y.Group,{children:"bar"===r?(0,o.jsx)(af,{handle:t,timeseries:f,isProjectView:a,staticItems:l}):(0,o.jsx)(ag,{handle:t,timeseries:f})}),m&&(0,o.jsx)(y.Group,{children:(0,o.jsx)("line",{x1:0,x2:n.current?n.current.clientWidth:400,y1:f.valuesScale(s.credits),y2:f.valuesScale(s.credits),stroke:"#0070F3",strokeWidth:2,strokeDasharray:"8,4",opacity:.8})})]})]}),m&&(0,o.jsx)("div",{style:{position:"absolute",top:Math.max(-6,f.valuesScale(s.credits)-12+5),left:58,zIndex:10},children:(0,o.jsx)("div",{style:{width:55,height:20,borderRadius:10,backgroundColor:"#0070F3",opacity:.9,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:12,fontWeight:500},children:s.creditsLabel})}),(0,o.jsx)(as,{containerWidth:t.containerWidth,open:h.open,data:h.data,left:h.left,chartData:t.data,isProjectView:a,colorsScale:t.colorsScale,granularity:t.data.granularity,hoveredSegmentKey:t.chartInteraction.activeItem?.hoveredSegmentKey,valuesUnit:t.data.valuesUnit,staticItems:l})]})}let aw=(e,t)=>{let r=new Date(e);switch(t.unit){case"hour":return(0,b.format)(r,"MMM d HH:mm");case"week":default:return(0,b.format)(r,"MMM d");case"month":return(0,b.format)(r,"MMM y")}};var a_=e.i(3169345),ak=e.i(8626589),aS=e.i(3675495),aC=e.i(9847832),aN=e.i(8042625);function aM(e){let{invoiceItems:t,type:r,used:a}=e,l=t[r],s=l?.batch&&l.batch>1,i=s?l.batch??null:null,n=s?l.price??null:null,o=l?.threshold??null;o&&"artifacts"===r&&(o=null);let u=0;null!==o&&a>o&&o>0&&(u=Math.abs(o-a)),a>u&&(null===o||0===o)&&(u=a);let c=null!==o&&o>0?Math.ceil(a/o*100):null;return{exceeded:u,increment:i,limit:o,percentage:c?c/100:null,used:null!==o?0:a,pricePerIncrement:n}}function aI(e){let{maxRows:t,data:r,view:a,chartInteraction:l,colorsScale:s,billableItemToChartMap:i,teamSlug:n,projectSlug:o,queryParams:c,isProjectView:d,staticItems:f,invoiceItems:h}=e,[m,p]=(0,u.useState)(!1),g=null!==t?Math.min(t,a.results.length):a.results.length,x=(0,u.useCallback)((e,t)=>{let l;if(0===a.results.length)return{value:0,usageValue:0,percent:0,percentage:0,exceeded:0};let s=a.results[e];if(!s)return{value:0,usageValue:0,percent:0,percentage:0,exceeded:0};let i=aa(ac(s,a.groupBy,r.dimensionsMeta),f??[]),n=!i&&t?.values[e]?.value?t.values[e]?.value:a.results[e]?.totalValue??[0,0];l=0===a.results.length?0:!i&&t?t.values.reduce((e,t)=>e+(t.value[0]??0),0):a.results.reduce((e,t)=>e+(t.totalValue[0]??0),0);let o=n[0]??0,u=n[1]??0,c=aM({invoiceItems:h??{},type:Object.values(s.dimensionValues)[0]??"",used:u});return{value:o,usageValue:u,percent:0===l?0:o/l,percentage:c.percentage??0,exceeded:c.exceeded}},[a.results,a.groupBy,r.dimensionsMeta,f,h]),{rows:v,totalValue:y}=(0,u.useMemo)(()=>{let e=[],t=0;if(0===a.results.length)e.push({title:"No Usage",subtitle:null,color:s(0),value:new t6(0),usageValue:new t6(0),percent:new t6(0),percentage:null,slug:void 0,exceeded:new t6(0)}),t=0;else for(let l=0;l<g;l++){let u,m=a.results[l];if(!m)continue;let p=Object.values(m.dimensionValues)[0],g=ac(m,a.groupBy,r.dimensionsMeta),v=function(e,t,r){let a=t[0];if(!a)return null;let l=e.dimensionValues[a];if(!l)return null;let s=r[a]?.values[l];return s?s.subtitle??null:null}(m,a.groupBy,r.dimensionsMeta),{value:y,percent:b,usageValue:j}=x(l,null),w=aM({invoiceItems:h??{},type:p??"",used:j});if(aa(g,f??[])||(t+=y),p&&i?.[p]){let e=i[p],{product:t,products:r,...a}=c??{},l=(0,aN.encode)(a??{});u=o?`/${n??""}/${o}/usage/${e}${l}`:`/${n??""}/~/usage/${e}${l}`}else d&&(u=`/${n??""}/${g}/observability`);e.push({title:g,subtitle:v,color:s(l),value:new t6(y),percent:new t6(b),usageValue:new t6(j),slug:p??void 0,usagePath:u,percentage:new t6(w.percentage??0),exceeded:new t6(w.exceeded),limit:w.limit??void 0,pricePerIncrement:w.pricePerIncrement??void 0,increment:w.increment??void 0,used:w.used})}return{rows:e,totalValue:new t6(t)}},[r.dimensionsMeta,g,a.results,a.groupBy,x,s,n,o,i,c,d,f,h]),b=(()=>{let[e,t]=(0,u.useState)(null);return tr(()=>{let e=window.matchMedia("(prefers-reduced-motion)"),r=e=>{t(e.matches),ee({skipAnimation:e.matches})};return r(e),e.addEventListener("change",r),()=>{e.removeEventListener("change",r)}},[]),e})()??!1,j=(0,u.useCallback)((e,t)=>{let r=0;for(let a=0;a<v.length;a++){let{value:l,usageValue:s,percent:i,percentage:n,exceeded:o}=x(a,e),u=v[a];u&&(u.value.goal!==l&&u.value.start(l,{config:{duration:200},immediate:t??b}),u.percent.goal!==i&&u.percent.start(i,{config:{duration:200,bounce:0},immediate:t??b}),u.usageValue.goal!==s&&u.usageValue.start(s,{config:{duration:200},immediate:t??b}),u.percentage&&u.percentage.goal!==n&&u.percentage.start(n,{config:{duration:200},immediate:t??b}),u.exceeded.goal!==o&&u.exceeded.start(o,{config:{duration:200},immediate:t??b}),aa(u.title,f??[])||(r+=l))}y.start(r,{config:{duration:200},immediate:t??b})},[y,v,x,b,f]);return(0,u.useEffect)(()=>l.subscribeToChange(e=>{let t=e?.datum??null;j(t),(0,u.startTransition)(()=>{p(null!==t)})}),[l,j]),{rows:v,isFocused:m,totalValue:y}}var aA=e.i(3070885),aE=e.i(6912485),aP=e.i(2689376),aT=e.i(5468328),aU=e.i(1288475),aV=e.i(2988836),aO=e.i(119294),aF=e.i(6352514);let aR={long:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:3}),short:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0})},aL=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:1});function aB(e){let{isFocused:t,row:r,handle:a,isProjectView:l,isMobile:s,mobileValueMode:i,showProgressBar:n=!1,isInBillingCycle:u=!0,planIteration:c}=e,d=r.usagePath;if("ent"===e.variant){let{showPercentage:u}=e;return s?"value"===i?(0,o.jsx)(a$,{colSpan:4,isFocused:t,rightAligned:!0,row:r,valuesUnit:a.data.valuesUnit,hideUsage:l,tableCellLink:d,plan:"enterprise"}):(0,o.jsx)(az,{colSpan:4,isFocused:t,rightAligned:!0,row:r,showProgressBar:n,tableCellLink:d,plan:"enterprise"}):u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a$,{colSpan:2,isFocused:t,row:r,usageUnit:a.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,hideUsage:l,tableCellLink:d,plan:"enterprise"}),(0,o.jsx)(az,{colSpan:2,isFocused:t,rightAligned:!0,row:r,showProgressBar:n,tableCellLink:d,plan:"enterprise"}),(0,o.jsx)(a$,{colSpan:2,isFocused:t,row:r,tableCellLink:d,hideUsage:l,valuesUnit:a.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"enterprise"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(az,{colSpan:2,isFocused:t,rightAligned:!0,row:r,showProgressBar:!1,tableCellLink:d,plan:"enterprise"}),(0,o.jsx)(a$,{colSpan:2,isFocused:t,row:r,tableCellLink:d,hideUsage:l,valuesUnit:a.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"enterprise"})]})}if("plus"===c)return s?l?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(aH,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:a.data.valuesUnit,hideUsage:!0,plan:"pro"})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(aQ,{colSpan:1,isFocused:t,rightAligned:!0,row:r,usageUnit:a.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro",isMobile:s})}):l?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(aH,{colSpan:2,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:a.data.valuesUnit,hideUsage:!0,plan:"pro"})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(aQ,{colSpan:1,isFocused:t,row:r,usageUnit:a.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"}),(0,o.jsx)(aH,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:a.data.valuesUnit,hideUsage:!0,plan:"pro"})]});return s?l?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(aH,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:a.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})}):"value"===i?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(aG,{colSpan:2,isFocused:t,rightAligned:!0,row:r,usageUnit:a.data.valuesUnit,tableCellLink:d,plan:"pro",isMobile:s})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(aH,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:a.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})}):l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(aK,{colSpan:1}),(0,o.jsx)(az,{colSpan:1,isFocused:t,row:r,showProgressBar:n,tableCellLink:d,plan:"pro"}),(0,o.jsx)(aH,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:a.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})]}):(0,o.jsxs)(o.Fragment,{children:[u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(aG,{colSpan:1,isFocused:t,row:r,usageUnit:a.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"}),(0,o.jsx)(aW,{colSpan:1,isFocused:t,row:r,usageUnit:a.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(aK,{colSpan:1}),(0,o.jsx)(aq,{colSpan:1,isFocused:t,row:r,usageUnit:a.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"})]}),(0,o.jsx)(aH,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:a.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})]})}function aD(e){let{row:t,colSpan:r,tableCellLink:a,plan:l}=e,s=(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial px-1",children:[(0,o.jsx)(aU.Status,{style:{color:t.color}}),(0,o.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:t.title.split(",")[0]}),t.subtitle?(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:t.subtitle})]}):null]});return(0,o.jsx)(a_.Table.Cell,{colSpan:r,children:a?(0,o.jsx)(a_.Table.CellLink,{onClick:()=>{a&&(t.title&&a.includes("/observability")?aO.analytics.track(aF.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title||"unknown",plan:l}):aO.analytics.track(aF.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:l}))},href:a,className:"flex flex-col items-stretch justify-start flex-initial",children:s}):s})}function a$(e){let{row:t,valuesUnit:r,usageUnit:a,colSpan:l,rightAligned:s,isFocused:i,tableCellLink:n,hideUsage:c,plan:d}=e,f=(0,u.useMemo)(()=>e=>a?.kind==="custom"?r9(e,{...a,singular:"",plural:""}):r9(e,a),[a]),h=(0,o.jsxs)("div",{className:(0,r8.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":s}),color:i?"gray-1000":"gray-900",children:[r?(0,o.jsx)(rX.span,{children:t.value.to(e=>at(e,r,{style:"long",valuesUnit:r}))}):null,a&&!c?(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(rX.span,{children:t.usageValue.to(f)}),t.limit?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:"/"}),(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:f(t.limit)})]}):null]}):null]});return(0,o.jsx)(a_.Table.Cell,{colSpan:l,children:n?(0,o.jsx)(a_.Table.CellLink,{href:n,onClick:()=>{n&&(t.title&&n.includes("/observability")?aO.analytics.track(aF.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title.split(",")[0]||"unknown",plan:d}):aO.analytics.track(aF.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:d}))},className:"flex flex-col items-stretch justify-start flex-initial",children:h}):h})}function aH(e){let{row:t,valuesUnit:r,usageUnit:a,colSpan:l,rightAligned:s,isFocused:i,tableCellLink:n,hideUsage:c,plan:d}=e,f=(0,u.useMemo)(()=>e=>a?.kind==="custom"?r9(e,{...a,singular:"",plural:""}):r9(e,a),[a]),h=(0,o.jsxs)("div",{className:(0,r8.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":s}),color:i?"gray-1000":"gray-900",children:[r?(0,o.jsx)(rX.span,{children:t.value.goal!==t.value.get()?t.value.to(e=>at(e,r??null,{style:"long",valuesUnit:r??null})):at(t.value.goal,r??null,{style:"long",valuesUnit:r??null})}):"-",a&&!c?(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(rX.span,{children:t.usageValue.to(f)}),t.limit?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:"/"}),(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:f(t.limit)})]}):null]}):null]});return(0,o.jsx)(a_.Table.Cell,{colSpan:l,children:n?(0,o.jsx)(a_.Table.CellLink,{href:n,onClick:()=>{n&&(t.title&&n.includes("/observability")?aO.analytics.track(aF.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title.split(",")[0]||"unknown",plan:d}):aO.analytics.track(aF.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:d}))},className:"flex flex-col items-stretch justify-start flex-initial",children:h}):h})}function az(e){let{row:t,colSpan:r,rightAligned:a,isFocused:l,showProgressBar:s,tableCellLink:i}=e,n=(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[s?(0,o.jsx)(aE.Progress,{colors:{0:"var(--ds-blue-700)"},width:60,max:1,value:t.percent.goal}):null,(0,o.jsx)("p",{className:`text-copy-14 ${(0,r8.clsx)("tabular-nums whitespace-nowrap",{"text-right":a},l?"text-gray-1000":"text-gray-900")}`,children:(0,o.jsx)(rX.span,{children:t.percent.to(e=>aL.format(e))})})]});return(0,o.jsx)(a_.Table.Cell,{colSpan:r,children:i?(0,o.jsx)(a_.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:n}):n})}function aG(e){let{row:t,usageUnit:r,colSpan:a,rightAligned:l,isFocused:s,tableCellLink:i,isMobile:n}=e,[c,d]=(0,u.useState)(t.percentage?.get()??0),f=(0,u.useRef)(t.percentage);(0,u.useEffect)(()=>{f.current=t.percentage},[t.percentage]),(0,u.useEffect)(()=>{if(!f.current)return;let e=()=>{d(f.current?.get()??0)};e();let t=setInterval(e,16);return()=>clearInterval(t)},[t.percentage]);let h=(0,u.useMemo)(()=>e=>r?.kind==="custom"?r3(e,{...r,singular:"",plural:""}):r3(e,r),[r]),m=(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial pl-2",children:(0,o.jsx)("span",{children:"-"})});t.limit&&t.percentage?m=n?(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:[(0,o.jsx)(rX.span,{children:t.usageValue.to(h)}),(0,o.jsx)("span",{children:"/"}),(0,o.jsx)("span",{children:h(t.limit??0)})]}):(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(aP.Gauge,{className:(0,r8.clsx)(t.limit?void 0:"opacity-0","mr-1"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:100*c}),(0,o.jsxs)("span",{style:{whiteSpace:"normal"},children:[(0,o.jsx)(rX.span,{children:t.usageValue.to(h)}),(0,o.jsx)("wbr",{})," / ",(0,o.jsx)("span",{children:h(t.limit??0)})]})]}):t.limit&&(m=(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,o.jsx)(aP.Gauge,{className:(0,r8.clsx)(t.limit?void 0:"opacity-0"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:0}),(0,o.jsx)(rX.span,{children:t.usageValue.to(h)})]}));let p=(0,o.jsx)("div",{className:(0,r8.clsx)("tabular-nums","font-normal",{"text-right":l}),color:s?"gray-1000":"gray-900",children:m});return(0,o.jsx)(a_.Table.Cell,{colSpan:a,children:i?(0,o.jsx)(a_.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:p}):p})}function aW(e){let{row:t,usageUnit:r,colSpan:a,rightAligned:l,isFocused:s,tableCellLink:i}=e,n=(0,u.useMemo)(()=>e=>r?.kind==="custom"?r3(e,{...r,singular:"",plural:""}):r3(e,r),[r]),c=(0,o.jsx)("div",{className:(0,r8.clsx)("tabular-nums","whitespace-nowrap","font-normal","text-right",{"text-right":l}),color:s?"gray-1000":"gray-900",children:(0,o.jsx)(rX.span,{children:t.exceeded.to(e=>0===e?"-":`${t.limit?"+":""}${n(e)}`)})});return(0,o.jsx)(a_.Table.Cell,{colSpan:a,children:i?(0,o.jsx)(a_.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:c}):c})}function aq(e){let{row:t,usageUnit:r,colSpan:a,rightAligned:l,isFocused:s,tableCellLink:i}=e,n=(0,u.useMemo)(()=>e=>r?.kind==="custom"?r3(e,{...r,singular:"",plural:""}):r3(e,r),[r]),c=(0,o.jsx)("div",{className:(0,r8.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":l}),color:s?"gray-1000":"gray-900",children:(0,o.jsx)(rX.span,{children:t.usageValue.to(n)})});return(0,o.jsx)(a_.Table.Cell,{colSpan:a,children:i?(0,o.jsx)(a_.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:c}):c})}function aQ(e){let{row:t,usageUnit:r,colSpan:a,rightAligned:l,isFocused:s,tableCellLink:i,isMobile:n}=e,[c,d]=(0,u.useState)(t.percentage?.get()??0),f=(0,u.useRef)(t.percentage);(0,u.useEffect)(()=>{f.current=t.percentage},[t.percentage]),(0,u.useEffect)(()=>{if(!f.current)return;let e=()=>{d(f.current?.get()??0)};e();let t=setInterval(e,16);return()=>clearInterval(t)},[t.percentage]);let h=(0,u.useMemo)(()=>e=>r?.kind==="custom"?r3(e,{...r,singular:"",plural:""}):r3(e,r),[r]),m=(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial pl-2",children:(0,o.jsx)("span",{children:"-"})});m=t.limit?n?(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:[(0,o.jsx)(rX.span,{children:t.usageValue.to(h)}),(0,o.jsx)("span",{children:"/"}),(0,o.jsx)("span",{children:h(t.limit??0)})]}):(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(aP.Gauge,{className:(0,r8.clsx)(t.limit?void 0:"opacity-0"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:100*c,style:{marginLeft:"-26px"}}),(0,o.jsxs)("span",{style:{whiteSpace:"normal",marginLeft:"2px"},children:[(0,o.jsx)(rX.span,{children:t.usageValue.to(h)}),(0,o.jsx)("wbr",{})," / ",(0,o.jsx)("span",{children:h(t.limit??0)})]})]}):(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,o.jsx)(rX.span,{children:t.exceeded.to(e=>0===e?"-":h(e))}),t.pricePerIncrement&&t.increment&&(0,o.jsx)(aT.Tooltip,{text:`${function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=Number(e)*a,s=100;return"string"==typeof e&&(s=1),"auto"===r&&(r=l%s==0?"short":"long"),(0,aR[r])(t).format(l/s)}(t.pricePerIncrement)} per ${h(t.increment)} (charged on first use)`,position:"bottom",children:(0,o.jsx)(aV.InformationFillSmall,{})})]});let p=(0,o.jsx)("div",{className:(0,r8.clsx)("tabular-nums","font-normal",{"text-right":l}),color:s?"gray-1000":"gray-900",children:m});return(0,o.jsx)(a_.Table.Cell,{colSpan:a,children:i?(0,o.jsx)(a_.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:p}):p})}function aK(e){let{colSpan:t}=e;return(0,o.jsx)(a_.Table.Cell,{colSpan:t})}function aY(e){let{category:t,colSpans:r,rows:a,rowsPerCategory:l,isMobile:s,mobileValueMode:i,isFocused:n,showPercentage:c,showProgressBar:d=!1,handle:f,selectedProductAndCategory:h,isProjectView:m}=e,p=(0,u.useMemo)(()=>{if("No Usage"===t){let e=a.find(e=>"No Usage"===e.title);return e&&h?.product?[{...e,title:h.product}]:a.filter(e=>"No Usage"===e.title)}let e=a;if(l&&t&&(e=a.filter(e=>l[t]?.includes(e.title.split(",")[0]??""))).length>0&&l[t]){let r=l[t];e.sort((e,t)=>r.indexOf(e.title)-r.indexOf(t.title))}return(e=e.filter(e=>0!==e.value.goal||0!==e.usageValue.goal)).length>0?[...e].sort((e,t)=>t.value.goal-e.value.goal):[...e]},[a,l,t,h]),g=(0,u.useMemo)(()=>"No Usage"===t&&h?.category?h.category:t,[t,h]);return(0,o.jsxs)(o.Fragment,{children:[g&&"No Usage"!==g?(0,o.jsx)(a_.Table.Row,{children:(0,o.jsx)(a_.Table.Cell,{className:"border-b",colSpan:s?10:r+2,style:{textAlign:"left",paddingLeft:"1rem"},children:(0,o.jsx)("p",{className:"text-copy-14 text-gray-1000",children:g})})}):null,p.map((e,t)=>{let r=aB({variant:"ent",isFocused:n,row:e,handle:f,isProjectView:m,isMobile:s,mobileValueMode:i,showPercentage:c,showProgressBar:d});return(0,o.jsxs)(a_.Table.Row,{className:aA.default.legendRow,children:[(0,o.jsx)(aD,{colSpan:6,row:e,tableCellLink:e.usagePath,isProjectView:m,plan:"enterprise"}),r]},t)})]})}ak.Hash,aS.Percentage;var aZ=e.i(2480776),aJ=e.i(8923565),aX=e.i(4004502),a0=e.i(593207);function a1(e){let{queriedAt:t,className:r}=e,a=(0,a0.useAgo)(Date.parse(t),{justNowLabel:"just now"});return(0,o.jsxs)("p",{"data-testid":(0,aX.tid)("usage","metric","updated-text"),className:`text-label-14 font-normal text-gray-900 ${r}`,children:["Updated ",a||"just now"]})}var a2=e.i(5255926),a5=e.i(2312502),a4=e.i(8161149),a8=e.i(7275883);function a9(e){let{rows:t,rowsPerCategory:r,isMobile:a,mobileValueMode:l,isFocused:s,showProgressBar:i=!1,handle:n,selectedProductAndCategory:c,isProjectView:d,category:f,showHeader:h=!0,isInBillingCycle:m=!0,planIteration:p}=e,g=(0,u.useMemo)(()=>{if("No Usage"===f){let e=t.find(e=>"No Usage"===e.title);return e&&c?.product?[{...e,title:c.product}]:t.filter(e=>"No Usage"===e.title)}let e=t;if(r&&f&&(e=t.filter(e=>r[f]?.includes(e.title.split(",")[0]??""))).length>0&&r[f]){let t=r[f];e.sort((e,r)=>t.indexOf(e.title)-t.indexOf(r.title))}return(e=e.filter(e=>0!==e.value.goal||0!==e.usageValue.goal)).length>0?[...e].sort((e,t)=>t.value.goal-e.value.goal):[...e]},[t,r,f,c]),x=(0,u.useMemo)(()=>"No Usage"===f&&c?.category?c.category:f,[f,c]);return(0,o.jsxs)(o.Fragment,{children:[h?(0,o.jsx)(a_.Table.Header,{className:"geist-hide-on-mobile",children:(0,o.jsxs)(a_.Table.Row,{children:[(0,o.jsx)(a_.Table.Head,{children:"Product"}),m?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a_.Table.Head,{children:"Included"}),(0,o.jsx)(a_.Table.Head,{children:"On-demand"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{children:"Usage"})]}),(0,o.jsx)(a_.Table.Head,{children:"Charge"})]})}):null,x&&"No Usage"!==x?(0,o.jsx)(a_.Table.Row,{children:(0,o.jsx)(a_.Table.Cell,{className:"border-b",colSpan:a?4:5,style:{textAlign:"left",paddingLeft:"1rem"},children:(0,o.jsx)("p",{className:"text-copy-14 text-gray-1000",children:x})})}):null,g.map((e,t)=>{let r=aB({variant:"pro",row:e,isFocused:s,handle:n,isProjectView:d,isMobile:a,mobileValueMode:l,showProgressBar:i,isInBillingCycle:m,planIteration:p});return(0,o.jsxs)(a_.Table.Row,{className:aA.default.legendRow,children:[(0,o.jsx)(aD,{colSpan:a?1:2,row:e,tableCellLink:e.usagePath,plan:"pro"}),r]},t)})]})}var a3=e.i(7807066),a6=e.i(2560270);function a7(e,t){return e.results.reduce((e,r)=>{let a=r.values[0]??[0,0],l=r.values.map((e,r)=>0===r?e:t>=0&&r>=t?[0,0]:e?a=[(a[0]??0)+(e[0]??0),(a[1]??0)+(e[1]??0)]:a);return e.push({...r,values:l}),e},[])}function le(e,t,r){let a=new Map,l=[],s=new Map;t.forEach((e,t)=>{let i=new Date(e),n=("monthly"===r?(0,d.startOfMonth)(i):(0,f.startOfWeek)(i,{weekStartsOn:1})).toISOString();a.has(n)||(a.set(n,[]),l.push(n),s.set(n,e)),a.get(n)?.push(t)});let i=l.map(e=>s.get(e)??e);return{results:e.results.map(e=>{let t=[],r=[0,0];return l.forEach(l=>{let s=a.get(l)??[],i=[0,0];s.forEach(t=>{let r=e.values[t];r&&(i[0]+=r[0]??0,i[1]+=r[1]??0)}),t.push(i),r[0]+=i[0],r[1]+=i[1]}),{...e,values:t,totalValue:r}}),aggregatedTimes:i}}function lt(e){let{timeseriesResults:t,metrics:r,intitialViewKey:a,period:l="daily",cumulative:s=!1}=e,[i,{width:n}]=(0,c.default)(),o=(0,u.useMemo)(()=>{let e=Date.now(),a=(()=>{if("monthly"!==l&&"weekly"!==l)return null;let e=Object.values(t.views)[0];return e?le(e,t.times,l).aggregatedTimes:null})(),i=a??t.times,n=s?i.findIndex(t=>Date.parse(t)>e):-1,o=Object.entries(t.views).map(e=>{let r,[a,i]=e;return{key:a,groupBy:i.groupBy,results:(r=i.results,("weekly"===l||"monthly"===l)&&(r=le(i,t.times,l).results),s&&(r=a7({...i,results:r},n)),r)}}),u=a??t.times,c=u.map((e,t)=>{let r=o[0]?.results;return r?.length?r.reduce((e,r)=>{let a=r.values[t];return a?Array.isArray(a)?e+(a[0]||0):e+("number"==typeof a?a:0):e},0):0}),d=r[0]?.unit??null,f={monthly:{unit:"month",step:1},weekly:{unit:"week",step:1}}[l]??t.granularity,h=t.times[t.times.length-1],m=h?Date.parse(h):void 0;return{dimensionsMeta:t.dimensionsMeta,granularity:f,timestamps:u.map(e=>Date.parse(e)),totalValue:c.reduce((e,t)=>e+t,0),totalValues:c,views:o,metrics:r,valuesUnit:d,maxTimestamp:m}},[r,t.dimensionsMeta,t.granularity,t.times,t.views,l,s]),[d,f]=(0,u.useState)(a??o.views[0]?.key??""),h=o.views.find(e=>e.key===d);if(!h)throw Error(`No view with key ${d}`);let p=function(e){let{groups:t,colorPalette:r}=e;return(0,u.useMemo)(()=>{let e=[],a=[];for(let r=0;r<t.length;r++){e.push(r);let l=t[r],s=l?.totalValue[0]??0;a.push({key:r,total:s})}a.sort((e,t)=>t.total-e.total);let l=new Map;a.forEach((e,t)=>{let{key:r}=e;l.set(r,t)});let s=(0,aZ.scaleOrdinal)({domain:e,range:r.defaultColors});return e=>s(l.get(e)??0)},[r.defaultColors,t])}({groups:h.results,colorPalette:m});return{data:o,chartInteraction:function(){let[e,t]=(0,u.useState)(null),[r,a]=(0,u.useState)(!1),l=(0,u.useRef)(null),s=(0,u.useRef)([]),i=e=>{for(let t of s.current)t(e)},n=()=>{l.current&&(clearTimeout(l.current),l.current=null),(0,u.startTransition)(()=>{a(!1),t(null)}),i(null)};return{subscribeToChange:e=>(s.current.push(e),()=>{s.current=s.current.filter(t=>t!==e)}),willHoverChange:(t,r)=>{let a=null===e||e.datum.timestamp!==t,s=!a&&e.hoveredSegmentKey!==r;return a||s||null!==l.current},hover:a=>{if(l.current&&(clearTimeout(l.current),l.current=null),r&&e?.datum.timestamp===a.datum.timestamp){let r={...e,hoveredSegmentKey:a.hoveredSegmentKey};(0,u.startTransition)(()=>{t(r)}),i(r);return}r||((0,u.startTransition)(()=>{t(a)}),i(a))},blur:()=>{if(r){if(e&&void 0!==e.hoveredSegmentKey){let r={...e,hoveredSegmentKey:void 0};(0,u.startTransition)(()=>{t(r)}),i(r)}return}l.current&&clearTimeout(l.current),l.current=window.setTimeout(()=>{l.current=null,(0,u.startTransition)(()=>{t(null)}),i(null)},50)},click:l=>{r&&e?.datum.timestamp===l.datum.timestamp?n():((0,u.startTransition)(()=>{a(!0),t(l)}),i(l))},clear:n,activeItem:e,isClicked:r}}(),colorsScale:p,chartRef:i,containerWidth:n,setViewKey:e=>(0,u.startTransition)(()=>f(e)),view:h}}let lr=function(e){let{className:t,children:r,minHeight:a}=e;return(0,o.jsx)(h,{className:t,minHeight:a,children:r})},la=function(e){let{children:t,queriedAt:r}=e;return(0,o.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center justify-between gap-4 flex-initial",children:[(0,o.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:t}),r?(0,o.jsx)(a1,{className:"geist-hide-on-mobile",queriedAt:r}):null]})},ll=function(e){let{children:t,queriedAt:r}=e;return(0,o.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center justify-between gap-4 flex-initial",children:[(0,o.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:t}),r?(0,o.jsx)(a2.Skeleton,{height:22,width:125}):null]})},ls=function(e){let{views:t,handle:r,disabled:a}=e;return(0,o.jsx)(aJ.Switch,{children:t.map((e,t)=>{let l,s=new Intl.ListFormat("en-US",{style:"long"}).format(e.groupBy.map(e=>{let t=r?.data.dimensionsMeta[e];return t?.title??e})),i=e.title;return 0===e.groupBy.length?(i||(i="Total"),l="No grouping"):(i||(i=s),l=`Group by ${s}`),(0,o.jsx)(aT.Tooltip,{desktopOnly:!0,style:{flexGrow:1},text:l,children:(0,o.jsx)(aJ.Switch.Control,{checked:e.key===r?.view.key,disabled:a||!r,label:i,onChange:()=>{r?.setViewKey(e.key)},value:t,width:110})},e.key)})})},li=function(){return(0,o.jsx)(a2.Skeleton,{height:40,width:223})},ln=function(){return(0,o.jsx)("div",{className:"flex h-full min-h-[160px] items-center justify-center",children:(0,o.jsx)(a4.EmptyState.Root,{icon:(0,o.jsx)(a4.EmptyState.Icon,{icon:(0,o.jsx)(a8.ChartBarPeak,{size:32})}),title:"No Usage Data",description:"Resource consumption data will appear here.",className:"border-none"})})},lo=function(){return(0,o.jsx)(a2.Skeleton,{height:227,style:{marginTop:"var(--geist-gap)"},width:"100%"})},lu=function(e){let{handle:t,maxRows:r,showPercentage:a,showProgressBar:l,categories:s,rowsPerCategory:i,showTotal:n=!1,teamSlug:c,projectSlug:d,queryParams:f,billableItemToChartMap:h,selectedProductAndCategory:m,isProjectView:p=!1,staticItems:g}=e,{isFocused:x,rows:v,totalValue:y}=aI({view:t.view,data:t.data,chartInteraction:t.chartInteraction,maxRows:r,colorsScale:t.colorsScale,teamSlug:c,projectSlug:d,queryParams:f,billableItemToChartMap:h,isProjectView:p,staticItems:g,invoiceItems:void 0}),b=(0,aC.useIsMobile)(),[j,w]=(0,u.useState)("value"),_=(0,u.useMemo)(()=>v[0]?.title==="No Usage"&&1===v.length?["No Usage"]:s&&i?s.filter(e=>{if(!e)return!1;let t=i[e]||[],r=v.filter(e=>{let r=e.title.split(",")[0];return r&&t.includes(r)}),a=r.some(e=>0!==e.value.goal||0!==e.usageValue.goal);return r.length>0&&a}):s,[s,i,v]);return(0,o.jsxs)("div",{className:`flex flex-col items-stretch justify-start gap-2 flex-initial pt-0 ${(0,r8.clsx)(aA.default.container)}`,children:[(0,o.jsxs)(a_.Table,{style:{tableLayout:"fixed",width:"100%"},children:[(0,o.jsx)(a_.Table.Colgroup,{children:Array.from({length:b?1:12}).map((e,t)=>{let r=0===t?{width:"10%",minWidth:"100px"}:{width:"10%",minWidth:"60px"};return(0,o.jsx)(a_.Table.Col,{style:r},t)})}),(0,o.jsx)(a_.Table.Body,{striped:!0,children:_?_.map(e=>(0,o.jsx)(aY,{category:e,colSpans:10,rows:v,rowsPerCategory:i,isMobile:b,mobileValueMode:j,isFocused:x,showPercentage:a,handle:t,selectedProductAndCategory:m,isProjectView:p,showProgressBar:l},e)):(0,o.jsx)(aY,{colSpans:10,rows:v,rowsPerCategory:i,isMobile:b,mobileValueMode:j,isFocused:x,showPercentage:a,handle:t,selectedProductAndCategory:m,isProjectView:p,showProgressBar:l})})]}),n?(0,o.jsxs)("div",{className:`flex flex-row items-stretch justify-end gap-0.5 flex-initial ${aA.default.total}`,children:[(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:"Total: "}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:(0,o.jsx)(rX.span,{children:y.to(e=>at(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))})})]}):null]})},lc=function(e){let{handle:t,maxRows:r,showProgressBar:a,categories:l,rowsPerCategory:s,showTotal:i=!1,teamSlug:n,projectSlug:c,queryParams:d,billableItemToChartMap:f,selectedProductAndCategory:h,isProjectView:m=!1,invoiceItems:p,staticItems:g,isInBillingCycle:x=!0,planIteration:v,includedCreditAllocation:y,isEmpty:b}=e,{isFocused:j,rows:w,totalValue:_}=aI({view:t.view,data:t.data,chartInteraction:t.chartInteraction,maxRows:r,colorsScale:t.colorsScale,teamSlug:n,projectSlug:c,queryParams:d,billableItemToChartMap:f,isProjectView:m,staticItems:g,invoiceItems:p}),k=_.goal??0,S=Math.max(k-(y??0),0),C=(0,aC.useIsMobile)(),[N,M]=(0,u.useState)("value"),I=(0,u.useMemo)(()=>w[0]?.title==="No Usage"&&1===w.length?["No Usage"]:l&&s?l.filter(e=>{if(!e)return!1;let t=s[e]||[],r=w.filter(e=>{let r=e.title.split(",")[0];return r&&t.includes(r)}),a=r.some(e=>0!==e.value.goal||0!==e.usageValue.goal);return r.length>0&&a}):l,[l,s,w]);return b?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)("div",{className:`flex flex-col items-stretch justify-start gap-2 flex-initial pt-0 ${(0,r8.clsx)(aA.default.container)}`,children:[(0,o.jsxs)(a_.Table,{style:{tableLayout:"fixed",width:"100%"},children:[(0,o.jsx)(a_.Table.Colgroup,{children:Array.from({length:C?2:"plus"===v?4:5}).map((e,t)=>{let r;r=C?[70,30]:"plus"===v?[50,20,15,15]:[35,20,25,10,10];let a={width:`${r[t]}%`,minWidth:0===t?"200px":"100px"};return(0,o.jsx)(a_.Table.Col,{style:a},t)})}),(0,o.jsx)(a_.Table.Header,{className:"geist-hide-on-mobile",children:(0,o.jsx)(a_.Table.Row,{children:m?"plus"===v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a_.Table.Head,{children:"Project"}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{children:"Charge"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a_.Table.Head,{children:"Project"}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{children:"Charge"})]}):"plus"===v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a_.Table.Head,{children:"Product"}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{children:"Usage"}),(0,o.jsx)(a_.Table.Head,{children:"Charge"})]}):x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a_.Table.Head,{children:"Product"}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{children:"Included"}),(0,o.jsx)(a_.Table.Head,{style:{textAlign:"right"},children:"On-demand"}),(0,o.jsx)(a_.Table.Head,{children:"Charge"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a_.Table.Head,{children:"Product"}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{}),(0,o.jsx)(a_.Table.Head,{children:"Usage"}),(0,o.jsx)(a_.Table.Head,{children:"Charge"})]})})}),(0,o.jsx)(a_.Table.Body,{interactive:!0,striped:!0,children:I?I.map(e=>(0,o.jsx)(a9,{category:e,rows:w,rowsPerCategory:s,isMobile:C,mobileValueMode:N,isFocused:j,handle:t,selectedProductAndCategory:h,isProjectView:m,showProgressBar:a,showHeader:!1,isInBillingCycle:x,planIteration:v},e)):(0,o.jsx)(a9,{rows:w,rowsPerCategory:s,isMobile:C,mobileValueMode:N,isFocused:j,handle:t,selectedProductAndCategory:h,isProjectView:m,showProgressBar:a,showHeader:!1,isInBillingCycle:x,planIteration:v})})]}),i&&!C?(0,o.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:["plus"===v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"flex flex-row items-stretch justify-end gap-0.5 flex-initial",children:j||!x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2 mr-1",children:"Subtotal:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:_.goal>0?(0,o.jsx)(rX.span,{children:_.to(e=>at(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))}):(0,o.jsx)("span",{children:"$0.00"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2 mr-1",children:"Subtotal:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:at(k,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:{kind:"custom",singular:"dollar",plural:"dollars"}})})]})}),(0,o.jsx)("div",{className:"flex flex-row items-center justify-end gap-0.5 flex-initial",children:j||!x?(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2",children:"Credits are deducted from total charges for the current billing cycle"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2 mr-0",children:"Credits Applied:"}),(0,o.jsxs)("p",{className:"text-copy-14 mt-2",children:["-",at(y??0,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:{kind:"custom",singular:"dollar",plural:"dollars"}})]})]})}),(0,o.jsxs)("div",{className:`flex flex-row items-stretch justify-end gap-0.5 flex-initial ${aA.default.total}`,children:[(0,o.jsx)("p",{className:"text-copy-14 mt-2 mr-1",children:j||!x?(0,o.jsx)("span",{style:{visibility:"hidden"},children:"Total:"}):"Total:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:j||!x?(0,o.jsx)("span",{style:{visibility:"hidden"},children:"$0.00"}):(0,o.jsx)(o.Fragment,{children:S>0?(0,o.jsx)("span",{children:at(S,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:{kind:"custom",singular:"dollar",plural:"dollars"}})}):(0,o.jsx)("span",{children:"$0.00"})})})]})]}):null,"plus"===v||j?null:(0,o.jsxs)("div",{className:`flex flex-row items-stretch justify-end gap-0.5 flex-initial ${aA.default.total}`,children:[(0,o.jsx)("p",{className:"text-copy-14 mt-2 mr-1",children:"Total:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:_.goal>0?(0,o.jsx)(rX.span,{children:_.to(e=>at(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))}):(0,o.jsx)("span",{children:"$0.00"})})]})]}):null]})},ld=function(e){let{rows:t}=e;return(0,o.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial pt-4",children:Array.from({length:t??2}).map((e,t)=>(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial px-2",children:[(0,o.jsx)(a2.Skeleton,{height:20,width:152-t%2*32}),(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-end gap-8",style:{flex:"0 0 50%"},children:[(0,o.jsx)("div",{className:"flex flex-col items-end justify-start geist-hide-on-mobile",style:{flex:"0 0 50%"},children:(0,o.jsx)(a2.Skeleton,{height:20,width:64+t%2*20})}),(0,o.jsx)("div",{className:"flex flex-col items-end justify-start",style:{flex:"0 0 20%"},children:(0,o.jsx)(a2.Skeleton,{height:20,width:64+t%2*20})}),(0,o.jsx)("div",{className:"flex flex-col items-end justify-start",style:{flex:"0 0 20%"},children:(0,o.jsx)(a2.Skeleton,{height:20,width:64+t%2*20})})]})]},t))})},lf=function(e){let{handle:t,style:r,isProjectView:a=!1,isEmpty:l=!1,isExpanded:s,staticItems:i,planIteration:n,period:c="daily",cumulative:d=!1,onCumulativeChange:f}=e,[h,m]=(0,u.useState)("plus"===n||(s??!1)),p=(0,u.useMemo)(()=>a||!i?.length?t.data.totalValue:t.view.results.reduce((e,r)=>aa(ac(r,t.view.groupBy,t.data.dimensionsMeta),i)?e:e+(r.totalValue[0]??0),0),[t.view,t.data,a,i]),g=p>0;return(0,o.jsxs)("div",{className:a5.default.container,children:[(0,o.jsxs)("div",{onClick:g?()=>{if(!g)return;let e=!h;m(e),e?aO.analytics.track(aF.AnalyticsEvent.USAGE_CHART_EXPANDED,{plan:"pro"}):aO.analytics.track(aF.AnalyticsEvent.USAGE_CHART_COLLAPSED,{plan:"pro"});let t=new URL(window.location.href);h?t.searchParams.delete("chartExpanded"):t.searchParams.set("chartExpanded","true"),window.history.pushState({},"",t)}:void 0,className:`flex flex-row items-center justify-between flex-initial ${(0,r8.clsx)(a5.default.header,!g&&a5.default.disabled)}`,children:[(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial pl-2 h-full",children:[g&&h?(0,o.jsx)(a6.ChevronDown,{size:16,color:"gray-900"}):null,g&&!h?(0,o.jsx)(a3.ChevronRight,{size:16,color:"gray-900"}):null,(0,o.jsxs)("div",{className:"flex flex-col items-start justify-start gap-0 flex-initial",children:[(0,o.jsx)("p",{className:"text-label-13 text-gray-900",children:"On-demand Charges"}),(0,o.jsx)("p",{className:"text-label-14 font-medium text-gray-1000",children:at(p,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:t.data.valuesUnit})})]})]}),(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",children:"plus"!==n&&f?(0,o.jsxs)(aJ.Switch,{className:"w-25",size:"small",children:[(0,o.jsx)(aJ.Switch.Control,{checked:d,label:"Cumulative",onChange:()=>f(!0),value:"cumulative"},"cumulative"),(0,o.jsx)(aJ.Switch.Control,{checked:!d,label:"daily"===c?"Daily":"weekly"===c?"Weekly":"Monthly",onChange:()=>f(!1),value:"non-cumulative"},"non-cumulative")]}):null})]}),g?(0,o.jsx)("div",{className:(0,r8.clsx)(a5.default.content,h&&a5.default.expanded),children:h&&!l?(0,o.jsx)(aj,{handle:t,style:r,isProjectView:a,staticItems:i}):null}):null]})},lh=function(){return(0,o.jsx)("div",{className:a5.default.container,children:(0,o.jsxs)("div",{className:`flex flex-row items-center justify-between flex-initial ${a5.default.header}`,children:[(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial pl-2",children:(0,o.jsx)(a2.Skeleton,{height:20,width:150})}),(0,o.jsx)(a2.Skeleton,{height:20,width:80,className:"pr-4"})]})})};e.s(["Body",()=>aj,"BodySkeleton",()=>lo,"CollapsibleChart",()=>lf,"CollapsibleChartSkeleton",()=>lh,"Controls",()=>la,"ControlsSkeleton",()=>ll,"EmptyBody",()=>ln,"LegendEnt",()=>lu,"LegendPro",()=>lc,"LegendSkeleton",()=>ld,"Root",()=>lr,"ViewsSelector",()=>ls,"ViewsSelectorSekelton",()=>li,"getAggregatedValues",()=>le,"getCumulativeValues",()=>a7,"useUsageTimeseriesChart",()=>lt],2051099)},2737600,e=>{"use strict";var t=e.i(8711407),r=e.i(1176592),a=e.i(2051099),l=e.i(6344231),s=e.i(6621419),i=e.i(1670878),n=e.i(7917902);e.i(2243470);var o=e.i(696150),u=e.i(5937501),c=e.i(499757);function d(e,t){return{index:e,values:Array.from({length:t.length},()=>[0,0]),totalValue:[0,0],metrics:["gross_cost"]}}function f(e,t,r){let a=new Map;return e.results.forEach(e=>{let l=t(e);if(!l)return;a.has(l)||a.set(l,r(e,a.size));let s=a.get(l);if(!s)return;let i=e.values.reduce((e,t,r)=>{let[a,l]=Array.isArray(t)?t:[Number(t),0];return e[r]||(e[r]=[0,0]),e[r][0]+=a,e[r][1]+=l,e},[]);s.values=s.values.map((e,t)=>[e[0]+(i[t]?.[0]||0),e[1]+(i[t]?.[1]||0)]),Array.isArray(e.totalValue)&&(s.totalValue[0]+=e.totalValue[0],s.totalValue[1]+=e.totalValue[1])}),Array.from(a.values()).sort((e,t)=>e.index-t.index)}let h=["Fluid Active CPU","Fluid Provisioned Memory"],m=e=>{if(0===e.length)return 0;let t=[...e].sort((e,t)=>e-t),r=Math.floor(t.length/2);return t.length%2==0?(t[r-1]+t[r])/2:t[r]};var p=e.i(1099325),g=e.i(4252354),x=e.i(2466450);function v(e){let{views:a,style:d,className:f,teamId:x,teamSlug:v,team:j,chartRenderers:w,useValueBasedFiltering:_=!1,includedCreditAllocation:k,forecast:S,scopedProject:C}=e,[{from:N,to:M,period:I,cumulative:A,products:E,range:P,projectId:T,chartExpanded:U,groupBy:V}]=(0,s.useUsageQueryState)(),O=(0,n.useAccount)(),{setProjects:F,setIsProjectsLoading:R}=(0,c.useProjectActions)(),{setProducts:L,setIsProductsLoading:B}=(0,c.useProductActions)(),{setFluidMetrics:D}=(0,c.useFluidActions)(),{from:$,to:H}=(0,r.useMemo)(()=>{let e,t,r=new Date().toISOString();if(N)e=new Date(N).toISOString(),t=M?new Date(M).toISOString():r;else{let{start:r,end:a}=(0,i.getBillingRange)(O.team);if(!r&&!a)return{from:e=(0,p.createDefaultCalendarPresets)("America/Los_Angeles")[g.DATE_RANGE_PRESETS.LAST_30_DAYS].start.toISOString(),to:t=p.endOfToday.toISOString()};e=r?new Date(r).toISOString():"",t=a?new Date(a).toISOString():""}let a=o.DateTime.fromISO(t).setZone("America/Los_Angeles");return a.toISOTime()!==a.startOf("day").toISOTime()&&(t=a.plus({day:1}).startOf("day").toISO()),{from:e,to:t}},[N,M,O.team]),z=(0,r.useMemo)(()=>"current-billing-cycle"===P||"previous-billing-cycle"===P||!N&&!M,[P,N,M]),G=C?.id??T,W=(0,l.useCostMetrics)({teamId:x,from:$||"",to:H||"",format:"timeseries",views:Object.fromEntries(a.map(e=>{let{key:t,groupBy:r}=e;return[t,{groupBy:r}]})),userAgent:`vercel-site.metric-chart-${j.billing?.plan??"unknown"}`}),q=(0,r.useMemo)(()=>W,[W]);(0,r.useEffect)(()=>{if(q.data&&!q.isLoading){let e=new Map,t=new Map,a=q.data.results.dimensionsMeta.project?.values,l=q.data.results.dimensionsMeta.product?.values;q.data.results.views.byProductRegionProject.results.forEach(r=>{let s=0,i=0;Array.isArray(r.totalValue)&&(s=r.totalValue[0],i=r.totalValue[1]);let n=r.dimensionValues.project,o=r.dimensionValues.product;if(n){let t=a?.[n],r=t?.title||n;if(e.has(n)){let t=e.get(n);t&&e.set(n,{...t,cost:t.cost+s,value:t.value+i})}else e.set(n,{id:n,name:r,cost:s,value:i})}if(o){let e=l?.[o],r=e?.title||o;if(t.has(o)){let e=t.get(o);e&&t.set(o,{...e,cost:e.cost+s,value:e.value+i})}else t.set(o,{id:o,name:r,cost:s,value:i})}});let s=Array.from(e.values()).sort((e,t)=>t.cost-e.cost).filter(e=>_?e.value>0:e.cost>0),i=Array.from(t.values()).sort((e,t)=>t.cost-e.cost).filter(e=>{if(_){let t=l?Object.values(l).filter(e=>e?.category==="Subscription Licenses").map(e=>e.title):[];return e.value>0&&!t.includes(e.name)}return e.cost>0}),n=function(e,t){if(t)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let r=e.results.views.byProductRegionProject,a=e.results.times,l=e.results.dimensionsMeta.product?.values;if(!r.results||!l||a.length<6)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let s=r.results.filter(e=>{let t=e.dimensionValues.product;if(!t)return!1;let r=l[t];if(!r)return!1;let a=r.title||t;return h.includes(a)}),i=r.results.filter(e=>{let t=e.dimensionValues.product;return!!t&&!!l[t]});if(0===s.length)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let n=a.map((e,t)=>s.reduce((e,r)=>{let a=r.values[t];return a&&Array.isArray(a)?e+(a[0]??0):e},0)),o=a.map((e,t)=>i.reduce((e,r)=>{let a=r.values[t];return a&&Array.isArray(a)?e+(a[0]??0):e},0)),u=n.findIndex(e=>e>1);if(-1===u)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let c=o.findIndex(e=>e>0);if(u<=c||u>=a.length-1)return{percentage:null,isFluidEnabled:!0,pivotPoint:u};let d=Math.min(u-c,a.length-(u+1));if(d<2)return{percentage:null,isFluidEnabled:!0,pivotPoint:u};let f=m(o.slice(u-d,u)),p=m(o.slice(u+1,u+1+d)),g=null;return f>0&&(g=(f-p)/f*100),{percentage:g,isFluidEnabled:!0,pivotPoint:u}}(q.data,"project"===V);(0,r.startTransition)(()=>{F(s),R(!1),L(i),B(!1),D({percentage:n.percentage,isFluidEnabled:n.isFluidEnabled})})}},[q.data,q.isLoading,F,R,L,B,D,_,V]);let Q=(0,r.useMemo)(()=>{if(!q.data||!E&&!G)return q.data;let e=[];E&&(e=Array.isArray(E)?E:[E]);let t=[];return G&&"all"!==G&&(t=G.includes(",")?G.split(","):[G]),{...q.data,results:{...q.data.results,views:Object.fromEntries(Object.entries(q.data.results.views).map(r=>{let[a,l]=r;return[a,{...l,results:l.results.filter(r=>{let a=r.dimensionValues?.product;if(G&&"all"!==G){let e=r.dimensionValues?.project;if(!e||!t.includes(e))return!1}if(e.length>0){if(!a)return!1;let t=q.data?.results.dimensionsMeta.product?.values[a],r=t?.title||a;if(!e.some(e=>a===e||(0,u.toUrlFormat)(r)===e))return!1}return!0})}]}))}}},[q.data,E,G]);return!q.isLoading&&$&&H?q.error||!q.data?(0,t.jsx)(b,{}):(S&&j.billing?.plan==="pro"&&("daily"===I||P&&"current-billing-cycle"!==P?S.showAllocation=!1:S.showAllocation=!0),(0,t.jsx)(y,{className:f,period:I,cumulative:A,queryResponse:Q||q.data,queryParams:{from:N?Number(N):void 0,to:M?Number(M):void 0,range:P,products:E},style:d,team:j,teamSlug:v,scopedProject:C,views:a,chartExpanded:U,chartRenderers:w,isInBillingCycle:z,includedCreditAllocation:k,forecast:S})):w.skeleton()}function y(e){let{className:l,queryResponse:i,queryParams:n,views:o,style:c,teamSlug:h,scopedProject:m,period:p,cumulative:g,team:v,chartExpanded:y,chartRenderers:b,isInBillingCycle:j,includedCreditAllocation:w,forecast:_}=e,k=(0,r.useMemo)(()=>void 0===n.products?null:Array.isArray(n.products)?n.products:[n.products],[n.products]),[{groupBy:S}]=(0,s.useUsageQueryState)(),C=(0,r.useMemo)(()=>k&&0!==k.length?(0,u.getProductAndCategory)(k[0],i.results.dimensionsMeta):{category:null,product:null},[k,i.results.dimensionsMeta]),N="project"===S,M=(0,r.useMemo)(()=>{var e,t;let r={...i.results,views:{...i.results.views}},a=i.results.views.byProductRegionProject,l=N?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return f(e,e=>e.dimensionValues.project||"",(e,t)=>({...d(t,e.values),dimensionValues:{project:e.dimensionValues.project||""}})).sort((e,t)=>t.totalValue[0]-e.totalValue[0]).slice(0,t)}(a):(e=i.results.dimensionsMeta,f(a,t=>(function(e,t){let r=e.dimensionValues.product;if(!r)return;let a=t.product?.values[r];return a?.title||r})(t,e),(e,t)=>({...d(t,e.values),dimensionValues:{product:e.dimensionValues.product||""}})));return t=N?["project"]:["product"],{...r,views:{...r.views,byProductRegionProject:{...a,groupBy:t,results:l}}}},[N,i.results]),I=(0,a.useUsageTimeseriesChart)({metrics:i.metrics,timeseriesResults:M,intitialViewKey:o[0]?.key,period:p,cumulative:g}),A=(0,r.useMemo)(()=>I.data.totalValues.some(e=>e>(w??0)*.3),[I.data.totalValues,w]),E=v.billing?.plan==="pro"&&v.billing?.planIteration==="plus";!A&&_&&E&&(_.showAllocation=!1);let P=0===i.results.times.length||I.view.results.reduce((e,t)=>e&&0===t.totalValue[0]&&0===t.totalValue[1],!0),[,T]=(0,s.useUsageQueryState)(),U=(0,r.useMemo)(()=>{let e=i.results.dimensionsMeta.product?.values;return e?Object.values(e).filter(e=>e?.category==="Subscription Licenses").map(e=>e.title):[]},[i.results.dimensionsMeta]),V={handle:I,style:c,isProjectView:N,isEmpty:P,isExpanded:y,staticItems:U,planIteration:v.billing?.planIteration??"unbundled",forecast:{credits:w??0,showAllocation:_?.showAllocation??!1,creditsLabel:_?.creditsLabel??"Credit Allocation"},yAxisFormatter:E&&v.billing?.currency?e=>(0,x.formatCurrency)(e.toFixed(2),v.billing?.currency):void 0,period:p,cumulative:g,onPeriodChange:e=>{T({period:e},{replace:!0})},onCumulativeChange:e=>{T({cumulative:e},{replace:!0})}},O=j&&E?w:void 0,F={handle:I,teamSlug:h,projectSlug:m?.name,queryParams:n,selectedProductAndCategory:C,isProjectView:N,billableItemToChartMap:u.billableItemToChartMap,team:v,staticItems:U,isInBillingCycle:j,planIteration:v.billing?.planIteration??"unbundled",includedCreditAllocation:O,isEmpty:P};return(0,t.jsxs)(a.Root,{className:l,minHeight:160,children:[b.body(V),b.legend(F)]})}function b(){return(0,t.jsx)(a.EmptyBody,{})}e.s(["MetricChart",()=>v],2737600)},2368385,e=>{"use strict";var t=e.i(8711407),r=e.i(6143247);function a(e){let{className:a,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)("space-y-2",a),...l})}function l(e){let{className:a,...l}=e;return(0,t.jsx)("h2",{className:(0,r.cn)("text-heading-20","m-0",a),...l})}function s(e){let{className:a,...l}=e;return(0,t.jsx)("p",{className:(0,r.cn)("label-14","text-gray-900","mt-2","mb-0",a),...l})}e.s(["BlockTitleDescription",()=>s,"BlockTitleHeading",()=>l,"BlockTitleRoot",()=>a])},5398400,e=>{e.v({cumulativeCheckbox:"chart-view-module__BkHUiW__cumulativeCheckbox"})},5724885,e=>{"use strict";var t=e.i(8711407),r=e.i(8923565),a=e.i(3869281),l=e.i(6621419),s=e.i(2368385),i=e.i(119294),n=e.i(6352514),o=e.i(7917902),u=e.i(5398400);function c(e){let{defaultMode:s}=e,[{period:c,cumulative:d},f]=(0,l.useUsageQueryState)(),{team:h}=(0,o.useAccount)(),m=c??s,p=d??!1,g=e=>{f({period:e},{replace:!0}),i.analytics.track(n.AnalyticsEvent.USAGE_CHART_MODE_SWITCHED,{mode:e,cumulative:p,plan:h?.billing?.plan})};return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",children:[(0,t.jsxs)(r.Switch,{className:"w-25",size:"small",children:[(0,t.jsx)(r.Switch.Control,{checked:"daily"===m,label:"Daily",onChange:()=>g("daily"),value:"daily"},"daily"),(0,t.jsx)(r.Switch.Control,{checked:"weekly"===m,label:"Weekly",onChange:()=>g("weekly"),value:"weekly"},"weekly"),(0,t.jsx)(r.Switch.Control,{checked:"monthly"===m,label:"Monthly",onChange:()=>g("monthly"),value:"monthly"},"monthly")]}),(0,t.jsx)(a.Checkbox,{checked:p,onChange:e=>{let t=e.target.checked;f({cumulative:t},{replace:!0}),i.analytics.track(n.AnalyticsEvent.USAGE_CHART_MODE_SWITCHED,{mode:m,cumulative:t,plan:h?.billing?.plan})},className:u.default.cumulativeCheckbox,children:"Cumulative"})]})}function d(e){let{description:r,titleOverride:a}=e,[{period:i,cumulative:n}]=(0,l.useUsageQueryState)(),o=a??`${n?"Cumulative ":""}${({daily:"Daily",weekly:"Weekly",monthly:"Monthly"})[i??"daily"]} Consumption Breakdown`;return(0,t.jsxs)(s.BlockTitleRoot,{children:[(0,t.jsx)(s.BlockTitleHeading,{children:o}),r?(0,t.jsx)(s.BlockTitleDescription,{children:r}):null]})}e.s(["MetricChartModes",()=>c,"MetricChartTitle",()=>d])},1773235,e=>{"use strict";var t=e.i(8711407),r=e.i(1176592),a=e.i(5255926),l=e.i(6143247);function s(e){let{className:r,...a}=e;return(0,t.jsx)("h2",{className:(0,l.cn)("text-heading-20","mb-0","mt-2",r),...a})}function i(e){let{className:r,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)("space-y-2","mb-0",r),...a})}var n=e.i(2368385),o=e.i(2504781),u=e.i(8735244),c=e.i(5468328),d=e.i(3993360),f=e.i(2993788);function h(e){let{response:l,teamId:s,plan:i}=e,[n,h]=(0,r.useState)(!1),m=!s||!l||n,p=(0,t.jsx)(o.Button,{disabled:m,onClick:()=>{if(l&&!n){h(!0);try{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vercel-costs.csv",r=new Blob([String(e)],{type:"text/csv"}),a=URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)})(function(e,t){let r=[],a=e.results.views.byProductRegionProject,l=(0,f.createUnitFormatter)({style:"long"});r.push(["ChargePeriodStartTimestamp","ChargePeriodStartDate","Metric","ProjectId","ProjectName","enterprise"===t?"MIUs":"Charges (USD)","Usage","Formatted Usage"].map(e=>JSON.stringify(e)).join(","));let s=new Map;for(let e of a.results){let t=e.dimensionValues.product,r=e.dimensionValues.project,a=e.metrics[1];if(!t)continue;let l=`${t}-${r||""}`;s.has(l)||s.set(l,{productId:t,projectId:r||"",values:e.values.map(()=>[0,0]),metric:a});let i=s.get(l);i&&e.values.forEach((e,t)=>{let[r,a]=Array.isArray(e)?e:[e,0];i.values[t][0]+=r||0,i.values[t][1]+=a||0})}for(let[t,a]of Object.entries(e.results.times)){let i=Number(t);for(let t of s.values()){let{productId:s,projectId:n,metric:o}=t,u=e.results.dimensionsMeta.product?.values[s],c=n?e.results.dimensionsMeta.project?.values[n]:null,d=u?.title||s,f=c?.title||n||"",[h,m]=t.values[i],p=new Date(a).toISOString().split("T")[0],g=o?e.metrics.find(e=>e.slug===o):null,x=g?.unit?l(m,g.unit):"";r.push([a,p,d,n,f,h,m,x].map(e=>JSON.stringify(e)).join(","))}}return r.join("\n")}(l,i)),(()=>h(!1))()}finally{h(!1)}}},type:"secondary","aria-label":"Download CSV",svgOnly:!0,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n?(0,t.jsx)(u.Spinner,{className:"w-50px"}):(0,t.jsx)(d.Download,{className:"w-50px"}),(0,t.jsx)("p",{className:"text-copy-14",children:"Export CSV"})]})});return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(a.Skeleton,{height:40,width:100}),children:m?(0,t.jsx)(c.Tooltip,{text:"Your CSV may take time to generate.",children:p}):p})}var m=e.i(6621419);e.i(2243470);var p=e.i(696150),g=e.i(1683927),x=e.i(6344231),v=e.i(1670878),y=e.i(7917902);function b(e){let{plan:l}=e,[{range:o,from:u,to:c}]=(0,m.useUsageQueryState)(),{data:d}=(0,g.useBillingCycles)(),f=(0,r.useMemo)(()=>{if(!d||"string"==typeof d)return"";if((o||u||c)&&"current-billing-cycle"!==o){if("previous-billing-cycle"===o){let e=j(d.previous.start),t=j(d.previous.end);return`Previous Billing Cycle: ${e} - ${t}`}}else{let e=j(d.current.start),t=j(d.current.end);return`Current Billing Cycle: ${e} - ${t}`}let e=u?j(new Date(u)):j(new Date),t=c?j(new Date(c)):j(new Date);return`${e} - ${t}`},[d,o,u,c]),b=(0,y.useAccount)(),{from:w,to:_}=(0,r.useMemo)(()=>{let e,t,r=new Date().toISOString();if(u)e=new Date(u).toISOString(),t=c?new Date(c).toISOString():r;else{let{start:r,end:a}=(0,v.getBillingRange)(b.team);e=r?new Date(r).toISOString():"",t=a?new Date(a).toISOString():""}let a=p.DateTime.fromISO(t).setZone("America/Los_Angeles");return a.toISOTime()!==a.startOf("day").toISOTime()&&(t=a.plus({day:1}).startOf("day").toISO()),{from:e,to:t}},[u,c,b.team]),k=(0,x.useCostMetrics)({teamId:b.team?.id,from:w||"",to:_||"",format:"timeseries",views:Object.fromEntries([{key:"byProductRegionProject",groupBy:["product","region","project"]}].map(e=>{let{key:t,groupBy:r}=e;return[t,{groupBy:r}]})),userAgent:`vercel-site.usage-overview-${b.team?.billing?.plan??"unknown"}`});return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(a.Skeleton,{height:40,width:"100%",children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)(a.Skeleton,{height:20,width:200}),(0,t.jsx)(a.Skeleton,{height:16,width:450})]}),(0,t.jsx)(a.Skeleton,{height:40,width:100})]})}),children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)(s,{children:"Usage Overview"}),(0,t.jsx)(i,{children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-0 flex-initial",children:(0,t.jsx)(n.BlockTitleDescription,{className:"min-h-[24px]",children:f})})})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(h,{response:k.data,teamId:b.team?.id,plan:l})})]})})}function j(e){return p.DateTime.fromJSDate(new Date(e)).toLocaleString(p.DateTime.DATE_FULL)}e.s(["UsageOverview",()=>b],1773235)},9528889,e=>{"use strict";var t=e.i(8711407),r=e.i(6143247),a=e.i(6912485),l=e.i(5255926),s=e.i(3294237),i=e.i(7797615);let n=(0,s.cva)(["material-base","w-full"],{variants:{variant:{usage:["px-6","py-5","space-y-2.5"],chart:["px-6","pt-6","mb-6","w-full","material-base","space-y-6","pb-6"]}},defaultVariants:{variant:"chart"}});function o(e){let{className:a,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex","gap-4","w-full","flex-col","md:flex-row","mb-4","mt-4","[&>div:first-child]:flex-1","md:[&>div:last-child:not(:only-child)]:flex-1","md:[&>div:last-child:not(:only-child)]:max-w-48",a),...l})}function u(e){let{className:a,...l}=e;return(0,t.jsx)("strong",{className:(0,r.cn)("label-14","font-medium",a),...l})}function c(e){let{className:a,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)("text-heading-32",a),...l})}function d(e){let{className:a,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)("space-y-2",a),...l})}function f(e){if(e.isLoading)return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex h-5 items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(l.Skeleton,{children:(0,t.jsx)("div",{className:"h-3 w-16"})})}),(0,t.jsx)(l.Skeleton,{children:(0,t.jsx)("div",{className:"h-3 w-20"})})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(l.Skeleton,{children:(0,t.jsx)("div",{className:"h-2.5 w-full"})})})]});let{available:r,forecast:s,total:i,used:n,type:o="miu"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-label-14",children:[(0,t.jsx)(h,{type:o,value:n}),(0,t.jsx)("span",{children:" / "}),(0,t.jsx)(h,{className:"text-gray-900",type:o,value:i})]}),void 0!==r?(0,t.jsxs)("div",{className:"text-gray-900",children:[(0,t.jsx)(h,{type:o,value:r}),(0,t.jsx)("span",{children:" available"})]}):(0,t.jsx)("div",{})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Progress,{type:"success",value:n/i*100}),s?(0,t.jsx)("div",{className:"absolute -inset-y-0.5 w-0.5 bg-gray-500",style:{left:`${s/i*100}%`}}):null]})]})}function h(e){let{value:a,type:l="miu",className:s}=e;return"usd"===l?(0,t.jsx)("span",{className:(0,r.cn)(s),children:(0,i.formatNumberUsd)(a)}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:(0,r.cn)("geist-hide-on-mobile",s),children:(0,i.formatNumber)(a)}),(0,t.jsx)("span",{className:(0,r.cn)("geist-show-on-mobile",s),children:(0,i.formatNumberCompact)(a)})]})}function m(e){let{className:r,variant:a,...l}=e;return(0,t.jsx)("div",{className:n({className:r,variant:a}),...l})}e.s(["UsageBlockBody",()=>d,"UsageBlockBox",()=>m,"UsageBlockManagement",()=>f,"UsageBlockOnDemand",()=>c,"UsageBlockRoot",()=>o,"UsageBlockTitle",()=>u])},3512728,e=>{"use strict";var t=e.i(8711407),r=e.i(9528889);function a(e){let{upcomingCommitmentUsage:a,plan:l}=e;if(!a||0===a.creditLedgers.length)return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{children:"enterprise"===l?"Included Allocation (MIU)":"Credits"}),(0,t.jsx)(r.UsageBlockBody,{children:(0,t.jsx)(r.UsageBlockManagement,{available:0,total:0,type:"miu",used:0})})]});let{total:s,remaining:i,currency:n}=a.creditLedgers[0],[o,u,c]=[Math.round(s-i),Math.round(s),Math.round(i)],d="";return"enterprise"===l&&(d="annual"===a.cadence?"Annual Commitment":"monthly"===a.cadence?"Monthly Commitment":"Included Allocation"),"pro"===l&&(d="Included Credit"),(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{children:d}),(0,t.jsx)(r.UsageBlockBody,{children:(0,t.jsx)(r.UsageBlockManagement,{available:c,total:u,type:n,used:o})})]})}function l(e){let{plan:a}=e;return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{children:"enterprise"===a?"Included Allocation (MIU)":"Credits"}),(0,t.jsx)(r.UsageBlockBody,{className:"pt-1",children:(0,t.jsx)(r.UsageBlockManagement,{isLoading:!0})})]})}var s=e.i(1176592),i=e.i(4177906),n=e.i(5005834);function o(e){let{value:r,currency:a}=e;return null===r?(0,t.jsx)(t.Fragment,{children:""}):(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsx)(n.default,{value:Math.floor(r)}),(0,t.jsx)(u,{currency:a,className:"mt-5 font-medium"})]})}let u=e=>{let{currency:r,className:a}=e;return"managed_infrastructure_units"===r?(0,t.jsx)("p",{className:`text-copy-14 ${a}`,children:"MIU"}):(0,t.jsx)("p",{className:`text-copy-14 ${a}`,children:r})};var c=e.i(5255926);function d(e){let{invoice:a,currency:l}=e,n=(0,s.useMemo)(()=>a?.lineItems.reduce((e,t)=>"managed-infra"===t.group?e+Number(t.amount):e,0),[a]);return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{className:"md:text-center",children:"On-demand Charges"}),(0,t.jsx)(r.UsageBlockOnDemand,{className:"pt-1",children:a&&(0,i.filterInvoiceItems)(a).length>0?(0,t.jsx)(o,{value:Number(n),currency:l}):(0,t.jsx)(t.Fragment,{children:""})})]})}function f(){return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{className:"md:text-center",children:"On-demand Charges"}),(0,t.jsx)(r.UsageBlockOnDemand,{className:"pt-3",children:(0,t.jsx)(c.Skeleton,{children:(0,t.jsx)("div",{className:"h-10 w-full"})})})]})}var h=e.i(6621419),m=e.i(2368385),p=e.i(499757),g=e.i(1717203),x=e.i(7557283),v=e.i(4726513);function y(e){let l,{upcomingCommitmentUsage:s,invoice:i,plan:n,planIteration:o,showV2Allocation:u,canUpdateBillingPlan:c}=e,{can:f,isLoading:y}=(0,g.default)(),[{range:b,to:j,from:w}]=(0,h.useUsageQueryState)(),_=(0,p.usePresets)(),k=y?c:f(x.Action.Update,x.Resource.BillingPlan);if(s?.creditLedgers.length===0)return null;let S=s?.creditLedgers[0]?.currency??"USD";if(u){let e=s?.creditLedgers[0].remaining??0,a=s?.creditLedgers[0].total??0,o=i?.lineItems.reduce((e,t)=>"managed-infra"===t.group&&t.consumption?e+Number(t.consumption.onDemand):e,0)??0;l=(0,t.jsx)(r.UsageBlockRoot,{children:(0,t.jsx)(v.CreditUsageCompact,{plan:n,currency:S,creditsApplied:a-e,creditsAllocated:a,balance:o,className:"p-5",source:"usage-page",canUpdateBillingPlan:k})})}else l=(0,t.jsxs)(r.UsageBlockRoot,{children:[(0,t.jsx)(a,{upcomingCommitmentUsage:s,plan:n}),(0,t.jsx)(d,{invoice:i,currency:S})]});let C=(0,t.jsx)(m.BlockTitleDescription,{className:"mt-0 min-h-[24px]",children:"Included allocation and on-demand charges are only available for the current billing cycle."});return("pro"===n&&"plus"===o&&(C=(0,t.jsx)(m.BlockTitleDescription,{className:"mt-0 min-h-[24px]",children:"Credits allocation is only available for the current billing cycle."})),null===s||void 0===i)?null:void 0===b&&void 0===w&&void 0===j||"current-billing-cycle"===b||w===_[0]?.start&&j===_[0]?.end?l:C}function b(e){let{plan:a,planIteration:s}=e;return"pro"===a&&"plus"===s?(0,t.jsx)(v.CreditUsageCompactSkeleton,{}):(0,t.jsxs)(r.UsageBlockRoot,{children:[(0,t.jsx)(l,{plan:a}),(0,t.jsx)(f,{})]})}e.s(["UsageAllocationSection",()=>y,"UsageAllocationSectionSkeleton",()=>b],3512728)},5653937,e=>{"use strict";var t=e.i(8711407),r=e.i(6143247);let a=(0,e.i(1176592).forwardRef)(function(e,a){let{className:l,...s}=e;return(0,t.jsx)("div",{className:"-ml-6 w-[calc(100%+48px)] overflow-auto",children:(0,t.jsx)("div",{className:(0,r.cn)("px-6",l),ref:a,...s})})});e.s(["UsageTableScrollContainer",()=>a])},2326631,e=>{"use strict";var t=e.i(8711407),r=e.i(2051099),a=e.i(5653937),l=e.i(9528889),s=e.i(5937501),i=e.i(1176592);function n(e){let{children:r,marginTop:s="0px",withBlockBox:i=!0}=e,n=(0,t.jsx)(a.UsageTableScrollContainer,{style:{marginTop:s},children:r});return i?(0,t.jsx)(l.UsageBlockBox,{variant:"chart",children:n}):n}function o(e){let t=(0,i.useMemo)(()=>{let t=e.product?.values;if(!t)return;let r={};for(let e of Object.values(t)){let t=e.category,a=e.title;t&&a&&(r[t]||(r[t]=[]),r[t].push(a))}return r},[e]),r=(0,i.useMemo)(()=>{if(t)return Object.keys(t).sort((e,t)=>{let r=s.CATEGORIES.indexOf(e),a=s.CATEGORIES.indexOf(t);return -1===r&&-1===a?e.localeCompare(t):-1===r?1:-1===a?-1:r-a||e.localeCompare(t)})},[t]);return{rowsPerCategory:t,categories:r}}function u(e){let{handle:a,style:l,isProjectView:s,isEmpty:i,isExpanded:n,staticItems:o,planIteration:u,period:c,cumulative:d,onPeriodChange:f,onCumulativeChange:h}=e;return i?(0,t.jsx)(r.EmptyBody,{}):(0,t.jsx)(r.CollapsibleChart,{handle:a,style:l,isProjectView:s,isEmpty:i,isExpanded:n,staticItems:o,planIteration:u??"unbundled",period:c,cumulative:d,onPeriodChange:f,onCumulativeChange:h})}function c(e){let{handle:a,teamSlug:l,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,team:f,staticItems:h,isInBillingCycle:m=!0,planIteration:p,includedCreditAllocation:g,isEmpty:x}=e,{rowsPerCategory:v,categories:y}=o(a.data.dimensionsMeta);return x?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(n,{marginTop:"20px",withBlockBox:!1,children:(0,t.jsx)(r.LegendPro,{handle:a,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:c?void 0:y,rowsPerCategory:c?void 0:v,showTotal:!0,teamSlug:l,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,invoiceItems:f.billing?.invoiceItems,staticItems:h,isInBillingCycle:m,planIteration:p??"unbundled",includedCreditAllocation:g,isEmpty:x})})}function d(e){let{handle:a,style:l,isProjectView:s,isEmpty:i,staticItems:n,forecast:o,yAxisFormatter:u}=e;return i?(0,t.jsx)(r.EmptyBody,{}):(0,t.jsx)(r.Body,{handle:a,style:l,isProjectView:s,staticItems:n,forecast:o,yAxisFormatter:u})}function f(e){let{handle:a,teamSlug:l,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,staticItems:f,planIteration:h,isEmpty:m}=e,{rowsPerCategory:p,categories:g}=o(a.data.dimensionsMeta);return m?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(n,{marginTop:"20px",withBlockBox:!1,children:(0,t.jsx)(r.LegendEnt,{handle:a,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:c?void 0:g,rowsPerCategory:c?void 0:p,showTotal:!0,teamSlug:l,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,staticItems:f,planIteration:h??"unbundled"})})}function h(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.CollapsibleChartSkeleton,{}),(0,t.jsx)(a.UsageTableScrollContainer,{style:{marginTop:"20px"},children:(0,t.jsx)(r.LegendSkeleton,{})})]})}function m(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.BodySkeleton,{}),(0,t.jsx)(a.UsageTableScrollContainer,{style:{marginTop:"20px"},children:(0,t.jsx)(r.LegendSkeleton,{})})]})}function p(e){let{handle:a,teamSlug:l,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,planIteration:f,includedCreditAllocation:h,team:m,staticItems:p,isInBillingCycle:g=!0,isEmpty:x}=e,{rowsPerCategory:v,categories:y}=o(a.data.dimensionsMeta);return(0,t.jsx)(n,{marginTop:"20px",withBlockBox:!1,children:(0,t.jsx)(r.LegendPro,{handle:a,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:c?void 0:y,rowsPerCategory:c?void 0:v,showTotal:!0,teamSlug:l,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,invoiceItems:m.billing?.invoiceItems,staticItems:p,isInBillingCycle:g,planIteration:f??"unbundled",includedCreditAllocation:h,isEmpty:x})})}e.s(["EntChartBody",()=>d,"EntLegend",()=>f,"EntSkeletonContent",()=>m,"ProChartBody",()=>u,"ProLegend",()=>c,"ProPlusLegend",()=>p,"ProSkeletonContent",()=>h])}]);

//# debugId=b206bf4f-78d5-b978-fe2b-a441240a9234
//# sourceMappingURL=48cd5ea552a784ab.js.map